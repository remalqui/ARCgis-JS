/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import r from"../../request.js";import{urlToObject as t}from"../../core/urlUtils.js";import{getJsonType as s}from"../../geometry/support/jsonUtils.js";import{encodeGeometries as e,decodeGeometries as i}from"./utils.js";async function o(o,m,f){const n="string"==typeof o?t(o):o,p=m[0].spatialReference,a=s(m[0]),u={...f,query:{...n.query,f:"json",sr:p.wkid??JSON.stringify(p),geometries:JSON.stringify(e(m))}},{data:y}=await r(n.path+"/simplify",u);return i(y.geometries,a,p)}export{o as simplify};
