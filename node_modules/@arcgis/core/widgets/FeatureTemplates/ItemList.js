/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{Heading as e}from"../support/Heading.js";import{classes as t}from"../support/widgetUtils.js";import{tsx as n}from"../support/jsxFactory.js";const r="esri-item-list",o={base:r,group:`${r}__group`,scroller:`${r}__scroller`,scrollerEnabled:`${r}__scroller--enabled`,groupHeader:`${r}__group__header`,item:`${r}__list-item`,itemIcon:`${r}__list-item-icon`,itemContentEnd:`${r}__list-item-content-end`,noMatchesMessage:`${r}__no-matches-message`,filterContainerSticky:`${r}__filter-container--sticky`},l=4;function i(e){const{filterText:t="",id:r,messages:o,onFilterChange:l,...i}=e;return n("div",{key:r},e.filterEnabled??1?c({filterText:t,id:r,messages:o,onFilterChange:l}):null,a({...i,enableListScroll:e.enableListScroll??!0,filterText:t,messages:o}))}function s(e){return!!e.items}function a(e){const{headingLevel:r,items:l,...i}=e;return 0===l.length?n("div",{class:o.noMatchesMessage,key:"no-matches"},e.messages.noMatches):n("div",{class:t({[o.scroller]:!0,[o.scrollerEnabled]:!!e.enableListScroll}),key:"item-container"},l.map((e=>s(e)?p({...i,group:e,headingLevel:r}):d({...i,grouped:!0,item:e}))))}function c(e){const{messages:t,filterText:r,enableListScroll:l}=e;return n("div",{key:"filter",class:l?void 0:o.filterContainerSticky},n("calcite-input",{onCalciteInputInput:t=>{const n=t.currentTarget;e.onFilterChange&&e.onFilterChange(n.value)},placeholder:t.filterPlaceholder,value:r,type:"search"}))}function d(e){const{grouped:t,identify:r,item:l,onItemMouseEnter:i,onItemMouseLeave:s,onItemSelect:a,renderIcon:c,renderCustomItem:d,renderItemContent:p,renderItemContentEnd:g,renderItemLabel:f,renderItemDescription:v,selectedItem:_}=e,b=m(l,r),h=b===m(_,r),I=d?.(e);if(I)return I;const y=p?.(l),C=g?.(l);return n("calcite-list-item",{"aria-level":t?"2":"",class:o.item,"data-item":l,key:b,label:y?void 0:f?.(l)??l.label??void 0,description:y?void 0:v?.(l)??void 0,selected:h,tabIndex:0,afterUpdate:e=>{e.selected=h},onCalciteListItemSelect:e=>{e.preventDefault(),a?.(u(e))},onmouseenter:e=>i?.(u(e)),onmouseleave:e=>s?.(u(e))},n("div",{key:"content-start",class:o.itemIcon,slot:"content-start"},c?.(l)),y?n("div",{key:"content",slot:"content"},y):null,C?n("div",{key:"content-end",class:o.itemContentEnd,slot:"content-end"},C):null)}function m(e,t){return e?`${t?.(e)||e.id}__${e.label}`:""}function u(e){return e.currentTarget["data-item"]}function p(t){const{group:r,headingLevel:i=l,selectionMode:s="none",renderCustomGroupContent:a,...c}=t,m=a?.(t);return n("div",{class:o.group,key:r.label??void 0},n(e,{level:i,class:o.groupHeader},r.label),m||n("calcite-list",{selectionMode:s,selectionAppearance:"border"},r.items.map((e=>d({...c,item:e,grouped:!0})))))}export{i as ItemList,p as renderGroup,d as renderItem};
