/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{assumeNonNull as t}from"./maybe.js";import{trackAccess as e}from"./accessorSupport/tracking.js";import{SimpleObservable as s}from"./accessorSupport/tracking/SimpleObservable.js";class i{constructor(t=(t=>t.values().next().value)){this._peeker=t,this._observable=new s,this._items=new Set}get length(){return e(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let t;for(t of this._items);return t}peek(){if(0!==this.length)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return e(this._observable),this._items.has(t)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(t(e)),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(t(e)),this._observable.notify(),e}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){const e=this.length;return this._items.forEach((e=>{t(e)||this._items.delete(e)})),e!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){e(this._observable),yield*this._items}}export{i as default};
