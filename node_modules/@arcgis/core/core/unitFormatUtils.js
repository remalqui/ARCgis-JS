/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{ByteSizeUnit as t}from"./ByteSizeUnit.js";import{cyclicalDegrees as n}from"./Cyclical.js";import{clamp as r}from"./mathUtils.js";import{replace as i}from"./string.js";import{preferredMetricLengthUnit as e,convertUnit as o,preferredMetricVerticalLengthUnit as u,preferredImperialLengthUnit as s,preferredImperialVerticalLengthUnit as c,preferredMetricAreaUnit as a,preferredImperialAreaUnit as m}from"./unitUtils.js";import{formatNumber as f}from"../intl/number.js";function l(t,n,r){return t.units[n][r]}function b(t,n,r,i=2,e="abbr"){return`${f(n,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:n>0?"never":"exceptZero"})} ${l(t,r,e)}`}function g(t,n,r,i=2,e="abbr"){return`${f(n,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:"exceptZero"})} ${l(t,r,e)}`}function p(t,n,r,i=2,u="abbr"){const s=e(n,r);return b(t,o(n,r,s),s,i,u)}function D(t,n,r,i=2,u="abbr"){const s=e(n,r);return g(t,o(n,r,s),s,i,u)}function x(t,n,r,i=2,e="abbr"){const s=u(n,r);return b(t,o(n,r,s),s,i,e)}function F(t,n,r,i=2,e="abbr"){const s=u(n,r);return g(t,o(n,r,s),s,i,e)}function y(t,n,r,i=2,e="abbr"){const u=s(n,r);return b(t,o(n,r,u),u,i,e)}function h(t,n,r,i=2,e="abbr"){const u=s(n,r);return g(t,o(n,r,u),u,i,e)}function d(t,n,r,i=2,e="abbr"){const u=c(n,r);return b(t,o(n,r,u),u,i,e)}function B(t,n,r,i=2,e="abbr"){const u=c(n,r);return g(t,o(n,r,u),u,i,e)}function M(t,n,r,i=2,e="abbr"){const u=a(n,r);return b(t,o(n,r,u),u,i,e)}function $(t,n,r,i=2,e="abbr"){const u=m(n,r);return b(t,o(n,r,u),u,i,e)}function j(t,n,r=2){let i=o(t,n,"degrees"),e=i-Math.floor(i);i-=e,e*=60;let u=e-Math.floor(e);return e-=u,u*=60,`${i.toFixed()}Â° ${e.toFixed()}' ${u.toFixed(r)}"`}function S(t,r,i,e,u){u=u??2;let s=n.normalize(z(o(t,r,"degrees"),i,e),0,!0);const c={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:u,minimumFractionDigits:u,signDisplay:s>0?"never":"exceptZero"};return s=Z(s,c),f(s,c)}function w(t,n,r,i,e){r!==i&&(t=-t);const u={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e=e??2,minimumFractionDigits:e,signDisplay:"exceptZero"};let s=o(t,n,"degrees")%360;return s=Z(s,u),f(s,u)}const U=new Map;function Z(t,n){const r=JSON.stringify(n);let i=U.get(r);return i||(i=new Intl.NumberFormat("en-US",n),U.set(r,i)),/\-?\+?360/.test(i.format(t))?0:t}function z(t,n,r){if(n===r)return t;switch(r){case"arithmetic":return I(t);case"geographic":return O(t)}}function I(t){return 90-t}function O(t){return-t-90}const T=["B","kB","MB","GB","TB"];function v(n,e){let o=0===e?0:Math.floor(Math.log(e)/Math.log(t.KILOBYTES));o=r(o,0,T.length-1);const u=f(e/t.KILOBYTES**o,{maximumFractionDigits:2});return i(n.units.bytes[T[o]],{fileSize:u})}export{S as formatAngleDegrees,j as formatDMS,b as formatDecimal,v as formatFileSize,$ as formatImperialArea,y as formatImperialLength,h as formatImperialRelativeLength,B as formatImperialRelativeVerticalLength,d as formatImperialVerticalLength,M as formatMetricArea,p as formatMetricLength,D as formatMetricRelativeLength,F as formatMetricRelativeVerticalLength,x as formatMetricVerticalLength,w as formatRelativeAngleDegrees,g as formatRelativeDecimal,l as unitName};
