/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{createLength as n}from"../../core/quantityUtils.js";import{lengthUnitFromSpatialReference as t,verticalLengthUnitFromSpatialReference as r}from"../../core/unitUtils.js";import{i as e,s as i}from"../../chunks/vec3.js";import{c as l}from"../../chunks/vec3f64.js";import{projectVectorToVector as o}from"../../geometry/projection.js";import{equals as u}from"../../geometry/support/spatialReferenceUtils.js";import{computeEuclideanMeasurementSR as c}from"./measurementUtils.js";var a;function s(n){return p(n,a.Direct)}function f(n){return p(n,a.Horizontal)}function p(r,e){const{hasZ:i,spatialReference:l}=r,o=c(l);let u=0;const s=t(o);if(null==s)return null;const f=e===a.Direct?x:Z;for(const n of r.paths){if(n.length<2)continue;const t=n.length-1;for(let r=0;r<t;++r){const t=n[r];H[0]=t[0],H[1]=t[1],H[2]=i?t[2]:0;const e=n[r+1];V[0]=e[0],V[1]=e[1],V[2]=i?e[2]:0;const o=f(H,V,l);if(null==o)return null;u+=o.value}}return n(u,s)}function h(n,t){const{spatialReference:r}=n;return u(r,t.spatialReference)?(H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,V[0]=t.x,V[1]=t.y,V[2]=t.hasZ?t.z:0,v(H,V,r)):null}function z(n,t){const{spatialReference:r}=n;return u(r,t.spatialReference)?(H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,V[0]=t.x,V[1]=t.y,V[2]=t.hasZ?t.z:0,x(H,V,r)):null}function m(n,t){const{spatialReference:r}=n;return u(r,t.spatialReference)?(H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,V[0]=t.x,V[1]=t.y,V[2]=t.hasZ?t.z:0,Z(H,V,r)):null}function y(n,t){const{spatialReference:r}=n;return u(r,t.spatialReference)?(H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,V[0]=t.x,V[1]=t.y,V[2]=t.hasZ?t.z:0,j(H,V,r)):null}function R(n){return H[0]=n.x,H[1]=n.y,H[2]=n.hasZ?n.z:0,g(H,n.spatialReference)}function v(t,r,e){const i=D(t,r,e);return null!=i?{direct:n(i.direct,i.unit),horizontal:n(i.horizontal,i.unit),vertical:n(i.vertical,i.unit)}:null}function x(t,r,e){const i=D(t,r,e,a.Direct);return null!=i?n(i.direct,i.unit):null}function Z(t,r,e){const i=D(t,r,e,a.Horizontal);return null!=i?n(i.horizontal,i.unit):null}function d(t,r,e){const i=D(t,r,e,a.Vertical);return null!=i?n(Math.abs(i.verticalSigned),i.unit):null}function j(t,r,e){const i=D(t,r,e,a.Vertical);return null!=i?n(i.verticalSigned,i.unit):null}function g(t,e){const i=r(e);return null!=i?n(t[2],i):null}function D(n,r,l,u){const s=c(l),f=t(s);if(null==f)return null;const p=r[2]-n[2];if(u===a.Vertical)return{verticalSigned:p,unit:f};if(!o(n,l,U,s)||!o(r,l,S,s))return null;if(u===a.Direct){return{direct:e(S,U),unit:f}}if(i(b,n[0],n[1],r[2]),!o(b,l,b,s))return null;const h=e(b,S);if(u===a.Horizontal)return{horizontal:h,unit:f};return{direct:e(S,U),horizontal:h,vertical:Math.abs(p),unit:f}}!function(n){n[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical"}(a||(a={}));const H=l(),V=l(),U=l(),S=l(),b=l();export{g as elevation,R as elevationOfPoint,x as euclideanDirectDistance,z as euclideanDirectDistanceBetweenPoints,v as euclideanDistance,h as euclideanDistanceBetweenPoints,Z as euclideanHorizontalDistance,m as euclideanHorizontalDistanceBetweenPoints,f as euclideanHorizontalLength,s as euclideanLength,d as verticalDistance,j as verticalSignedDistance,y as verticalSignedDistanceBetweenPoints};
