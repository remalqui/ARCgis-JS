/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{dragGraphic as t,resetGraphic as n}from"../../../../interactive/dragEventPipeline.js";function e(e,a,r,c){const i=e.graphic,s=(t,n)=>a({action:t,graphic:i,dxScreen:n.screenDeltaX,dyScreen:n.screenDeltaY});return r(((e,a,r)=>(a.next((t=>("start"===t.action&&s("start",t),t))).next(t(i,c)).next((t=>{switch(t.action){case"start":case"update":(t.translationX||t.translationY||t.translationZ)&&s("update",t);break;case"end":s("end",t)}return t})),{steps:a,cancel:r=r.next(n(i)).next((t=>(s("end",{screenDeltaX:0,screenDeltaY:0}),t)))})))}function a(t){if(null==t||"polyline"!==t.type&&"polygon"!==t.type)return 0;const n=("polyline"===t.type?t.paths:t.rings)[0];if(!n||n.length<2)return 0;const e=n[0],a=n[1];return Math.atan2(a[1]-e[1],a[0]-e[0])}function r(t){if(null==t||null==t.axis)return 1;const{mapStart:n,mapEnd:e,axis:a}=t,r=[e.x-n.x,e.y-n.y];return r[0]*a[0]+r[1]*a[1]>0?1:-1}export{r as axisConstrainedDragSign,e as createGraphicMoveDragPipeline,a as shapeOrientation};
