/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{createRenderScreenPointArray3 as e}from"../../../../../core/screenUtils.js";import{f as r}from"../../../../../chunks/mat4f64.js";import{f as o,r as n,p as t,b as s}from"../../../../../chunks/vec3.js";import{c}from"../../../../../chunks/vec3f64.js";import{normal as u,fromPositionAndNormal as i,create as d}from"../../../../../geometry/support/plane.js";import{makeDehydratedPoint as l}from"../../../../../layers/graphics/dehydratedFeatures.js";import{PlaneType as f,OffsetEdgeVertex as p}from"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js";function a(e,r,o){const n="on-the-ground"===o.mode?f.XY:f.XYZ;return new p(e,n,r,0)}function m(e,r,n){const t=c();if(!e.renderCoordsHelper.toRenderCoords(r,t))return null;const s=j(e,r,u(n.plane)),l=j(e,r,n.edgeDirection);if(null==s||null==l)return null;const f=o(c(),s,l);return i(t,f,d())}function j(e,r,o){const t=l(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=c(),u=c();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(t,u)?n(u,s,u):null}function h(e,t,s){const i=u(e),d=n(c(),t,s),l=o(c(),d,i),f=o(c(),d,l);return r(d[0],d[1],d[2],0,l[0],l[1],l[2],0,f[0],f[1],f[2],0,0,0,0,1)}function C(r,o,n){const c=n.projectToRenderScreen(r,e()),u=n.projectToRenderScreen(o,e());return null!=c&&null!=u?t(s(c,c,u)):0}export{m as createEdgeOffsetIntersectionPlane,a as createEdgeOffsetOperation,h as edgeOffsetRotationMatrix,C as screenEdgeLengthSquared};
