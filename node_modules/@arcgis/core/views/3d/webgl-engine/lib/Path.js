/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{l as t,n as i,c as s}from"../../../../chunks/vec3.js";import{f as o}from"../../../../chunks/vec3f64.js";import{newFloatArray as h}from"../../../../geometry/support/FloatArray.js";class e{constructor(t,i,s,e){this.vertices=t,this.positionsES=i,this.offset=e;const n=t.length,r=Math.floor(n/2),v=this.offset+3*r,g=s[v],f=s[v+1],c=s[v+2];this.origin=o(g,f,c),this.positions=h(3*n);const a=this.offset+3*n;for(let o=this.offset;o<a;o+=3)this.positions[o]=s[o]-g,this.positions[o+1]=s[o+1]-f,this.positions[o+2]=s[o+2]-c;this.updatePathVertexInformation()}updatePathVertexInformation(){const o=this.vertices.length,h=this.vertices[0];let e=this.offset;const n=this.positions;h.vRight[0]=n[e+3]-n[e],h.vRight[1]=n[e+4]-n[e+1],h.vRight[2]=n[e+5]-n[e+2],e+=3;let r=t(h.vRight);h.vMinSiblingLength=r,i(h.vRight,h.vRight);let v=h;for(let g=1;g<o;++g){const h=this.vertices[g];if(h.vLeft=v.vRight,g<o-1){h.vRight[0]=n[e+3]-n[e],h.vRight[1]=n[e+4]-n[e+1],h.vRight[2]=n[e+5]-n[e+2];const s=t(h.vRight);h.vMinSiblingLength=Math.min(r,s),r=s,i(h.vRight,h.vRight)}else s(h.vRight,h.vLeft),h.vMinSiblingLength=r;v=h,e+=3}}}export{e as Path};
