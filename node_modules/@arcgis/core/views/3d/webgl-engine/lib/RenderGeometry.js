/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{generateUID as r}from"../../../../core/uid.js";import{c as t}from"../../../../chunks/mat4.js";import{c as s}from"../../../../chunks/mat4f64.js";import{m as e}from"../../../../chunks/vec3.js";import{N as i,c as n}from"../../../../chunks/sphere.js";import{maxScale as o}from"../../support/mathUtils.js";class a{constructor(t,e={}){this.geometry=t,this.screenToWorldRatio=1,this._transformation=s(),this._shaderTransformation=null,this._boundingSphere=null,this.id=r(),this.layerUid=e.layerUid,this.graphicUid=e.graphicUid,this.shaderTransformer=e.shaderTransformer,this.castShadow=e.castShadow??!1}get transformation(){return this._transformation}get boundingInfo(){return this.geometry.boundingInfo}updateTransformation(r){r(this._transformation),this._shaderTransformation=this._boundingSphere=null}shaderTransformationChanged(){this._shaderTransformation=null}get boundingSphere(){return this._boundingSphere?this._boundingSphere:this.boundingInfo?(this._boundingSphere=e(n(),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*o(this.shaderTransformation),this._boundingSphere):i}get hasShaderTransformation(){return null!=this.shaderTransformer}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return null==this.shaderTransformer?this.transformation:(this._shaderTransformation||(this._shaderTransformation=t(s(),this.shaderTransformer(this.transformation))),this._shaderTransformation)}get indices(){return this.geometry.indices}get vertexAttributes(){return this.geometry.vertexAttributes}get highlights(){return this.geometry.highlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(r){this.geometry.visible=r}}class h extends a{}export{a as RenderGeometry,h as ValidatedRenderGeometry};
