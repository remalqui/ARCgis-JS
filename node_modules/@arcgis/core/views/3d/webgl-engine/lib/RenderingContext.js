/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{AppleAmdDriverHelper as e}from"../../../webgl/AppleAmdDriverHelper.js";import{RenderingContext as r}from"../../../webgl/RenderingContext.js";class s extends r{constructor(e,r,s){super(e,r),this.newCache=s,this._refCount=1,this._appleAmdDriverHelper=null}destroy(){--this._refCount>0||this.dispose()}ref(){++this._refCount}dispose(){super.dispose(),this._appleAmdDriverHelper?.dispose()}bindTechnique(e,r,s,t){return this.useProgram(e.program),e.bindPipelineState(this,s?.slot,!!t),e.program.bindPass(r,s),e.program}get appleAmdDriverHelper(){return this.driverTest.drawArraysRequiresIndicesTypeReset.result?(this._appleAmdDriverHelper=this._appleAmdDriverHelper??new e(this),this._appleAmdDriverHelper):null}get test(){return this.programCache.test}}export{s as RenderingContext};
