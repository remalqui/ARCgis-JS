/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{deprecatedFunction as e}from"../../core/deprecate.js";import r from"../../core/Logger.js";import{c as n}from"../../chunks/mat4f64.js";import{projectBuffer as t,computeTranslationToOriginAndRotation as o}from"../../geometry/projection.js";import s from"./externalRenderers/ExternalRendererStore.js";const i=new s;function a(e,r){i.add(e,r)}function d(e,r){i.remove(e,r)}function c(e){e._stage.renderView.requestRender()}function f(e,r,n,o,s,i,a){return o=o||e.spatialReference,t(r,o,n,s,e.renderCoordsHelper.spatialReference,i,a)?s:null}function u(e,r,n,o,s,i,a){return i=i||e.spatialReference,t(r,e.renderCoordsHelper.spatialReference,n,o,i,s,a)?o:null}function l(e,r,t,s){return s||(s=n()),t=t||e.spatialReference,o(t,r,s,e.renderCoordsHelper.spatialReference)?s:null}function m(e){return e.state.camera.clone()}function p(e){return{add:a.bind(this,e),remove:d.bind(this,e),requestRender:c.bind(this,e),toRenderCoordinates:f.bind(this,e),fromRenderCoordinates:u.bind(this,e),renderCoordinateTransformAt:l.bind(this,e)}}function R(n){const t=r.getLogger("esri/views/3d/externalRenderers");e(t,"forceWebGLContext",{moduleName:"esri/views/3d/externalRenderers",version:"4.27",see:"https://developers.arcgis.com/javascript/latest/system-requirements/"}),2!==n&&t.warn(`Requested context version '${n}' is not supported! Using a WebGL2 context.`)}export{a as add,p as bind,R as forceWebGLContext,u as fromRenderCoordinates,m as getRenderCamera,d as remove,l as renderCoordinateTransformAt,c as requestRender,f as toRenderCoordinates};
