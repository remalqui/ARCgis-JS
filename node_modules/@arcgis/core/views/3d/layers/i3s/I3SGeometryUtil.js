/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{t,a as e}from"../../../../chunks/vec3.js";import{c as r}from"../../../../chunks/vec3f64.js";import{projectBuffer as o}from"../../../../geometry/projection.js";import{create as n,set as a,NEGATIVE_INFINITY as m,expandWithBuffer as s,ZERO as u}from"../../../../geometry/support/aaBoundingBox.js";import{newDoubleArray as f}from"../../../../geometry/support/DoubleArray.js";function c(t,e,r){const n=f(24);return f=>{let c=f.meta.featureExtents;if(null==c){c=new Float64Array(6*f.meta.featureIds.length),f.meta.featureExtents=c;for(let t=0;t<c.length;t+=6)c[t]=Number.POSITIVE_INFINITY}const l=new Float64Array(c.buffer,6*f.index*Float64Array.BYTES_PER_ELEMENT,6);return l[0]===Number.POSITIVE_INFINITY&&(i(f.index,r,f.meta.objectHandle,n,0),o(n,e,0,n,t,0,8)?(a(l,m),s(l,n,0,8)):a(l,u)),l}}function i(r,o,n,a,m){const s=o.getComponentAabb(n,r,p),u=o.getObjectTransform(n);for(let f=0;f<8;++f)I[0]=1&f?s[0]:s[3],I[1]=2&f?s[1]:s[4],I[2]=4&f?s[2]:s[5],t(I,I,u.rotationScale),e(I,I,u.position),a[m++]=I[0],a[m++]=I[1],a[m++]=I[2];return a}const l=24,p=n(),I=r();export{l as BOUNDING_BOX_CORNERS_POINTS_STRIDE,i as boundingBoxCornerPoints,c as createGetFeatureExtent};
