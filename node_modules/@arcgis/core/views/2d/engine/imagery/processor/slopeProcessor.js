/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{setSingleImageTextures as e,setCoordsAndTransforms as r}from"./utils.js";const t={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/slope",attributes:new Map([["a_position",0],["a_texcoord",1]])};function o(e,r){const{painter:o,rasterFunction:i}=e,{slopeType:s}=i.parameters,a="percent-rise"===s?["percentRise"]:[];return o.materialManager.getProgram(t,a)}function i(t,o,i){e(t,o,i),r(o);const{width:s,height:a,resolution:n}=i,{zFactor:c,slopeType:f,pixelSizePower:p,pixelSizeFactor:u}=t.rasterFunction.parameters;o.setUniform2fv("u_srcImageSize",[s,a]),o.setUniform2fv("u_cellSize",[n,n]),o.setUniform1f("u_zFactor",c),o.setUniform1f("u_pixelSizePower","adjusted"===f?p:0),o.setUniform1f("u_pixelSizeFactor","adjusted"===f?u:0)}const s={createProgram:o,bindTextureAndUniforms:i};export{s as default};
