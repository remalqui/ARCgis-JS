/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{nullifyNonNullableForDispose as r}from"../../../../../../core/maybe.js";import{TextureWrapMode as e,RenderbufferFormat as s}from"../../../../../webgl/enums.js";import{FramebufferObject as t}from"../../../../../webgl/FramebufferObject.js";import{RenderbufferDescriptor as o}from"../../../../../webgl/RenderbufferDescriptor.js";import{TextureDescriptor as i}from"../../../../../webgl/TextureDescriptor.js";function h(r,h,u){const c=new i(h,u);return c.wrapMode=e.CLAMP_TO_EDGE,new t(r,c,new o(s.STENCIL_INDEX8,h,u))}class u{constructor(){this._width=void 0,this._height=void 0,this._resources=null}dispose(){this._resources&&(this._resources.sharedBlur1Fbo.dispose(),this._resources.sharedBlur2Fbo.dispose(),this._resources=r(this._resources))}_initialize(r,e,s){this._width=e,this._height=s;const t=h(r,e,s),o=h(r,e,s);this._resources={sharedBlur1Fbo:t,sharedBlur2Fbo:o}}setup(r,e,s){!this._resources||this._width===e&&this._height===s||this.dispose(),this._resources||this._initialize(r,e,s)}get sharedBlur1Tex(){return this._resources.sharedBlur1Fbo.colorTexture}get sharedBlur1Fbo(){return this._resources.sharedBlur1Fbo}get sharedBlur2Tex(){return this._resources.sharedBlur2Fbo.colorTexture}get sharedBlur2Fbo(){return this._resources.sharedBlur2Fbo}}export{u as default};
