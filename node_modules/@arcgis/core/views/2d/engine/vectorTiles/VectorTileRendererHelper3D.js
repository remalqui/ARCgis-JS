/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import"../../../../geometry.js";import e from"../../../../Viewpoint.js";import t from"../../ViewState.js";import{StyleLayerType as r}from"./style/StyleDefinition.js";import i from"../../../../geometry/Point.js";const l=.125;class n{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new i(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:"background",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,allowDelayedRender:!1,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1,highlightGradient:null}}dispose(){this._renderParams=null}render(e,t,r,i,l,n,s,a,o,d,p){this._render(e,t,r,i,l,n,s,a,o,d,p)}renderSymbols(e,t,i,l,n,s,a,o,d,p,u){this._render(e,t,i,l,n,s,a,o,d,p,u,r.SYMBOL)}_render(e,t,r,i,n,s,a,o,d,p,u,c){const m=t[0]-s.getLevelShift(t[0]),y=this._renderParams;y.context=e,y.painter=i,y.glyphMosaic=i.glyphMosaic,y.spriteMosaic=i.spriteMosaic,y.pixelRatio=p*u,y.displayLevel=m,y.requiredLevel=m;const g=s.getScale(t[0]),[h,f]=s.getOffset(t,a*g),w=l*a*g/d,L=r.transforms.dvs;L[0]=w,L[4]=-w,L[6]=-1-h-o[0]*a*2,L[7]=1+f+(1-o[1])*a*2-2,y.state.size[0]=d/u,y.state.size[1]=d/u,y.state.pixelRatio=u,r.stage||r.attachWithContext(e),r.triangleCount=0,i.drawTile(y,r,n,c)}}export{n as VectorTileRendererHelper3D};
