/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
import{isHostedAgolService as e}from"../../../../../layers/support/arcgisLayerUrl.js";import{DrillDownFeatureSource as r}from"./DrillDownFeatureSource.js";import{PagedFeatureSource as t}from"./PagedFeatureSource.js";import{SnapshotFeatureSource as o}from"./SnapshotFeatureSource.js";import{StreamSource as s}from"./StreamSource.js";function n(e,n,c,u,i,p){const f=a(e,n,c,u,i,p);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new t(f);case"snapshot":return new o(f);default:return new r(f)}case"stream":return new s(f)}}function a(r,t,o,s,n,a){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:t,tileInfoView:o,canAcceptRequest:n,store:a};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:t,canAcceptRequest:n};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:t,origin:c(r.source),tileInfoView:o,canAcceptRequest:n}}function c(r){return Array.isArray(r)?"local":"path"in r&&e(r.path)?"hosted":"unknown"}}export{n as createSource};
