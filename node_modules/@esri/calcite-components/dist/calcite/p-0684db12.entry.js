/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.4.3
 */
import{r as t,c as e,h as i,a as n,F as a}from"./p-72f0eeb4.js";import{i as s,b as r,f as o,h as l}from"./p-f811ed39.js";import{C as c,n as h,a as u,o as d,b as p,c as m,p as f,d as g,t as b,e as y,f as w,g as v,j as k,i as x,r as C,k as M}from"./p-5348c028.js";import{c as D,d as j,u as z}from"./p-a19669a4.js";import{i as A}from"./p-48945447.js";import{c as _,s as F,a as S}from"./p-7629aca4.js";import{c as O,d as $}from"./p-a1c0b394.js";import{c as I}from"./p-ccbe1a1b.js";import{u as q,s as E,c as L,d as N}from"./p-dd47edb1.js";import{t as K}from"./p-8c2b9f8b.js";import"./p-7e6ce0f0.js";import"./p-2b22e428.js";import"./p-fd1056b7.js";import"./p-8116888e.js";import"./p-26422952.js";function U(t,e,i){return t(i={path:e,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}var P={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},T=U((function(t){var e=Array.prototype.concat,i=Array.prototype.slice,n=t.exports=function(t){for(var n,a=[],s=0,r=t.length;s<r;s++){var o=t[s];(n=o)&&"string"!=typeof n&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&"String"!==n.constructor.name))?a=e.call(a,i.call(o)):a.push(o)}return a};n.wrap=function(t){return function(){return t(n(arguments))}}})),H=U((function(t){var e=Object.hasOwnProperty,i=Object.create(null);for(var n in P)e.call(P,n)&&(i[P[n]]=n);var a=t.exports={to:{},get:{}};function s(t,e,i){return Math.min(Math.max(e,t),i)}function r(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,i;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),i="hsl";break;case"hwb":e=a.get.hwb(t),i="hwb";break;default:e=a.get.rgb(t),i="rgb"}return e?{model:i,value:e}:null},a.get.rgb=function(t){if(!t)return null;var i,n,a,r=[0,0,0,1];if(i=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=i[2],i=i[1],n=0;n<3;n++){var o=2*n;r[n]=parseInt(i.slice(o,o+2),16)}a&&(r[3]=parseInt(a,16)/255)}else if(i=t.match(/^#([a-f0-9]{3,4})$/i)){for(a=(i=i[1])[3],n=0;n<3;n++)r[n]=parseInt(i[n]+i[n],16);a&&(r[3]=parseInt(a+a,16)/255)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)r[n]=parseInt(i[n+1],0);i[4]&&(r[3]=i[5]?.01*parseFloat(i[4]):parseFloat(i[4]))}else{if(!(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(i=t.match(/^(\w+)$/))?"transparent"===i[1]?[0,0,0,0]:e.call(P,i[1])?((r=P[i[1]])[3]=1,r):null:null;for(n=0;n<3;n++)r[n]=Math.round(2.55*parseFloat(i[n+1]));i[4]&&(r[3]=i[5]?.01*parseFloat(i[4]):parseFloat(i[4]))}for(n=0;n<3;n++)r[n]=s(r[n],0,255);return r[3]=s(r[3],0,1),r},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(i)?1:i,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,s(parseFloat(e[2]),0,100),s(parseFloat(e[3]),0,100),s(isNaN(i)?1:i,0,1)]}return null},a.to.hex=function(){var t=T(arguments);return"#"+r(t[0])+r(t[1])+r(t[2])+(t[3]<1?r(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=T(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=T(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+i+"%, "+n+"%)":"rgba("+e+"%, "+i+"%, "+n+"%, "+t[3]+")"},a.to.hsl=function(){var t=T(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=T(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return i[t.slice(0,3)]}})),V={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const B={};for(const t of Object.keys(V))B[V[t]]=t;const J={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var R=J;for(const t of Object.keys(J)){if(!("channels"in J[t]))throw new Error("missing channels property: "+t);if(!("labels"in J[t]))throw new Error("missing channel labels property: "+t);if(J[t].labels.length!==J[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=J[t];delete J[t].channels,delete J[t].labels,Object.defineProperty(J[t],"channels",{value:e}),Object.defineProperty(J[t],"labels",{value:i})}function W(t,e){return function(i){return e(t(i))}}function X(t,e){const i=[e[t].parent,t];let n=R[e[t].parent][t],a=e[t].parent;for(;e[a].parent;)i.unshift(e[a].parent),n=W(R[e[a].parent][a],n),a=e[a].parent;return n.conversion=i,n}J.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,a=Math.min(e,i,n),s=Math.max(e,i,n),r=s-a;let o,l;s===a?o=0:e===s?o=(i-n)/r:i===s?o=2+(n-e)/r:n===s&&(o=4+(e-i)/r),o=Math.min(60*o,360),o<0&&(o+=360);const c=(a+s)/2;return l=s===a?0:c<=.5?r/(s+a):r/(2-s-a),[o,100*l,100*c]},J.rgb.hsv=function(t){let e,i,n,a,s;const r=t[0]/255,o=t[1]/255,l=t[2]/255,c=Math.max(r,o,l),h=c-Math.min(r,o,l),u=function(t){return(c-t)/6/h+.5};return 0===h?(a=0,s=0):(s=h/c,e=u(r),i=u(o),n=u(l),r===c?a=n-i:o===c?a=1/3+e-n:l===c&&(a=2/3+i-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*s,100*c]},J.rgb.hwb=function(t){const e=t[0],i=t[1];let n=t[2];const a=J.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(i,n));return n=1-1/255*Math.max(e,Math.max(i,n)),[a,100*s,100*n]},J.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,a=Math.min(1-e,1-i,1-n);return[100*((1-e-a)/(1-a)||0),100*((1-i-a)/(1-a)||0),100*((1-n-a)/(1-a)||0),100*a]},J.rgb.keyword=function(t){const e=B[t];if(e)return e;let i,n=1/0;for(const e of Object.keys(V)){const r=((a=t)[0]-(s=V[e])[0])**2+(a[1]-s[1])**2+(a[2]-s[2])**2;r<n&&(n=r,i=e)}var a,s;return i},J.keyword.rgb=function(t){return V[t]},J.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,n=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,[100*(.4124*e+.3576*i+.1805*n),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]},J.rgb.lab=function(t){const e=J.rgb.xyz(t);let i=e[0],n=e[1],a=e[2];return i/=95.047,n/=100,a/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,a=a>.008856?a**(1/3):7.787*a+16/116,[116*n-16,500*(i-n),200*(n-a)]},J.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,n=t[2]/100;let a,s,r;if(0===i)return r=255*n,[r,r,r];a=n<.5?n*(1+i):n+i-n*i;const o=2*n-a,l=[0,0,0];for(let t=0;t<3;t++)s=e+1/3*-(t-1),s<0&&s++,s>1&&s--,r=6*s<1?o+6*(a-o)*s:2*s<1?a:3*s<2?o+(a-o)*(2/3-s)*6:o,l[t]=255*r;return l},J.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,n=t[2]/100,a=i;const s=Math.max(n,.01);return n*=2,i*=n<=1?n:2-n,a*=s<=1?s:2-s,[e,100*(0===n?2*a/(s+a):2*i/(n+i)),(n+i)/2*100]},J.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let n=t[2]/100;const a=Math.floor(e)%6,s=e-Math.floor(e),r=255*n*(1-i),o=255*n*(1-i*s),l=255*n*(1-i*(1-s));switch(n*=255,a){case 0:return[n,l,r];case 1:return[o,n,r];case 2:return[r,n,l];case 3:return[r,o,n];case 4:return[l,r,n];case 5:return[n,r,o]}},J.hsv.hsl=function(t){const e=t[0],i=t[1]/100,n=t[2]/100,a=Math.max(n,.01);let s,r;r=(2-i)*n;const o=(2-i)*a;return s=i*a,s/=o<=1?o:2-o,s=s||0,r/=2,[e,100*s,100*r]},J.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,n=t[2]/100;const a=i+n;let s;a>1&&(i/=a,n/=a);const r=Math.floor(6*e),o=1-n;s=6*e-r,0!=(1&r)&&(s=1-s);const l=i+s*(o-i);let c,h,u;switch(r){default:case 6:case 0:c=o,h=l,u=i;break;case 1:c=l,h=o,u=i;break;case 2:c=i,h=o,u=l;break;case 3:c=i,h=l,u=o;break;case 4:c=l,h=i,u=o;break;case 5:c=o,h=i,u=l}return[255*c,255*h,255*u]},J.cmyk.rgb=function(t){const e=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-n)+n)),255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},J.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,n=t[2]/100;let a,s,r;return a=3.2406*e+-1.5372*i+-.4986*n,s=-.9689*e+1.8758*i+.0415*n,r=.0557*e+-.204*i+1.057*n,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,a=Math.min(Math.max(0,a),1),s=Math.min(Math.max(0,s),1),r=Math.min(Math.max(0,r),1),[255*a,255*s,255*r]},J.xyz.lab=function(t){let e=t[0],i=t[1],n=t[2];return e/=95.047,i/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,[116*i-16,500*(e-i),200*(i-n)]},J.lab.xyz=function(t){let e,i,n;i=(t[0]+16)/116,e=t[1]/500+i,n=i-t[2]/200;const a=i**3,s=e**3,r=n**3;return i=a>.008856?a:(i-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=r>.008856?r:(n-16/116)/7.787,e*=95.047,i*=100,n*=108.883,[e,i,n]},J.lab.lch=function(t){const e=t[0],i=t[1],n=t[2];let a;return a=360*Math.atan2(n,i)/2/Math.PI,a<0&&(a+=360),[e,Math.sqrt(i*i+n*n),a]},J.lch.lab=function(t){const e=t[1],i=t[2]/360*2*Math.PI;return[t[0],e*Math.cos(i),e*Math.sin(i)]},J.rgb.ansi16=function(t,e=null){const[i,n,a]=t;let s=null===e?J.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let r=30+(Math.round(a/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===s&&(r+=60),r},J.hsv.ansi16=function(t){return J.rgb.ansi16(J.hsv.rgb(t),t[2])},J.rgb.ansi256=function(t){const e=t[0],i=t[1],n=t[2];return e===i&&i===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5)},J.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},J.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},J.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},J.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=i.split("").map((t=>t+t)).join(""));const n=parseInt(i,16);return[n>>16&255,n>>8&255,255&n]},J.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,n=t[2]/255,a=Math.max(Math.max(e,i),n),s=Math.min(Math.min(e,i),n),r=a-s;let o,l;return o=r<1?s/(1-r):0,l=r<=0?0:a===e?(i-n)/r%6:a===i?2+(n-e)/r:4+(e-i)/r,l/=6,l%=1,[360*l,100*r,100*o]},J.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,n=i<.5?2*e*i:2*e*(1-i);let a=0;return n<1&&(a=(i-.5*n)/(1-n)),[t[0],100*n,100*a]},J.hsv.hcg=function(t){const e=t[2]/100,i=t[1]/100*e;let n=0;return i<1&&(n=(e-i)/(1-i)),[t[0],100*i,100*n]},J.hcg.rgb=function(t){const e=t[1]/100,i=t[2]/100;if(0===e)return[255*i,255*i,255*i];const n=[0,0,0],a=t[0]/360%1*6,s=a%1,r=1-s;let o=0;switch(Math.floor(a)){case 0:n[0]=1,n[1]=s,n[2]=0;break;case 1:n[0]=r,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=s;break;case 3:n[0]=0,n[1]=r,n[2]=1;break;case 4:n[0]=s,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=r}return o=(1-e)*i,[255*(e*n[0]+o),255*(e*n[1]+o),255*(e*n[2]+o)]},J.hcg.hsv=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);let n=0;return i>0&&(n=e/i),[t[0],100*n,100*i]},J.hcg.hsl=function(t){const e=t[1]/100,i=t[2]/100*(1-e)+.5*e;let n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[t[0],100*n,100*i]},J.hcg.hwb=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},J.hwb.hcg=function(t){const e=1-t[2]/100,i=e-t[1]/100;let n=0;return i<1&&(n=(e-i)/(1-i)),[t[0],100*i,100*n]},J.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},J.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},J.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},J.gray.hsl=function(t){return[0,0,t[0]]},J.gray.hsv=J.gray.hsl,J.gray.hwb=function(t){return[0,100,t[0]]},J.gray.cmyk=function(t){return[0,0,0,t[0]]},J.gray.lab=function(t){return[t[0],0,0]},J.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},J.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const Y={};Object.keys(R).forEach((t=>{Y[t]={},Object.defineProperty(Y[t],"channels",{value:R[t].channels}),Object.defineProperty(Y[t],"labels",{value:R[t].labels});const e=function(t){const e=function(t){const e=function(){const t={},e=Object.keys(R);for(let i=e.length,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;){const t=i.pop(),n=Object.keys(R[t]);for(let a=n.length,s=0;s<a;s++){const a=n[s],r=e[a];-1===r.distance&&(r.distance=e[t].distance+1,r.parent=t,i.unshift(a))}}return e}(t),i={},n=Object.keys(e);for(let t=n.length,a=0;a<t;a++){const t=n[a];null!==e[t].parent&&(i[t]=X(t,e))}return i}(t);Object.keys(e).forEach((i=>{const n=e[i];Y[t][i]=function(t){const e=function(...e){const i=e[0];if(null==i)return i;i.length>1&&(e=i);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),Y[t][i].raw=function(t){const e=function(...e){const i=e[0];return null==i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))}));var G=Y;const Q=["keyword","gray","hex"],Z={};for(const t of Object.keys(G))Z[[...G[t].labels].sort().join("")]=t;const tt={};function et(t,e){if(!(this instanceof et))return new et(t,e);if(e&&e in Q&&(e=null),e&&!(e in G))throw new Error("Unknown model: "+e);let i,n;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof et)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=H.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,n=G[this.model].channels,this.color=e.value.slice(0,n),this.valpha="number"==typeof e.value[n]?e.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=G[this.model].channels;const i=Array.prototype.slice.call(t,0,n);this.color=st(i,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const n=e.sort().join("");if(!(n in Z))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Z[n];const{labels:a}=G[this.model],s=[];for(i=0;i<a.length;i++)s.push(t[a[i]]);this.color=st(s)}if(tt[this.model])for(n=G[this.model].channels,i=0;i<n;i++){const t=tt[this.model][i];t&&(this.color[i]=t(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}et.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in H.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const i=1===e.valpha?e.color:[...e.color,this.valpha];return H.to[e.model](i)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),i=1===e.valpha?e.color:[...e.color,this.valpha];return H.to.rgb.percent(i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=G[this.model],{labels:i}=G[this.model];for(let n=0;n<e;n++)t[i[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new et([...this.color.map(it(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new et([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:nt("rgb",0,at(255)),green:nt("rgb",1,at(255)),blue:nt("rgb",2,at(255)),hue:nt(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:nt("hsl",1,at(100)),lightness:nt("hsl",2,at(100)),saturationv:nt("hsv",1,at(100)),value:nt("hsv",2,at(100)),chroma:nt("hcg",1,at(100)),gray:nt("hcg",2,at(100)),white:nt("hwb",1,at(100)),wblack:nt("hwb",2,at(100)),cyan:nt("cmyk",0,at(100)),magenta:nt("cmyk",1,at(100)),yellow:nt("cmyk",2,at(100)),black:nt("cmyk",3,at(100)),x:nt("xyz",0,at(95.047)),y:nt("xyz",1,at(100)),z:nt("xyz",2,at(108.833)),l:nt("lab",0,at(100)),a:nt("lab",1),b:nt("lab",2),keyword(t){return void 0!==t?new et(t):G[this.model].keyword(this.color)},hex(t){return void 0!==t?new et(t):H.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new et(t);const e=this.rgb().round().color;let i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),H.to.hex(e)+i},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[i,n]of t.entries()){const t=n/255;e[i]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return et.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let i=e.color[0];return i=(i+t)%360,i=i<0?360+i:i,e.color[0]=i,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const i=t.rgb(),n=this.rgb(),a=void 0===e?.5:e,s=2*a-1,r=i.alpha()-n.alpha(),o=((s*r==-1?s:(s+r)/(1+s*r))+1)/2,l=1-o;return et.rgb(o*i.red()+l*n.red(),o*i.green()+l*n.green(),o*i.blue()+l*n.blue(),i.alpha()*a+n.alpha()*(1-a))}};for(const t of Object.keys(G)){if(Q.includes(t))continue;const{channels:e}=G[t];et.prototype[t]=function(...e){return this.model===t?new et(this):new et(e.length>0?e:[...(i=G[this.model][t].raw(this.color),Array.isArray(i)?i:[i]),this.valpha],t);var i},et[t]=function(...i){let n=i[0];return"number"==typeof n&&(n=st(i,e)),new et(n,t)}}function it(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function nt(t,e,i){t=Array.isArray(t)?t:[t];for(const n of t)(tt[n]||(tt[n]=[]))[e]=i;return t=t[0],function(n){let a;return void 0!==n?(i&&(n=i(n)),a=this[t](),a.color[e]=n,a):(a=this[t]().color[e],i&&(a=i(a)),a)}}function at(t){return function(e){return Math.max(0,Math.min(t,e))}}function st(t,e){for(let i=0;i<e;i++)"number"!=typeof t[i]&&(t[i]=0);return t}var rt=et;const ot="channel",lt="control",ct="control-and-scope",ht="scope",ut="section",dt="slider",pt=rt("#007AC2"),mt="calcite-color-",ft={r:255,g:255,b:255},gt={h:360,s:100,v:100},bt=100,yt={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:10}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},thumb:{radius:10}}},wt=class{constructor(n){t(this,n),this.calciteColorPickerChange=e(this,"calciteColorPickerChange",6),this.calciteColorPickerInput=e(this,"calciteColorPickerInput",6),this.internalColorUpdateContext=null,this.mode=c.HEX,this.shiftKeyChannelAdjustment=0,this.handleTabActivate=t=>{this.channelMode=t.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)},this.handleColorFieldScopeKeyDown=t=>{const{key:e}=t,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[e]&&(t.preventDefault(),this.scopeOrientation="ArrowDown"===e||"ArrowUp"===e?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[e].x||0,this.colorFieldScopeTop+i[e].y||0,!1))},this.handleHueScopeKeyDown=t=>{const e=t.shiftKey?10:1,{key:i}=t,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){t.preventDefault();const a=n[i]*e,s=this.baseColorFieldColor.hue(),r=this.baseColorFieldColor.hue(s+a);this.internalColorSet(r,!1)}},this.handleHexInputChange=t=>{t.stopPropagation();const{allowEmpty:e,color:i}=this,n=t.target.value;!e||n?n!==(i&&h(u(i,m(this.mode))))&&this.internalColorSet(rt(n)):this.internalColorSet(null)},this.handleSavedColorSelect=t=>{this.internalColorSet(rt(t.currentTarget.color))},this.handleChannelInput=t=>{const e=t.currentTarget,i=Number(e.getAttribute("data-channel-index")),n=3===i?bt:"rgb"===this.channelMode?ft[Object.keys(ft)[i]]:gt[Object.keys(gt)[i]];let a;if(this.allowEmpty&&!e.value)a="";else{const t=Number(e.value);a=I(t+this.shiftKeyChannelAdjustment,0,n).toString()}e.value=a,e.internalSyncChildElValue()},this.handleChannelChange=t=>{const e=t.currentTarget,i=Number(e.getAttribute("data-channel-index")),n=[...this.channels];if(this.allowEmpty&&!e.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const a=3===i,s=Number(e.value);n[i]=a?d(s):s,this.updateColorFromChannels(n)},this.handleSavedColorKeyDown=t=>{A(t.key)&&(t.preventDefault(),this.handleSavedColorSelect(t))},this.handleColorFieldPointerDown=t=>{if(!s(t))return;const{offsetX:e,offsetY:i}=t;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.colorFieldRenderingContext,bounds:this.colorFieldRenderingContext.canvas.getBoundingClientRect()},this.captureColorFieldColor(e,i),this.colorFieldScopeNode.focus()},this.handleHueSliderPointerDown=t=>{if(!s(t))return;const{offsetX:e}=t;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.hueSliderRenderingContext,bounds:this.hueSliderRenderingContext.canvas.getBoundingClientRect()},this.captureHueSliderColor(e),this.hueScopeNode.focus()},this.handleOpacitySliderPointerDown=t=>{if(!s(t))return;const{offsetX:e}=t;document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.opacitySliderRenderingContext,bounds:this.opacitySliderRenderingContext.canvas.getBoundingClientRect()},this.captureOpacitySliderValue(e),this.opacityScopeNode.focus()},this.globalPointerUpHandler=t=>{if(!s(t))return;const e=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),e&&this.calciteColorPickerChange.emit()},this.globalPointerMoveHandler=t=>{const{activeCanvasInfo:e,el:i}=this;if(!i.isConnected||!e)return;const{context:n,bounds:a}=e;let s,r;const{clientX:o,clientY:l}=t;n.canvas.matches(":hover")?(s=o-a.x,r=l-a.y):(s=o<a.x+a.width&&o>a.x?o-a.x:o<a.x?0:a.width-1,r=l<a.y+a.height&&l>a.y?l-a.y:l<a.y?0:a.height),n===this.colorFieldRenderingContext?this.captureColorFieldColor(s,r,!1):n===this.hueSliderRenderingContext?this.captureHueSliderColor(s):n===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(s)},this.storeColorFieldScope=t=>{this.colorFieldScopeNode=t},this.storeHueScope=t=>{this.hueScopeNode=t},this.renderChannelsTabTitle=t=>{const{channelMode:e,messages:n}=this;return i("calcite-tab-title",{class:"color-mode","data-color-mode":t,key:t,onCalciteTabsActivate:this.handleTabActivate,selected:t===e},"rgb"===t?n.rgb:n.hsv)},this.renderChannelsTab=t=>{const{allowEmpty:e,channelMode:n,channels:a,messages:s,alphaChannel:o}=this,l=t===n,c="rgb"===t?[s.red,s.green,s.blue]:[s.hue,s.saturation,s.value],h=r(this.el),u=o?a:a.slice(0,3);return i("calcite-tab",{class:lt,key:t,selected:l},i("div",{class:"channels",dir:"ltr"},u.map(((t,i)=>{const n=3===i;return n&&(t=e&&!t?t:p(t)),this.renderChannel(t,i,c[i],h,n?"%":"")}))))},this.renderChannel=(t,e,n,a,s)=>i("calcite-input",{class:ot,"data-channel-index":e,dir:a,key:e,label:n,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputChange:this.handleChannelChange,onCalciteInputInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,scale:"l"===this.scale?"m":"s",style:{marginLeft:e>0&&("s"!==this.scale||!this.alphaChannel||3!==e)?"-1px":""},suffixText:s,type:"number",value:t?.toString()}),this.deleteColor=()=>{const t=u(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(t)>-1))return;const e=this.savedColors.filter((e=>e!==t));this.savedColors=e,this.storageId&&localStorage.setItem(`${mt}${this.storageId}`,JSON.stringify(e))},this.saveColor=()=>{const t=u(this.color,this.alphaChannel);if(this.savedColors.indexOf(t)>-1)return;const e=[...this.savedColors,t];this.savedColors=e,this.storageId&&localStorage.setItem(`${mt}${this.storageId}`,JSON.stringify(e))},this.drawColorControls=K(((t="all")=>{"all"!==t&&"color-field"!==t||!this.colorFieldRenderingContext||this.drawColorField(),"all"!==t&&"hue-slider"!==t||!this.hueSliderRenderingContext||this.drawHueSlider(),this.alphaChannel&&("all"===t||"opacity-slider"===t)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()}),16),this.captureColorFieldColor=(t,e,i=!0)=>{const{dimensions:{colorField:{height:n,width:a}}}=this,s=Math.round(gt.s/a*t),r=Math.round(gt.v/n*(n-e));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(s).value(r),i)},this.initColorField=t=>{this.colorFieldRenderingContext=t.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls()},this.initHueSlider=t=>{this.hueSliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider()},this.initOpacitySlider=t=>{this.opacitySliderRenderingContext=t.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider()},this.storeOpacityScope=t=>{this.opacityScopeNode=t},this.handleOpacityScopeKeyDown=t=>{const e=t.shiftKey?10:1,{key:i}=t,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){t.preventDefault();const a=d(n[i]*e);this.captureHueSliderColor(this.opacityScopeLeft+a)}},this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.color=pt,this.disabled=!1,this.format="auto",this.hideChannels=!1,this.hexDisabled=!1,this.hideHex=!1,this.hideSaved=!1,this.savedDisabled=!1,this.scale="m",this.storageId=void 0,this.messageOverrides=void 0,this.numberingSystem=void 0,this.value=h(u(pt,this.alphaChannel)),this.defaultMessages=void 0,this.channelMode="rgb",this.channels=this.toChannels(pt),this.dimensions=yt.m,this.effectiveLocale="",this.messages=void 0,this.savedColors=[],this.colorFieldScopeTop=void 0,this.colorFieldScopeLeft=void 0,this.hueScopeLeft=void 0,this.opacityScopeLeft=void 0,this.scopeOrientation=void 0}handleAlphaChannelChange(t){const{format:e}=this;t&&"auto"!==e&&!m(e)&&(console.warn(`ignoring alphaChannel as the current format (${e}) does not support alpha`),this.alphaChannel=!1)}handleColorChange(t,e){this.drawColorControls(),this.updateChannelsFromColor(t),this.previousColor=e}handleFormatChange(t){this.setMode(t),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(t="m"){this.updateDimensions(t),this.updateCanvasSize("all"),this.drawColorControls()}onMessagesChange(){}handleValueChange(t,e){const{allowEmpty:i,format:n}=this;let a=!1;if(!i||t){const i=f(t);if(!i||"auto"!==n&&i!==n)return this.showIncompatibleColorWarning(t,n),void(this.value=e);a=this.mode!==i,this.setMode(i,null===this.internalColorUpdateContext)}const s=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(s||this.calciteColorPickerChange.emit());const r=i&&!t?null:rt(null!=t&&"object"==typeof t&&m(this.mode)?v(t):t),o=!g(r,this.color);(a||o)&&this.internalColorSet(r,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css")),"internal")}get baseColorFieldColor(){return this.color||this.previousColor||pt}effectiveLocaleChange(){q(this,this.effectiveLocale)}handleChannelKeyUpOrDown(t){this.shiftKeyChannelAdjustment=0;const{key:e}=t;if("ArrowUp"!==e&&"ArrowDown"!==e||!t.composedPath().some((t=>t.classList?.contains(ot))))return;const{shiftKey:i}=t;if(t.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void t.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===e&&i?9:"ArrowDown"===e&&i?-9:0}async setFocus(){await _(this),this.el.focus()}async componentWillLoad(){F(this);const{allowEmpty:t,color:e,format:i,value:n}=this,a=t&&!n,s=f(n),r=a||"auto"===i&&s||i===s,o=a?null:r?rt(n):e;r||this.showIncompatibleColorWarning(n,i),this.setMode(i,!1),this.internalColorSet(o,!1,"initial"),this.updateDimensions(this.scale);const l=`${mt}${this.storageId}`;this.storageId&&localStorage.getItem(l)&&(this.savedColors=JSON.parse(localStorage.getItem(l))),await E(this)}connectedCallback(){D(this),O(this),L(this)}componentDidLoad(){S(this)}disconnectedCallback(){document.removeEventListener("pointermove",this.globalPointerMoveHandler),document.removeEventListener("pointerup",this.globalPointerUpHandler),j(this),$(this),N(this)}componentDidRender(){z(this)}render(){const{allowEmpty:t,channelsDisabled:e,color:n,colorFieldScopeLeft:a,colorFieldScopeTop:s,dimensions:{colorField:{width:r},slider:{width:o},thumb:{radius:l}},hexDisabled:c,hideChannels:h,hideHex:d,hideSaved:m,hueScopeLeft:f,messages:g,alphaChannel:b,opacityScopeLeft:y,savedColors:w,savedDisabled:v,scale:k,scopeOrientation:x}=this,C=n?u(n,b):null,M=l,D=f??o*pt.hue()/gt.h,j=l,z=y??r*p(pt.alpha())/bt,A=null===n,_="vertical"===x,F=c||d,S=e||h,O=v||m;return i("div",{class:"container"},i("div",{class:ct},i("canvas",{class:"color-field",onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),i("div",{"aria-label":_?g.value:g.saturation,"aria-valuemax":_?gt.v:gt.s,"aria-valuemin":"0","aria-valuenow":(_?n?.saturationv():n?.value())||"0",class:{[ht]:!0,"scope--color-field":!0},onKeyDown:this.handleColorFieldScopeKeyDown,role:"slider",style:{top:`${s||0}px`,left:`${a||0}px`},tabindex:"0",ref:this.storeColorFieldScope})),i("div",{class:"preview-and-sliders"},i("calcite-color-picker-swatch",{class:"preview",color:C,scale:"l"}),i("div",{class:"sliders"},i("div",{class:ct},i("canvas",{class:{[dt]:!0,"hue-slider":!0},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),i("div",{"aria-label":g.hue,"aria-valuemax":gt.h,"aria-valuemin":"0","aria-valuenow":n?.round().hue()||pt.round().hue(),class:{[ht]:!0,"scope--hue":!0},onKeyDown:this.handleHueScopeKeyDown,role:"slider",style:{top:`${M}px`,left:`${D}px`},tabindex:"0",ref:this.storeHueScope})),b?i("div",{class:ct},i("canvas",{class:{[dt]:!0,"opacity-slider":!0},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),i("div",{"aria-label":g.opacity,"aria-valuemax":bt,"aria-valuemin":0,"aria-valuenow":(n||pt).round().alpha(),class:{[ht]:!0,"scope--opacity":!0},onKeyDown:this.handleOpacityScopeKeyDown,role:"slider",style:{top:`${j}px`,left:`${z}px`},tabindex:"0",ref:this.storeOpacityScope})):null)),F&&S?null:i("div",{class:{"control-section":!0,[ut]:!0}},i("div",{class:"hex-and-channels-group"},F?null:i("div",{class:"color-hex-options"},i("calcite-color-picker-hex-input",{allowEmpty:t,alphaChannel:b,class:lt,messages:g,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:k,value:C})),S?null:i("calcite-tabs",{class:{"color-mode-container":!0,"section--split":!0},scale:"l"===k?"m":"s"},i("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),O?null:i("div",{class:{"saved-colors-section":!0,[ut]:!0}},i("div",{class:"header"},i("label",null,g.saved),i("div",{class:"saved-colors-buttons"},i("calcite-button",{appearance:"transparent",class:"delete-color",disabled:A,iconStart:"minus",kind:"neutral",label:g.deleteColor,onClick:this.deleteColor,scale:k,type:"button"}),i("calcite-button",{appearance:"transparent",class:"save-color",disabled:A,iconStart:"plus",kind:"neutral",label:g.saveColor,onClick:this.saveColor,scale:k,type:"button"}))),w.length>0?i("div",{class:"saved-colors"},[...w.map((t=>i("calcite-color-picker-swatch",{class:"saved-color",color:t,key:t,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:k,tabIndex:0})))]):null))}handleKeyDown(t){"Enter"===t.key&&t.preventDefault()}showIncompatibleColorWarning(t,e){console.warn(`ignoring color value (${t}) as it is not compatible with the current format (${e})`)}setMode(t,e=!0){this.mode=this.ensureCompatibleMode("auto"===t?this.mode:t,e)}ensureCompatibleMode(t,e){const{alphaChannel:i}=this,n=m(t);if(i&&!n){const i=w(t);return e&&console.warn(`setting format to (${i}) as the provided one (${t}) does not support alpha`),i}if(!i&&n){const i=b(t);return e&&console.warn(`setting format to (${i}) as the provided one (${t}) does not support alpha`),i}return t}captureHueSliderColor(t){const{dimensions:{slider:{width:e}}}=this;this.internalColorSet(this.baseColorFieldColor.hue(360/e*t),!1)}captureOpacitySliderValue(t){const{dimensions:{slider:{width:e}}}=this,i=d(bt/e*t);this.internalColorSet(this.baseColorFieldColor.alpha(i),!1)}internalColorSet(t,e=!0,i="user-interaction"){e&&g(t,this.color)||(this.internalColorUpdateContext=i,this.color=t,this.value=this.toValue(t),this.internalColorUpdateContext=null)}toValue(t,e=this.mode){if(!t)return null;if(e.includes("hex")){const i=e===c.HEXA;return h(u(t.round(),i),i)}if(e.includes("-css")){const i=t[e.replace("-css","").replace("a","")]().round().string();return(e.endsWith("a")||e.endsWith("a-css"))&&1===t.alpha()?`${i.slice(0,3)}a(${i.slice(4,-1)}, ${t.alpha()})`:i}const i=t[b(e)]().round().object();return e.endsWith("a")?y(i):i}getSliderCapSpacing(){const{dimensions:{slider:{height:t},thumb:{radius:e}}}=this;return 2*e-t}updateDimensions(t="m"){this.dimensions=yt[t]}drawColorField(){const t=this.colorFieldRenderingContext,{dimensions:{colorField:{height:e,width:i}}}=this;t.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),t.fillRect(0,0,i,e);const n=t.createLinearGradient(0,0,i,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=n,t.fillRect(0,0,i,e);const a=t.createLinearGradient(0,0,0,e);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=a,t.fillRect(0,0,i,e),this.drawActiveColorFieldColor()}setCanvasContextSize(t,{height:e,width:i}){if(!t)return;const n=window.devicePixelRatio||1;t.width=i*n,t.height=e*n,t.style.height=`${e}px`,t.style.width=`${i}px`,t.getContext("2d").scale(n,n)}updateCanvasSize(t="all"){const{dimensions:e}=this;"all"!==t&&"color-field"!==t||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,e.colorField);const i={width:e.slider.width,height:e.slider.height+2*(e.thumb.radius-e.slider.height/2)};"all"!==t&&"hue-slider"!==t||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,i),"all"!==t&&"opacity-slider"!==t||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,i)}drawActiveColorFieldColor(){const{color:t}=this;if(!t)return;const e=t.hsv(),{dimensions:{colorField:{height:i,width:n},thumb:{radius:a}}}=this,s=e.saturationv()/(gt.s/n),r=i-e.value()/(gt.v/i);requestAnimationFrame((()=>{this.colorFieldScopeLeft=s,this.colorFieldScopeTop=r})),this.drawThumb(this.colorFieldRenderingContext,a,s,r,e)}drawThumb(t,e,i,n,a){const s=2*Math.PI;e-=1,t.beginPath(),t.arc(i,n,e,0,s),t.fillStyle="#fff",t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),t.beginPath(),t.arc(i,n,e-3,0,s),t.fillStyle=a.rgb().alpha(1).string(),t.fill()}drawActiveHueSliderColor(){const{color:t}=this;if(!t)return;const e=t.hsv().saturationv(100).value(100),{dimensions:{slider:{height:i,width:n},thumb:{radius:a}}}=this,s=e.hue()/(360/n),r=a-i/2+i/2;requestAnimationFrame((()=>{this.hueScopeLeft=s})),this.drawThumb(this.hueSliderRenderingContext,a,s,r,e)}drawHueSlider(){const t=this.hueSliderRenderingContext,{dimensions:{slider:{height:e,width:i},thumb:{radius:n}}}=this,a=n-e/2,s=t.createLinearGradient(0,0,i,0),r=["red","yellow","lime","cyan","blue","magenta","red"],o=1/(r.length-1);let l=0;r.forEach((t=>{s.addColorStop(l,rt(t).string()),l+=o})),t.clearRect(0,0,i,e+2*this.getSliderCapSpacing()),this.drawSliderPath(t,e,i,0,a),t.fillStyle=s,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const t=this.opacitySliderRenderingContext,{baseColorFieldColor:e,dimensions:{slider:{height:i,width:n},thumb:{radius:a}}}=this,s=a-i/2;t.clearRect(0,0,n,i+2*this.getSliderCapSpacing());const r=t.createLinearGradient(0,s,n,0),o=e.rgb().alpha(0),l=e.rgb().alpha(.5),c=e.rgb().alpha(1);r.addColorStop(0,o.string()),r.addColorStop(.5,l.string()),r.addColorStop(1,c.string()),this.drawSliderPath(t,i,n,0,s);const h=t.createPattern(this.getCheckeredBackgroundPattern(),"repeat");t.fillStyle=h,t.fill(),t.fillStyle=r,t.fill(),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(t,e,i,n,a){const s=e/2+1;t.beginPath(),t.moveTo(n+s,a),t.lineTo(n+i-s,a),t.quadraticCurveTo(n+i,a,n+i,a+s),t.lineTo(n+i,a+e-s),t.quadraticCurveTo(n+i,a+e,n+i-s,a+e),t.lineTo(n+s,a+e),t.quadraticCurveTo(n,a+e,n,a+e-s),t.lineTo(n,a+s),t.quadraticCurveTo(n,a,n+s,a),t.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d");return e.fillStyle="#ccc",e.fillRect(0,0,10,10),e.fillStyle="#fff",e.fillRect(0,0,5,5),e.fillRect(5,5,5,5),this.checkerPattern=t,t}drawActiveOpacitySliderColor(){const{color:t}=this;if(!t)return;const e=t,{dimensions:{slider:{width:i},thumb:{radius:n}}}=this,a=p(e.alpha())/(bt/i),s=n;requestAnimationFrame((()=>{this.opacityScopeLeft=a})),this.drawThumb(this.opacitySliderRenderingContext,n,a,s,e)}updateColorFromChannels(t){this.internalColorSet(rt(t,this.channelMode))}updateChannelsFromColor(t){this.channels=t?this.toChannels(t):[null,null,null,null]}toChannels(t){const{channelMode:e}=this,i=t[e]().array().map(((t,e)=>3===e?t:Math.floor(t)));return 3===i.length&&i.push(1),i}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return n(this)}static get watchers(){return{alphaChannel:["handleAlphaChannelChange"],color:["handleColorChange"],format:["handleFormatChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}};wt.style='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){--calcite-color-picker-spacing:8px}:host([scale=s]) .container{inline-size:160px}:host([scale=s]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale=m]){--calcite-color-picker-spacing:12px}:host([scale=m]) .container{inline-size:272px}:host([scale=l]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .container{inline-size:464px}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale=l]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale=l]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.scope{position:absolute;z-index:var(--calcite-app-z-index);font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          );outline-offset:16px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-ui-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index="3"]{inline-size:159px}:host([scale=s]) .channels{flex-wrap:wrap}:host([scale=s]) .channel{flex-basis:30%;flex-grow:1}:host([scale=s]) .channel[data-channel-index="3"]{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .channel[data-channel-index="3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}';const vt=rt(),kt=class{constructor(i){t(this,i),this.calciteColorPickerHexInputChange=e(this,"calciteColorPickerHexInputChange",6),this.onHexInputBlur=()=>{const t=this.hexInputNode,e=t.value,i=`#${e}`,{allowEmpty:n,internalColor:a}=this,s=n&&!e,r=k(i);this.onHexInputChange(),s||x(i)&&r||(t.value=n&&!a?"":this.formatHexForInternalInput(C(a.object())))},this.onOpacityInputBlur=()=>{const t=this.opacityInputNode,e=t.value,{allowEmpty:i,internalColor:n}=this;i&&!e||(t.value=i&&!n?"":this.formatOpacityForInternalInput(n))},this.onHexInputChange=()=>{let t=this.hexInputNode.value;if(t){const e=h(t,!1);x(e)&&this.alphaChannel&&this.internalColor&&(t=`${e+h(this.internalColor.hexa(),!0).slice(-2)}`)}this.internalSetValue(t,this.value)},this.onOpacityInputChange=()=>{const t=this.opacityInputNode;let e;if(t.value){const i=d(Number(t.value));e=this.internalColor?.alpha(i).hexa()}else e=t.value;this.internalSetValue(e,this.value)},this.onInputKeyDown=t=>{const{altKey:e,ctrlKey:i,metaKey:n,shiftKey:a}=t,{alphaChannel:s,hexInputNode:r,internalColor:o,value:l}=this,{key:c}=t,h=t.composedPath();if("Tab"===c||"Enter"===c)return h.includes(r)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===c&&t.preventDefault());const d=this.value;if("ArrowDown"===c||"ArrowUp"===c)return l?(this.internalSetValue(u(this.nudgeRGBChannels(o,(a?10:1)*("ArrowUp"===c?1:-1),h.includes(r)?"rgb":"a"),s),d),void t.preventDefault()):(this.internalSetValue(this.previousNonNullValue,d),void t.preventDefault());const p=e||i||n,m=1===c.length,f=M.test(c);!m||p||f||t.preventDefault()},this.onHexInputPaste=t=>{const e=t.clipboardData.getData("text");x(e)&&(t.preventDefault(),this.hexInputNode.value=e.slice(1),this.hexInputNode.internalSyncChildElValue())},this.previousNonNullValue=this.value,this.storeHexInputRef=t=>{this.hexInputNode=t},this.storeOpacityInputRef=t=>{this.opacityInputNode=t},this.allowEmpty=!1,this.alphaChannel=!1,this.hexLabel="Hex",this.messages=void 0,this.numberingSystem=void 0,this.scale="m",this.value=h(u(vt,this.alphaChannel),this.alphaChannel,!0),this.internalColor=vt}connectedCallback(){const{allowEmpty:t,alphaChannel:e,value:i}=this;if(i){const t=h(i,e);x(t,e)&&this.internalSetValue(t,t,!1)}else t&&this.internalSetValue(null,null,!1)}componentWillLoad(){F(this)}componentDidLoad(){S(this)}handleValueChange(t,e){this.internalSetValue(t,e,!1)}render(){const{alphaChannel:t,hexLabel:e,internalColor:n,messages:a,scale:s,value:r}=this,o=this.formatHexForInternalInput(r),l=this.formatOpacityForInternalInput(n),c="l"===s?"m":"s";return i("div",{class:"container"},i("calcite-input",{class:"hex-input",label:a?.hex||e,maxLength:6,numberingSystem:this.numberingSystem,onCalciteInputChange:this.onHexInputChange,onCalciteInternalInputBlur:this.onHexInputBlur,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",scale:c,value:o,ref:this.storeHexInputRef}),t?i("calcite-input-number",{class:"opacity-input",key:"opacity-input",label:a?.opacity,max:bt,maxLength:3,min:0,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.onOpacityInputChange,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onKeyDown:this.onInputKeyDown,scale:c,suffixText:"%",value:l,ref:this.storeOpacityInputRef}):null)}async setFocus(){await _(this),o(this.hexInputNode)}internalSetValue(t,e,i=!0){if(t){const{alphaChannel:e}=this,n=h(t,e,e);if(x(n,e)){const{internalColor:t}=this,a=rt(n),s=h(u(a,e),e),r=!t||s!==h(u(t,e),e);return this.internalColor=a,this.previousNonNullValue=s,this.value=s,void(r&&i&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=null,this.value=null,void(i&&this.calciteColorPickerHexInputChange.emit());this.value=e}formatHexForInternalInput(t){return t?t.replace("#","").slice(0,6):""}formatOpacityForInternalInput(t){return t?`${p(t.alpha())}`:""}nudgeRGBChannels(t,e,i){let n;const a=t.array(),s=a.slice(0,3);if("rgb"===i)n=[...s.map((t=>t+e)),this.alphaChannel?a[3]:void 0];else{const i=d(p(t.alpha())+e);n=[...s,i]}return rt(n)}get el(){return n(this)}static get watchers(){return{value:["handleValueChange"]}}};kt.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale=s]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale=s]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale=l]) .opacity-input{inline-size:88px}";const xt="checker",Ct=4,Mt=8,Dt=class{constructor(e){t(this,e),this.active=!1,this.color=void 0,this.scale="m"}handleColorChange(t){this.internalColor=t?rt(t):null}componentWillLoad(){this.handleColorChange(this.color)}render(){return i("svg",{class:{swatch:!0,"swatch--no-color":!this.internalColor},xmlns:"http://www.w3.org/2000/svg"},this.renderSwatch())}renderSwatch(){const{active:t,el:e,internalColor:n}=this,s=t?"100%":"0",r={height:"100%",rx:s,stroke:"light"===l(e)?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.15)","stroke-width":"2",width:"100%"};if(!n)return i(a,null,i("clipPath",{id:"shape"},i("rect",{height:"100%",rx:s,width:"100%"})),i("rect",{"clip-path":`inset(0 round ${s})`,rx:s,...r}),i("line",{"clip-path":"url(#shape)","stroke-width":"3",x1:"100%",x2:"0",y1:"0",y2:"100%"}));const o=n.alpha(),c=u(n),h=u(n,o<1);return i(a,null,i("title",null,h),i("defs",null,i("pattern",{height:Mt,id:"checker",patternUnits:"userSpaceOnUse",width:Mt,x:"0",y:"0"},i("rect",{class:xt,height:Ct,width:Ct,x:"0",y:"0"}),i("rect",{class:xt,height:Ct,width:Ct,x:Ct,y:Ct}))),i("rect",{fill:"url(#checker)",height:"100%",rx:s,width:"100%"}),i("rect",{fill:c,style:{"clip-path":o<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${s})`},...r}),o<1?i("rect",{fill:h,key:"opacity-fill",style:{"clip-path":"polygon(100% 0, 100% 100%, 0 100%)"},...r}):null)}get el(){return n(this)}static get watchers(){return{color:["handleColorChange"]}}};Dt.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-right{0%{opacity:0;transform:translate3D(-5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-left{0%{opacity:0;transform:translate3D(5px, 0, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-right{animation-name:in-right}.calcite-animate__in-left{animation-name:in-left}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:var(--calcite-app-z-index-dropdown)}:host([hidden]){display:none}:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.swatch--no-color rect{fill:var(--calcite-ui-foreground-1)}.swatch--no-color line{stroke:var(--calcite-ui-danger)}.checker{fill:#cacaca}";export{wt as calcite_color_picker,kt as calcite_color_picker_hex_input,Dt as calcite_color_picker_swatch}