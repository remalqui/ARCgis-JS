{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/MeshVertexAttributes.js", "../../@arcgis/core/geometry/support/MeshComponent.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{clone as r}from\"../../core/lang.js\";import n from\"../../core/Logger.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";var i;const l=\"esri.geometry.support.MeshVertexAttributes\",c=n.getLogger(l);let p=i=class extends o{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return g(t,Uint8Array,[Uint8ClampedArray],{loggerTag:\".color=\",stride:4},c)}castPosition(t){t&&t instanceof Float32Array&&c.warn(\".position=\",\"Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array\");return g(t,Float64Array,[Float32Array],{loggerTag:\".position=\",stride:3},c)}castUv(t){return g(t,Float32Array,[Float64Array],{loggerTag:\".uv=\",stride:2},c)}castNormal(t){return g(t,Float32Array,[Float64Array],{loggerTag:\".normal=\",stride:3},c)}castTangent(t){return g(t,Float32Array,[Float64Array],{loggerTag:\".tangent=\",stride:4},c)}clone(){const t={position:r(this.position),uv:r(this.uv),normal:r(this.normal),tangent:r(this.tangent),color:r(this.color)};return new i(t)}clonePositional(){const t={position:r(this.position),normal:r(this.normal),tangent:r(this.tangent),uv:this.uv,color:this.color};return new i(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};function u(t,o,r,n){const{loggerTag:e,stride:s}=o;return t.length%s!=0?(n.error(e,`Invalid array length, expected a multiple of ${s}`),new r([])):t}function g(t,o,r,n,e){if(!t)return t;if(t instanceof o)return u(t,n,o,e);for(const s of r)if(t instanceof s)return u(new o(t),n,o,e);if(Array.isArray(t))return u(new o(t),n,o,e);{const n=r.map((t=>`'${t.name}'`));return e.error(`Failed to set property, expected one of ${n}, but got ${t.constructor.name}`),new o([])}}function y(t,o,r){o[r]=m(t)}function m(t){const o=new Array(t.length);for(let r=0;r<t.length;r++)o[r]=t[r];return o}t([e({json:{write:y}})],p.prototype,\"color\",void 0),t([s(\"color\")],p.prototype,\"castColor\",null),t([e({nonNullable:!0,json:{write:y}})],p.prototype,\"position\",void 0),t([s(\"position\")],p.prototype,\"castPosition\",null),t([e({json:{write:y}})],p.prototype,\"uv\",void 0),t([s(\"uv\")],p.prototype,\"castUv\",null),t([e({json:{write:y}})],p.prototype,\"normal\",void 0),t([s(\"normal\")],p.prototype,\"castNormal\",null),t([e({json:{write:y}})],p.prototype,\"tangent\",void 0),t([s(\"tangent\")],p.prototype,\"castTangent\",null),p=i=t([a(l)],p);export{p as MeshVertexAttributes,g as castArray};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{cast as a}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{ensureClass as c}from\"../../core/accessorSupport/ensureType.js\";import l from\"./MeshMaterial.js\";import n from\"./MeshMaterialMetallicRoughness.js\";import{castArray as m}from\"./MeshVertexAttributes.js\";var p;const u=\"esri.geometry.support.MeshComponent\",h=s.getLogger(u);let f=p=class extends r{static from(t){return c(p,t)}constructor(t){super(t),this.faces=null,this.material=null,this.shading=\"source\",this.trustSourceNormals=!1}castFaces(t){return m(t,Uint32Array,[Uint16Array],{loggerTag:\".faces=\",stride:3},h)}castMaterial(t){return c(t&&\"object\"==typeof t&&(\"metallic\"in t||\"roughness\"in t||\"metallicRoughnessTexture\"in t)?n:l,t)}clone(){return new p({faces:e(this.faces),shading:this.shading,material:e(this.material),trustSourceNormals:this.trustSourceNormals})}cloneWithDeduplication(t,r){const s={faces:e(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,r):null,trustSourceNormals:this.trustSourceNormals};return new p(s)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};t([o({json:{write:!0}})],f.prototype,\"faces\",void 0),t([a(\"faces\")],f.prototype,\"castFaces\",null),t([o({type:l,json:{write:!0}})],f.prototype,\"material\",void 0),t([a(\"material\")],f.prototype,\"castMaterial\",null),t([o({type:String,json:{write:!0}})],f.prototype,\"shading\",void 0),t([o({type:Boolean})],f.prototype,\"trustSourceNormals\",void 0),f=p=t([i(u)],f);const g=f;export{g as default};\n"],
  "mappings": "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",
  "names": ["l", "c", "e", "s", "n", "t", "y", "a", "p", "u", "a", "s", "g"]
}
