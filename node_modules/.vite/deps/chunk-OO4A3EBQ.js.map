{
  "version": 3,
  "sources": ["../../@arcgis/core/chunks/persistableUrlUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{makeAbsolute as e,makeRelative as r,isAbsolute as t,normalize as o,isDataProtocol as l,splitPathExtension as s,changeDomain as n,hasSameOrigin as a,getAppUrl as u}from\"../core/urlUtils.js\";function i(t,o){const l=o&&o.url&&o.url.path;if(t&&l&&(t=e(t,l,{preserveProtocolRelative:!0}),o.portalItem&&o.readResourcePaths)){const e=r(t,o.portalItem.itemUrl);null!=e&&h.test(e)&&o.readResourcePaths.push(o.portalItem.resourceFromPath(e).path)}return I(t,o&&o.portal)}function c(s,n,a=R.YES){if(null==s)return s;!t(s)&&n&&n.blockedRelativeUrls&&n.blockedRelativeUrls.push(s);let u=e(s);if(n){const e=n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.rootPath||n.url&&n.url.path;if(e){const t=I(e,n.portal),o=I(u,n.portal);u=r(o,t,t);null!=u&&u!==o&&u!==s&&n.verifyItemRelativeUrls&&n.verifyItemRelativeUrls.writtenUrls.push(u)}}return u=d(u,n?.portal),t(u)&&(u=o(u)),n?.resources&&n?.portalItem&&!t(u)&&!l(u)&&a===R.YES&&n.resources.toKeep.push({resource:n.portalItem.resourceFromPath(u),compress:!1}),u}function m(e,r,t){return i(e,t)}function p(e,r,t,o){const l=c(e,o);void 0!==l&&(r[t]=l)}const f=/\\/items\\/([^\\/]+)\\/resources\\/(.*)/,h=/^\\.\\/resources\\//;function v(e){const r=e?.match(f)??null;return r?.[1]??null}function U(e){const r=e?.match(f)??null;if(null==r)return null;const t=r[2],o=t.lastIndexOf(\"/\");if(-1===o){const{path:e,extension:r}=s(t);return{prefix:null,filename:e,extension:r}}const{path:l,extension:n}=s(t.slice(o+1));return{prefix:t.slice(0,o),filename:l,extension:n}}function d(e,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?n(e,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):e}function I(e,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return e;const t=`${r.urlKey}.${r.customBaseUrl}`,o=u();return a(o,`${o.scheme}://${t}`)?n(e,r.portalHostname,t):n(e,t,r.portalHostname)}var R;!function(e){e[e.YES=0]=\"YES\",e[e.NO=1]=\"NO\"}(R||(R={}));const y=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return R},ensureMainOnlineDomain:d,fromJSON:i,itemIdFromResourceUrl:v,prefixAndFilenameFromResourceUrl:U,read:m,toJSON:c,write:p},Symbol.toStringTag,{value:\"Module\"}));export{R as M,y as a,d as e,i as f,v as i,U as p,m as r,c as t,p as w};\n"],
  "mappings": "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",
  "names": ["R", "e", "r"]
}
