{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/clipRay.js", "../../@arcgis/core/geometry/support/frustum.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Octree.js", "../../@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js", "../../@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ObjectStack as r}from\"../../core/ObjectStack.js\";import{l as c,a as n,g as t}from\"../../chunks/vec3.js\";import{create as o,copy as e,fromValues as u}from\"./ray.js\";function a(r){return r?{ray:o(r.ray),c0:r.c0,c1:r.c1}:{ray:o(),c0:0,c1:Number.MAX_VALUE}}function i(r,c,n){const t=A.get();return t.ray=r,t.c0=c,t.c1=n,t}function s(r,c=a()){return f(r.ray,r.c0,r.c1,c)}function f(r,c,n,t=a()){return e(r,t.ray),t.c0=c,t.c1=n,t}function y(r,c=a()){return e(r,c.ray),c.c0=0,c.c1=Number.MAX_VALUE,c}function m(r,n,t=a()){const o=c(r.vector);return u(r.origin,n,t.ray),t.c0=0,t.c1=o,t}function p(r,c){return j(r,r.c0,c)}function g(r,c){return j(r,r.c1,c)}function j(r,c,o){return n(o,r.ray.origin,t(o,r.ray.direction,c))}const A=new r((()=>a()));export{s as copy,a as create,m as fromLineSegmentAndDirection,y as fromRay,f as fromValues,j as getAt,g as getEnd,p as getStart,i as wrap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ObjectStack as T}from\"../../core/ObjectStack.js\";import{m as _,a as O}from\"../../chunks/mat4.js\";import{s as R}from\"../../chunks/vec3.js\";import{c as A}from\"../../chunks/vec3f64.js\";import{t}from\"../../chunks/vec4.js\";import{f as E}from\"../../chunks/vec4f64.js\";import{create as F,fromRay as r,fromLineSegmentAndDirection as n}from\"./clipRay.js\";import{create as o,copy as e,fromPoints as c,clipInfinite as f,signedDistance as B,clip as M}from\"./plane.js\";import{sm4d as G,sv4d as H}from\"./vectorStacks.js\";function I(T){return T?[o(T[0]),o(T[1]),o(T[2]),o(T[3]),o(T[4]),o(T[5])]:[o(),o(),o(),o(),o(),o()]}function N(){return[A(),A(),A(),A(),A(),A(),A(),A()]}function L(T,_){for(let O=0;O<v;O++)e(T[O],_[O])}function s(T,A,E,F=S){const r=_(G.get(),A,T);O(r,r);for(let _=0;_<g;++_){const T=t(H.get(),b[_],r);R(F[_],T[0]/T[3],T[1]/T[3],T[2]/T[3])}u(E,F)}function u(T,_){c(_[k.FAR_BOTTOM_LEFT],_[k.NEAR_BOTTOM_LEFT],_[k.NEAR_TOP_LEFT],T[l.LEFT]),c(_[k.NEAR_BOTTOM_RIGHT],_[k.FAR_BOTTOM_RIGHT],_[k.FAR_TOP_RIGHT],T[l.RIGHT]),c(_[k.FAR_BOTTOM_LEFT],_[k.FAR_BOTTOM_RIGHT],_[k.NEAR_BOTTOM_RIGHT],T[l.BOTTOM]),c(_[k.NEAR_TOP_LEFT],_[k.NEAR_TOP_RIGHT],_[k.FAR_TOP_RIGHT],T[l.TOP]),c(_[k.NEAR_BOTTOM_LEFT],_[k.NEAR_BOTTOM_RIGHT],_[k.NEAR_TOP_RIGHT],T[l.NEAR]),c(_[k.FAR_BOTTOM_RIGHT],_[k.FAR_BOTTOM_LEFT],_[k.FAR_TOP_LEFT],T[l.FAR])}function P(T,_){for(let O=0;O<v;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function i(T,_){return j(T,r(_,y.get()))}function m(T,_){for(let O=0;O<v;O++){const R=T[O];if(!f(R,_))return!1}return!0}function a(T,_,O){return j(T,n(_,O,y.get()))}function p(T,_){for(let O=0;O<v;O++){if(B(T[O],_)>0)return!1}return!0}function j(T,_){for(let O=0;O<v;O++)if(!M(T[O],_))return!1;return!0}var l,k;!function(T){T[T.LEFT=0]=\"LEFT\",T[T.RIGHT=1]=\"RIGHT\",T[T.BOTTOM=2]=\"BOTTOM\",T[T.TOP=3]=\"TOP\",T[T.NEAR=4]=\"NEAR\",T[T.FAR=5]=\"FAR\"}(l||(l={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]=\"NEAR_BOTTOM_LEFT\",T[T.NEAR_BOTTOM_RIGHT=1]=\"NEAR_BOTTOM_RIGHT\",T[T.NEAR_TOP_RIGHT=2]=\"NEAR_TOP_RIGHT\",T[T.NEAR_TOP_LEFT=3]=\"NEAR_TOP_LEFT\",T[T.FAR_BOTTOM_LEFT=4]=\"FAR_BOTTOM_LEFT\",T[T.FAR_BOTTOM_RIGHT=5]=\"FAR_BOTTOM_RIGHT\",T[T.FAR_TOP_RIGHT=6]=\"FAR_TOP_RIGHT\",T[T.FAR_TOP_LEFT=7]=\"FAR_TOP_LEFT\"}(k||(k={}));const h={bottom:[k.FAR_BOTTOM_RIGHT,k.NEAR_BOTTOM_RIGHT,k.NEAR_BOTTOM_LEFT,k.FAR_BOTTOM_LEFT],near:[k.NEAR_BOTTOM_LEFT,k.NEAR_BOTTOM_RIGHT,k.NEAR_TOP_RIGHT,k.NEAR_TOP_LEFT],far:[k.FAR_BOTTOM_RIGHT,k.FAR_BOTTOM_LEFT,k.FAR_TOP_LEFT,k.FAR_TOP_RIGHT],right:[k.NEAR_BOTTOM_RIGHT,k.FAR_BOTTOM_RIGHT,k.FAR_TOP_RIGHT,k.NEAR_TOP_RIGHT],left:[k.FAR_BOTTOM_LEFT,k.NEAR_BOTTOM_LEFT,k.NEAR_TOP_LEFT,k.FAR_TOP_LEFT],top:[k.FAR_TOP_LEFT,k.NEAR_TOP_LEFT,k.NEAR_TOP_RIGHT,k.FAR_TOP_RIGHT]},v=6,g=8,b=[E(-1,-1,-1,1),E(1,-1,-1,1),E(1,1,-1,1),E(-1,1,-1,1),E(-1,-1,1,1),E(1,-1,1,1),E(1,1,1,1),E(-1,1,1,1)],y=new T(F),S=N();export{v as NumPlanes,g as NumPoints,l as PlaneIndex,k as PointIndex,u as computePlanes,L as copy,I as create,N as createPoints,s as fromMatrix,m as intersectClipRay,a as intersectsLineSegment,p as intersectsPoint,i as intersectsRay,P as intersectsSphere,h as planePointIndices};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/ObjectPool.js\";import t from\"../../../../core/PooledArray.js\";import{g as o,a as n,d as i,c as s,h as r}from\"../../../../chunks/vec3.js\";import{c as h,f as a}from\"../../../../chunks/vec3f64.js\";import{intersectsSphere as d}from\"../../../../geometry/support/frustum.js\";import{wrap as l}from\"../../../../geometry/support/ray.js\";import{h as u,a as c,g as f,j as m,c as _}from\"../../../../chunks/sphere.js\";import{rayBoxTest as p}from\"./Util.js\";class b{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(e,t){this.objectToBoundingSphere=e,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new g,this._objectCount=0,t&&(void 0!==t.maximumObjectsPerNode&&(this._maximumObjectsPerNode=t.maximumObjectsPerNode),void 0!==t.maximumDepth&&(this._maximumDepth=t.maximumDepth))}destroy(){this._degenerateObjects.clear(),g.clearPool(),B[0]=null,P.prune(),H.prune()}add(e,t=e.length){this._objectCount+=t,this._grow(e,t);const o=g.acquire();for(let n=0;n<t;n++){const t=e[n];this._isDegenerate(t)?this._degenerateObjects.add(t):(o.init(this._root),this._add(t,o))}g.release(o)}remove(e,t=null){this._objectCount-=e.length;const o=g.acquire();for(const n of e){const e=null!=t?t:u(this.objectToBoundingSphere(n),w);E(e[3])?(o.init(this._root),this._remove(n,e,o)):this._degenerateObjects.delete(n)}g.release(o),this._shrink()}update(e,t){if(!E(t[3])&&this._isDegenerate(e))return;const o=R(e);this.remove(o,t),this.add(o)}forEachAlongRay(e,t,o){const n=l(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNode(n,e))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),!0}))}forEachAlongRayWithVerticalOffset(e,t,o,n){const i=l(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNodeWithOffset(i,e,n))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),!0}))}forEach(e){this._forEachNode(this._root,(t=>{const o=t.node;return o.terminals.forAll(e),null!==o.residents&&o.residents.forAll(e),!0})),this._degenerateObjects.forEach(e)}forEachDegenerateObject(e){this._degenerateObjects.forEach(e)}findClosest(e,t,i,s=(()=>!0),r=1/0){let h=1/0,a=1/0,l=null;const u=T(e,t),c=o=>{if(--r,!s(o))return;const n=this.objectToBoundingSphere(o);if(!d(i,n))return;const u=z(e,t,f(n)),c=u-n[3],m=u+n[3];c<h&&(h=c,a=m,l=o)};return this._forEachNodeDepthOrdered(this._root,(s=>{if(r<=0||!d(i,s.bounds))return!1;o(v,u,s.halfSize),n(v,v,s.bounds);if(z(e,t,v)>a)return!1;const h=s.node;return h.terminals.forAll((e=>c(e))),null!==h.residents&&h.residents.forAll((e=>c(e))),!0}),e,t),l}forEachInDepthRange(e,t,i,s,r,h,a){let l=-1/0,u=1/0;const c={setRange:e=>{i===b.DepthOrder.FRONT_TO_BACK?(l=Math.max(l,e.near),u=Math.min(u,e.far)):(l=Math.max(l,-e.far),u=Math.min(u,-e.near))}};c.setRange(s);const m=z(t,i,e),_=T(t,i),p=T(t,-i),g=e=>{if(!a(e))return;const o=this.objectToBoundingSphere(e),n=f(o),s=z(t,i,n)-m,_=s-o[3],p=s+o[3];_>u||p<l||!d(h,o)||r(e,c)};this._forEachNodeDepthOrdered(this._root,(e=>{if(!d(h,e.bounds))return!1;o(v,_,e.halfSize),n(v,v,e.bounds);if(z(t,i,v)-m>u)return!1;o(v,p,e.halfSize),n(v,v,e.bounds);if(z(t,i,v)-m<l)return!1;const s=e.node;return s.terminals.forAll((e=>g(e))),null!==s.residents&&s.residents.forAll((e=>g(e))),!0}),t,i)}forEachNode(e){this._forEachNode(this._root,(t=>e(t.node,t.bounds,t.halfSize,t.depth)))}forEachNeighbor(e,t){const o=c(t),n=f(t),s=t=>{const s=this.objectToBoundingSphere(t),r=c(s),h=o+r;return!(i(f(s),n)-h*h<=0)||e(t)};let r=!0;const h=e=>{r&&(r=s(e))};this._forEachNode(this._root,(e=>{const t=c(e.bounds),s=o+t;if(i(f(e.bounds),n)-s*s>0)return!1;const a=e.node;return a.terminals.forAll(h),r&&null!==a.residents&&a.residents.forAll(h),r})),r&&this.forEachDegenerateObject(h)}_intersectsNode(e,t){return j(t.bounds,2*-t.halfSize,C),j(t.bounds,2*t.halfSize,y),p(e.origin,e.direction,C,y)}_intersectsNodeWithOffset(e,t,o){return j(t.bounds,2*-t.halfSize,C),j(t.bounds,2*t.halfSize,y),o.applyToMinMax(C,y),p(e.origin,e.direction,C,y)}_intersectsObject(e,t){const o=this.objectToBoundingSphere(t);return!(o[3]>0)||m(o,e)}_intersectsObjectWithOffset(e,t,o){const n=this.objectToBoundingSphere(t);return!(n[3]>0)||m(o.applyToBoundingSphere(n),e)}_forEachNode(e,t){let o=g.acquire().init(e);const n=[o];for(;0!==n.length;){if(o=n.pop(),t(o)&&!o.isLeaf())for(let e=0;e<o.node.children.length;e++){o.node.children[e]&&n.push(g.acquire().init(o).advance(e))}g.release(o)}}_forEachNodeDepthOrdered(e,t,o,n=b.DepthOrder.FRONT_TO_BACK){let i=g.acquire().init(e);const s=[i];for(N(o,n,K);0!==s.length;){if(i=s.pop(),t(i)&&!i.isLeaf())for(let e=7;e>=0;--e){const t=K[e];i.node.children[t]&&s.push(g.acquire().init(i).advance(t))}g.release(i)}}_remove(e,t,o){P.clear();const n=o.advanceTo(t,((e,t)=>{P.push(e.node),P.push(t)}))?o.node.terminals:o.node.residents;if(n.removeUnordered(e),0===n.length)for(let i=P.length-2;i>=0;i-=2){const e=P.data[i],t=P.data[i+1];if(!this._purge(e,t))break}}_nodeIsEmpty(e){if(0!==e.terminals.length)return!1;if(null!==e.residents)return 0===e.residents.length;for(let t=0;t<e.children.length;t++)if(e.children[t])return!1;return!0}_purge(e,o){return o>=0&&(e.children[o]=null),!!this._nodeIsEmpty(e)&&(null===e.residents&&(e.residents=new t({shrink:!0})),!0)}_add(e,t){t.advanceTo(this.objectToBoundingSphere(e))?t.node.terminals.push(e):(t.node.residents.push(e),t.node.residents.length>this._maximumObjectsPerNode&&t.depth<this._maximumDepth&&this._split(t))}_split(e){const t=e.node.residents;e.node.residents=null;for(let o=0;o<t.length;o++){const n=g.acquire().init(e);this._add(t.at(o),n),g.release(n)}}_grow(e,t){if(0!==t&&(x(e,t,(e=>this.objectToBoundingSphere(e)),k),E(k[3])&&!this._fitsInsideTree(k)))if(this._nodeIsEmpty(this._root.node))u(k,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const e=this._rootBoundsForRootAsSubNode(k);this._placingRootViolatesMaxDepth(e)?this._rebuildTree(k,e):this._growRootAsSubNode(e),g.release(e)}}_rebuildTree(e,t){s(q,t.bounds),q[3]=t.halfSize,x([e,q],2,(e=>e),I);const o=g.acquire().init(this._root);this._root.initFrom(null,I,I[3]),this._root.increaseHalfSize(1.25),this._forEachNode(o,(e=>(this.add(e.node.terminals.data,e.node.terminals.length),null!==e.node.residents&&this.add(e.node.residents.data,e.node.residents.length),!0))),g.release(o)}_placingRootViolatesMaxDepth(e){const t=Math.log(e.halfSize/this._root.halfSize)*Math.LOG2E;let o=0;return this._forEachNode(this._root,(e=>(o=Math.max(o,e.depth),o+t<=this._maximumDepth))),o+t>this._maximumDepth}_rootBoundsForRootAsSubNode(e){const t=e[3],o=e;let n=-1/0;const i=this._root.bounds,s=this._root.halfSize;for(let h=0;h<3;h++){const e=i[h]-s-(o[h]-t),r=o[h]+t-(i[h]+s),a=Math.max(0,Math.ceil(e/(2*s))),d=Math.max(0,Math.ceil(r/(2*s)))+1,l=2**Math.ceil(Math.log(a+d)*Math.LOG2E);n=Math.max(n,l),L[h].min=a,L[h].max=d}for(let h=0;h<3;h++){let e=L[h].min,t=L[h].max;const o=(n-(e+t))/2;e+=Math.ceil(o),t+=Math.floor(o);const r=i[h]-s-e*s*2;F[h]=r+(t+e)*s}const r=n*s;return F[3]=r*A,g.acquire().initFrom(null,F,r,0)}_growRootAsSubNode(e){const t=this._root.node;s(k,this._root.bounds),k[3]=this._root.halfSize,this._root.init(e),e.advanceTo(k,null,!0),e.node.children=t.children,e.node.residents=t.residents,e.node.terminals=t.terminals}_shrink(){for(;;){const e=this._findShrinkIndex();if(-1===e)break;this._root.advance(e),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let e=null;const t=this._root.node.children;let o=0,n=0;for(;n<t.length&&null==e;)o=n++,e=t[o];for(;n<t.length;)if(t[n++])return-1;return o}_isDegenerate(e){return!E(this.objectToBoundingSphere(e)[3])}_fitsInsideTree(e){const t=this._root.bounds,o=this._root.halfSize;return e[3]<=o&&e[0]>=t[0]-o&&e[0]<=t[0]+o&&e[1]>=t[1]-o&&e[1]<=t[1]+o&&e[2]>=t[2]-o&&e[2]<=t[2]+o}toJSON(){const{maximumDepth:e,maximumObjectsPerNode:t,_objectCount:o}=this,n=this._nodeToJSON(this._root.node);return{maximumDepth:e,maximumObjectsPerNode:t,objectCount:o,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:n}}}_nodeToJSON(e){const t=e.children.map((e=>e?this._nodeToJSON(e):null)),o=e.residents?.map((e=>this.objectToBoundingSphere(e))),n=e.terminals?.map((e=>this.objectToBoundingSphere(e)));return{children:t,residents:o,terminals:n}}static fromJSON(e){const t=new b((e=>e),{maximumDepth:e.maximumDepth,maximumObjectsPerNode:e.maximumObjectsPerNode});return t._objectCount=e.objectCount,t._root.initFrom(e.root.node,e.root.bounds,e.root.halfSize,e.root.depth),t}}class g{constructor(){this.bounds=_(),this.halfSize=0,this.initFrom(null,null,0,0)}init(e){return this.initFrom(e.node,e.bounds,e.halfSize,e.depth)}initFrom(e,t,o,n=this.depth){return this.node=null!=e?e:g.createEmptyNode(),null!=t&&u(t,this.bounds),this.halfSize=o,this.depth=n,this}increaseHalfSize(e){this.halfSize*=e,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*A}advance(e){let t=this.node.children[e];t||(t=g.createEmptyNode(),this.node.children[e]=t),this.node=t,this.halfSize/=2,this.depth++;const o=M[e];return this.bounds[0]+=o[0]*this.halfSize,this.bounds[1]+=o[1]*this.halfSize,this.bounds[2]+=o[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(e,t,o=!1){for(;;){if(this.isTerminalFor(e))return t&&t(this,-1),!0;if(this.isLeaf()){if(!o)return t&&t(this,-1),!1;this.node.residents=null}const n=this._childIndex(e);t&&t(this,n),this.advance(n)}}isLeaf(){return null!=this.node.residents}isTerminalFor(e){return e[3]>this.halfSize/2}_childIndex(e){const t=this.bounds;return(t[0]<e[0]?1:0)+(t[1]<e[1]?2:0)+(t[2]<e[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new t({shrink:!0}),residents:new t({shrink:!0})}}static acquire(){return g._pool.acquire()}static release(e){g._pool.release(e)}static clearPool(){g._pool.prune()}}function S(e,t){e[0]=Math.min(e[0],t[0]-t[3]),e[1]=Math.min(e[1],t[1]-t[3]),e[2]=Math.min(e[2],t[2]-t[3])}function O(e,t){e[0]=Math.max(e[0],t[0]+t[3]),e[1]=Math.max(e[1],t[1]+t[3]),e[2]=Math.max(e[2],t[2]+t[3])}function j(e,t,o){o[0]=e[0]+t,o[1]=e[1]+t,o[2]=e[2]+t}function x(e,t,o,n){if(1===t){const t=o(e[0]);u(t,n)}else{C[0]=1/0,C[1]=1/0,C[2]=1/0,y[0]=-1/0,y[1]=-1/0,y[2]=-1/0;for(let n=0;n<t;n++){const t=o(e[n]);E(t[3])&&(S(C,t),O(y,t))}r(n,C,y,.5),n[3]=Math.max(y[0]-C[0],y[1]-C[1],y[2]-C[2])/2}}function N(e,t,o){if(!H.length)for(let n=0;n<8;++n)H.push({index:0,distance:0});for(let n=0;n<8;++n){const o=M[n];H.data[n].index=n,H.data[n].distance=z(e,t,o)}H.sort(((e,t)=>e.distance-t.distance));for(let n=0;n<8;++n)o[n]=H.data[n].index}function T(e,t){let o,n=1/0;for(let i=0;i<8;++i){const s=z(e,t,D[i]);s<n&&(n=s,o=D[i])}return o}function z(e,t,o){return t*(e[0]*o[0]+e[1]*o[1]+e[2]*o[2])}function E(e){return!isNaN(e)&&e!==-1/0&&e!==1/0&&e>0}g._pool=new e(g),function(e){var t;(t=e.DepthOrder||(e.DepthOrder={}))[t.FRONT_TO_BACK=1]=\"FRONT_TO_BACK\",t[t.BACK_TO_FRONT=-1]=\"BACK_TO_FRONT\"}(b||(b={}));const M=[a(-1,-1,-1),a(1,-1,-1),a(-1,1,-1),a(1,1,-1),a(-1,-1,1),a(1,-1,1),a(-1,1,1),a(1,1,1)],D=[a(-1,-1,-1),a(-1,-1,1),a(-1,1,-1),a(-1,1,1),a(1,-1,-1),a(1,-1,1),a(1,1,-1),a(1,1,1)],A=Math.sqrt(3),B=[null];function R(e){return B[0]=e,B}const F=_(),v=h(),C=h(),y=h(),P=new t,w=_(),k=_(),q=_(),I=_(),L=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],H=new t,K=[0,0,0,0,0,0,0,0],W=b;export{W as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{A as s,i as o,a as r}from\"../../../../../chunks/vec3.js\";import{c,g as n}from\"../../../../../chunks/sphere.js\";const t=1e3;function a(t,a,e){const i=c(),m=n(i);return s(m,m,t,.5),s(m,m,a,.5),i[3]=o(m,t),r(m,m,e),i}export{t as MAX_CANDIDATE_COUNT,a as boundsFromEdge};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{throwIfAborted as t}from\"../../../../../core/promiseUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{a as o,i as n}from\"../../../../../chunks/vec3.js\";import{c as i,a as r}from\"../../../../../chunks/vec3f64.js\";import{create as d,fromPoints as c,projectPoint as a}from\"../../../../../geometry/support/lineSegment.js\";import{g as p,l as u}from\"../../../../../chunks/sphere.js\";import h from\"../../../../3d/webgl-engine/lib/Octree.js\";import{extractComponentsEdgeLocationsLayout as m}from\"../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing.js\";import{MAX_CANDIDATE_COUNT as g,boundsFromEdge as l}from\"./sceneLayerSnappingUtils.js\";let _=class{constructor(){this._idToComponent=new Map,this._components=new h((e=>e.bounds)),this._edges=new h((e=>e.bounds)),this._tmpLineSegment=d(),this._tmpP1=i(),this._tmpP2=i(),this._tmpP3=i(),this.remoteClient=null}async fetchCandidates(e,s){await Promise.resolve(),t(s),await this._ensureEdgeLocations(e,s);const o=[];return this._edges.forEachNeighbor((t=>(this._addCandidates(e,t,o),o.length<g)),e.bounds),{result:{candidates:o}}}async _ensureEdgeLocations(e,t){const s=[];if(this._components.forEachNeighbor((e=>{if(null==e.info){const{id:t,uid:o}=e;s.push({id:t,uid:o})}return!0}),e.bounds),!s.length)return;const o={components:s},n=await this.remoteClient.invoke(\"fetchAllEdgeLocations\",o,t??{});for(const i of n.components)this._setFetchEdgeLocations(i)}async add(e){const t=new b(e.id,e.bounds);return this._idToComponent.set(t.id,t),this._components.add([t]),{result:{}}}async remove(e){const t=this._idToComponent.get(e.id);if(t){const e=[];this._edges.forEachNeighbor((s=>(s.component===t&&e.push(s),!0)),t.bounds),this._edges.remove(e),this._components.remove([t]),this._idToComponent.delete(t.id)}return{result:{}}}_setFetchEdgeLocations(e){const t=this._idToComponent.get(e.id);if(null==t||e.uid!==t.uid)return;const s=m.createView(e.locations),o=new Array(s.count),n=i(),r=i();for(let i=0;i<s.count;i++){s.position0.getVec(i,n),s.position1.getVec(i,r);const d=l(n,r,e.origin),c=new j(t,i,d);o[i]=c}this._edges.add(o);const{objectIds:d,origin:c}=e;t.info={locations:s,objectIds:d,origin:c}}_addCandidates(e,t,s){const{info:n}=t.component,{origin:i,objectIds:r}=n,d=n.locations,c=d.position0.getVec(t.index,this._tmpP1),a=d.position1.getVec(t.index,this._tmpP2);o(c,c,i),o(a,a,i);const p=r[d.componentIndex.get(t.index)];this._addEdgeCandidate(e,p,c,a,s),this._addVertexCandidate(e,p,c,s),this._addVertexCandidate(e,p,a,s)}_addEdgeCandidate(e,t,s,o,i){if(!e.returnEdge)return;const d=p(e.bounds),h=c(s,o,this._tmpLineSegment),m=a(h,d,this._tmpP3);u(e.bounds,m)&&i.push({type:\"edge\",objectId:t,target:r(m),distance:n(d,m),start:r(s),end:r(o)})}_addVertexCandidate(e,t,s,o){if(!e.returnVertex)return;const i=p(e.bounds);u(e.bounds,s)&&o.push({type:\"vertex\",objectId:t,target:r(s),distance:n(i,s)})}};_=e([s(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],_);const f=_;class b{constructor(e,t){this.id=e,this.bounds=t,this.info=null,this.uid=++b.uid}}b.uid=0;class j{constructor(e,t,s){this.component=e,this.index=t,this.bounds=s}}export{f as default};\n"],
  "mappings": "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",
  "names": ["a", "r", "A", "s", "a", "T", "_", "O", "v", "R", "l", "k", "T", "h", "v", "b", "r", "y", "s", "a", "b", "e", "t", "g", "P", "o", "n", "q", "w", "R", "p", "i", "s", "r", "h", "a", "l", "u", "c", "z", "m", "v", "_", "j", "y", "N", "x", "k", "d", "A", "_b", "S", "D", "t", "a", "e", "i", "m", "_", "e", "s", "o", "t", "n", "i", "b", "r", "d", "a", "c", "j", "p", "h", "m", "f"]
}
