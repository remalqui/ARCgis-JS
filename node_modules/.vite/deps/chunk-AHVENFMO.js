import {
  e,
  r
} from "./chunk-JUYJSPTR.js";
import {
  Me,
  a2,
  ie,
  l2 as l,
  t as t2
} from "./chunk-GTENSI4J.js";
import {
  a
} from "./chunk-ZL3HOHNK.js";
import {
  t
} from "./chunk-OZXJDVTE.js";
import {
  c
} from "./chunk-MOPR7RFH.js";

// node_modules/@arcgis/core/chunks/index2.js
var r2;
var n;
var i = { exports: {} };
i.exports, r2 = i, i.exports, n = function() {
  return function(e5) {
    var t4 = {};
    function r4(n3) {
      if (t4[n3])
        return t4[n3].exports;
      var i3 = t4[n3] = { exports: {}, id: n3, loaded: false };
      return e5[n3].call(i3.exports, i3, i3.exports, r4), i3.loaded = true, i3.exports;
    }
    return r4.m = e5, r4.c = t4, r4.p = "", r4(0);
  }([function(e5, t4, r4) {
    Object.defineProperty(t4, "__esModule", { value: true }), t4.isNotPNG = u2, t4.isNotAPNG = h2, t4.default = c4;
    var n3 = s3(r4(1)), i3 = r4(2);
    function s3(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    var a4 = new Error("Not a PNG"), o2 = new Error("Not an animated PNG");
    function u2(e6) {
      return e6 === a4;
    }
    function h2(e6) {
      return e6 === o2;
    }
    var l4 = new Uint8Array([137, 80, 78, 71, 13, 10, 26, 10]);
    function c4(e6) {
      var t5 = new Uint8Array(e6);
      if (Array.prototype.some.call(l4, function(e7, r6) {
        return e7 !== t5[r6];
      }))
        return a4;
      var r5 = false;
      if (f2(t5, function(e7) {
        return !(r5 = "acTL" === e7);
      }), !r5)
        return o2;
      var n4 = [], s4 = [], u3 = null, h3 = null, c5 = 0, p3 = new i3.APNG();
      if (f2(t5, function(e7, t6, r6, a5) {
        var o3 = new DataView(t6.buffer);
        switch (e7) {
          case "IHDR":
            u3 = t6.subarray(r6 + 8, r6 + 8 + a5), p3.width = o3.getUint32(r6 + 8), p3.height = o3.getUint32(r6 + 12);
            break;
          case "acTL":
            p3.numPlays = o3.getUint32(r6 + 8 + 4);
            break;
          case "fcTL":
            h3 && (p3.frames.push(h3), c5++), (h3 = new i3.Frame()).width = o3.getUint32(r6 + 8 + 4), h3.height = o3.getUint32(r6 + 8 + 8), h3.left = o3.getUint32(r6 + 8 + 12), h3.top = o3.getUint32(r6 + 8 + 16);
            var l5 = o3.getUint16(r6 + 8 + 20), f3 = o3.getUint16(r6 + 8 + 22);
            0 === f3 && (f3 = 100), h3.delay = 1e3 * l5 / f3, h3.delay <= 10 && (h3.delay = 100), p3.playTime += h3.delay, h3.disposeOp = o3.getUint8(r6 + 8 + 24), h3.blendOp = o3.getUint8(r6 + 8 + 25), h3.dataParts = [], 0 === c5 && 2 === h3.disposeOp && (h3.disposeOp = 1);
            break;
          case "fdAT":
            h3 && h3.dataParts.push(t6.subarray(r6 + 8 + 4, r6 + 8 + a5));
            break;
          case "IDAT":
            h3 && h3.dataParts.push(t6.subarray(r6 + 8, r6 + 8 + a5));
            break;
          case "IEND":
            s4.push(v2(t6, r6, 12 + a5));
            break;
          default:
            n4.push(v2(t6, r6, 12 + a5));
        }
      }), h3 && p3.frames.push(h3), 0 == p3.frames.length)
        return o2;
      var m3 = new Blob(n4), y2 = new Blob(s4);
      return p3.frames.forEach(function(e7) {
        var t6 = [];
        t6.push(l4), u3.set(_2(e7.width), 0), u3.set(_2(e7.height), 4), t6.push(d2("IHDR", u3)), t6.push(m3), e7.dataParts.forEach(function(e8) {
          return t6.push(d2("IDAT", e8));
        }), t6.push(y2), e7.imageData = new Blob(t6, { type: "image/png" }), delete e7.dataParts, t6 = null;
      }), p3;
    }
    function f2(e6, t5) {
      var r5 = new DataView(e6.buffer), n4 = 8, i4 = void 0, s4 = void 0, a5 = void 0;
      do {
        s4 = r5.getUint32(n4), a5 = t5(i4 = p2(e6, n4 + 4, 4), e6, n4, s4), n4 += 12 + s4;
      } while (false !== a5 && "IEND" != i4 && n4 < e6.length);
    }
    function p2(e6, t5, r5) {
      var n4 = Array.prototype.slice.call(e6.subarray(t5, t5 + r5));
      return String.fromCharCode.apply(String, n4);
    }
    function m2(e6) {
      for (var t5 = new Uint8Array(e6.length), r5 = 0; r5 < e6.length; r5++)
        t5[r5] = e6.charCodeAt(r5);
      return t5;
    }
    function v2(e6, t5, r5) {
      var n4 = new Uint8Array(r5);
      return n4.set(e6.subarray(t5, t5 + r5)), n4;
    }
    var d2 = function(e6, t5) {
      var r5 = e6.length + t5.length, i4 = new Uint8Array(r5 + 8), s4 = new DataView(i4.buffer);
      s4.setUint32(0, t5.length), i4.set(m2(e6), 4), i4.set(t5, 8);
      var a5 = (0, n3.default)(i4, 4, r5);
      return s4.setUint32(r5 + 4, a5), i4;
    }, _2 = function(e6) {
      return new Uint8Array([e6 >>> 24 & 255, e6 >>> 16 & 255, e6 >>> 8 & 255, 255 & e6]);
    };
  }, function(e5, t4) {
    Object.defineProperty(t4, "__esModule", { value: true }), t4.default = function(e6) {
      for (var t5 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n4 = -1, i4 = t5, s4 = t5 + (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e6.length - t5); i4 < s4; i4++)
        n4 = n4 >>> 8 ^ r4[255 & (n4 ^ e6[i4])];
      return -1 ^ n4;
    };
    for (var r4 = new Uint32Array(256), n3 = 0; n3 < 256; n3++) {
      for (var i3 = n3, s3 = 0; s3 < 8; s3++)
        i3 = 0 != (1 & i3) ? 3988292384 ^ i3 >>> 1 : i3 >>> 1;
      r4[n3] = i3;
    }
  }, function(e5, t4, r4) {
    Object.defineProperty(t4, "__esModule", { value: true }), t4.Frame = t4.APNG = void 0;
    var n3 = function() {
      function e6(e7, t5) {
        for (var r5 = 0; r5 < t5.length; r5++) {
          var n4 = t5[r5];
          n4.enumerable = n4.enumerable || false, n4.configurable = true, "value" in n4 && (n4.writable = true), Object.defineProperty(e7, n4.key, n4);
        }
      }
      return function(t5, r5, n4) {
        return r5 && e6(t5.prototype, r5), n4 && e6(t5, n4), t5;
      };
    }(), i3 = s3(r4(3));
    function s3(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    function a4(e6, t5) {
      if (!(e6 instanceof t5))
        throw new TypeError("Cannot call a class as a function");
    }
    t4.APNG = function() {
      function e6() {
        a4(this, e6), this.width = 0, this.height = 0, this.numPlays = 0, this.playTime = 0, this.frames = [];
      }
      return n3(e6, [{ key: "createImages", value: function() {
        return Promise.all(this.frames.map(function(e7) {
          return e7.createImage();
        }));
      } }, { key: "getPlayer", value: function(e7) {
        var t5 = this, r5 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return this.createImages().then(function() {
          return new i3.default(t5, e7, r5);
        });
      } }]), e6;
    }(), t4.Frame = function() {
      function e6() {
        a4(this, e6), this.left = 0, this.top = 0, this.width = 0, this.height = 0, this.delay = 0, this.disposeOp = 0, this.blendOp = 0, this.imageData = null, this.imageElement = null;
      }
      return n3(e6, [{ key: "createImage", value: function() {
        var e7 = this;
        return this.imageElement ? Promise.resolve() : new Promise(function(t5, r5) {
          var n4 = URL.createObjectURL(e7.imageData);
          e7.imageElement = document.createElement("img"), e7.imageElement.onload = function() {
            URL.revokeObjectURL(n4), t5();
          }, e7.imageElement.onerror = function() {
            URL.revokeObjectURL(n4), e7.imageElement = null, r5(new Error("Image creation error"));
          }, e7.imageElement.src = n4;
        });
      } }]), e6;
    }();
  }, function(e5, t4, r4) {
    Object.defineProperty(t4, "__esModule", { value: true });
    var n3 = function() {
      function e6(e7, t5) {
        for (var r5 = 0; r5 < t5.length; r5++) {
          var n4 = t5[r5];
          n4.enumerable = n4.enumerable || false, n4.configurable = true, "value" in n4 && (n4.writable = true), Object.defineProperty(e7, n4.key, n4);
        }
      }
      return function(t5, r5, n4) {
        return r5 && e6(t5.prototype, r5), n4 && e6(t5, n4), t5;
      };
    }();
    function i3(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    function s3(e6, t5) {
      if (!(e6 instanceof t5))
        throw new TypeError("Cannot call a class as a function");
    }
    function a4(e6, t5) {
      if (!e6)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !t5 || "object" != typeof t5 && "function" != typeof t5 ? e6 : t5;
    }
    function o2(e6, t5) {
      if ("function" != typeof t5 && null !== t5)
        throw new TypeError("Super expression must either be null or a function, not " + typeof t5);
      e6.prototype = Object.create(t5 && t5.prototype, { constructor: { value: e6, enumerable: false, writable: true, configurable: true } }), t5 && (Object.setPrototypeOf ? Object.setPrototypeOf(e6, t5) : e6.__proto__ = t5);
    }
    var u2 = function(e6) {
      function t5(e7, r5, n4) {
        s3(this, t5);
        var i4 = a4(this, (t5.__proto__ || Object.getPrototypeOf(t5)).call(this));
        return i4.playbackRate = 1, i4._currentFrameNumber = 0, i4._ended = false, i4._paused = true, i4._numPlays = 0, i4._apng = e7, i4.context = r5, i4.stop(), n4 && i4.play(), i4;
      }
      return o2(t5, e6), n3(t5, [{ key: "renderNextFrame", value: function() {
        this._currentFrameNumber = (this._currentFrameNumber + 1) % this._apng.frames.length, this._currentFrameNumber === this._apng.frames.length - 1 && (this._numPlays++, 0 !== this._apng.numPlays && this._numPlays >= this._apng.numPlays && (this._ended = true, this._paused = true)), this._prevFrame && 1 == this._prevFrame.disposeOp ? this.context.clearRect(this._prevFrame.left, this._prevFrame.top, this._prevFrame.width, this._prevFrame.height) : this._prevFrame && 2 == this._prevFrame.disposeOp && this.context.putImageData(this._prevFrameData, this._prevFrame.left, this._prevFrame.top);
        var e7 = this.currentFrame;
        this._prevFrame = e7, this._prevFrameData = null, 2 == e7.disposeOp && (this._prevFrameData = this.context.getImageData(e7.left, e7.top, e7.width, e7.height)), 0 == e7.blendOp && this.context.clearRect(e7.left, e7.top, e7.width, e7.height), this.context.drawImage(e7.imageElement, e7.left, e7.top), this.emit("frame", this._currentFrameNumber), this._ended && this.emit("end");
      } }, { key: "play", value: function() {
        var e7 = this;
        this.emit("play"), this._ended && this.stop(), this._paused = false;
        var t6 = performance.now() + this.currentFrame.delay / this.playbackRate, r5 = function r6(n4) {
          if (!e7._ended && !e7._paused) {
            if (n4 >= t6) {
              for (; n4 - t6 >= e7._apng.playTime / e7.playbackRate; )
                t6 += e7._apng.playTime / e7.playbackRate, e7._numPlays++;
              do {
                e7.renderNextFrame(), t6 += e7.currentFrame.delay / e7.playbackRate;
              } while (!e7._ended && n4 > t6);
            }
            requestAnimationFrame(r6);
          }
        };
        requestAnimationFrame(r5);
      } }, { key: "pause", value: function() {
        this._paused || (this.emit("pause"), this._paused = true);
      } }, { key: "stop", value: function() {
        this.emit("stop"), this._numPlays = 0, this._ended = false, this._paused = true, this._currentFrameNumber = -1, this.context.clearRect(0, 0, this._apng.width, this._apng.height), this.renderNextFrame();
      } }, { key: "currentFrameNumber", get: function() {
        return this._currentFrameNumber;
      } }, { key: "currentFrame", get: function() {
        return this._apng.frames[this._currentFrameNumber];
      } }, { key: "paused", get: function() {
        return this._paused;
      } }, { key: "ended", get: function() {
        return this._ended;
      } }]), t5;
    }(i3(r4(4)).default);
    t4.default = u2;
  }, function(e5, t4) {
    function r4() {
      this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0;
    }
    function n3(e6) {
      return "function" == typeof e6;
    }
    function i3(e6) {
      return "number" == typeof e6;
    }
    function s3(e6) {
      return "object" == typeof e6 && null !== e6;
    }
    function a4(e6) {
      return void 0 === e6;
    }
    e5.exports = r4, r4.EventEmitter = r4, r4.prototype._events = void 0, r4.prototype._maxListeners = void 0, r4.defaultMaxListeners = 10, r4.prototype.setMaxListeners = function(e6) {
      if (!i3(e6) || e6 < 0 || isNaN(e6))
        throw TypeError("n must be a positive number");
      return this._maxListeners = e6, this;
    }, r4.prototype.emit = function(e6) {
      var t5, r5, i4, o2, u2, h2;
      if (this._events || (this._events = {}), "error" === e6 && (!this._events.error || s3(this._events.error) && !this._events.error.length)) {
        if ((t5 = arguments[1]) instanceof Error)
          throw t5;
        var l4 = new Error('Uncaught, unspecified "error" event. (' + t5 + ")");
        throw l4.context = t5, l4;
      }
      if (a4(r5 = this._events[e6]))
        return false;
      if (n3(r5))
        switch (arguments.length) {
          case 1:
            r5.call(this);
            break;
          case 2:
            r5.call(this, arguments[1]);
            break;
          case 3:
            r5.call(this, arguments[1], arguments[2]);
            break;
          default:
            o2 = Array.prototype.slice.call(arguments, 1), r5.apply(this, o2);
        }
      else if (s3(r5))
        for (o2 = Array.prototype.slice.call(arguments, 1), i4 = (h2 = r5.slice()).length, u2 = 0; u2 < i4; u2++)
          h2[u2].apply(this, o2);
      return true;
    }, r4.prototype.addListener = function(e6, t5) {
      var i4;
      if (!n3(t5))
        throw TypeError("listener must be a function");
      return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e6, n3(t5.listener) ? t5.listener : t5), this._events[e6] ? s3(this._events[e6]) ? this._events[e6].push(t5) : this._events[e6] = [this._events[e6], t5] : this._events[e6] = t5, s3(this._events[e6]) && !this._events[e6].warned && (i4 = a4(this._maxListeners) ? r4.defaultMaxListeners : this._maxListeners) && i4 > 0 && this._events[e6].length > i4 && (this._events[e6].warned = true, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e6].length), "function" == typeof console.trace && console.trace()), this;
    }, r4.prototype.on = r4.prototype.addListener, r4.prototype.once = function(e6, t5) {
      if (!n3(t5))
        throw TypeError("listener must be a function");
      var r5 = false;
      function i4() {
        this.removeListener(e6, i4), r5 || (r5 = true, t5.apply(this, arguments));
      }
      return i4.listener = t5, this.on(e6, i4), this;
    }, r4.prototype.removeListener = function(e6, t5) {
      var r5, i4, a5, o2;
      if (!n3(t5))
        throw TypeError("listener must be a function");
      if (!this._events || !this._events[e6])
        return this;
      if (a5 = (r5 = this._events[e6]).length, i4 = -1, r5 === t5 || n3(r5.listener) && r5.listener === t5)
        delete this._events[e6], this._events.removeListener && this.emit("removeListener", e6, t5);
      else if (s3(r5)) {
        for (o2 = a5; o2-- > 0; )
          if (r5[o2] === t5 || r5[o2].listener && r5[o2].listener === t5) {
            i4 = o2;
            break;
          }
        if (i4 < 0)
          return this;
        1 === r5.length ? (r5.length = 0, delete this._events[e6]) : r5.splice(i4, 1), this._events.removeListener && this.emit("removeListener", e6, t5);
      }
      return this;
    }, r4.prototype.removeAllListeners = function(e6) {
      var t5, r5;
      if (!this._events)
        return this;
      if (!this._events.removeListener)
        return 0 === arguments.length ? this._events = {} : this._events[e6] && delete this._events[e6], this;
      if (0 === arguments.length) {
        for (t5 in this._events)
          "removeListener" !== t5 && this.removeAllListeners(t5);
        return this.removeAllListeners("removeListener"), this._events = {}, this;
      }
      if (n3(r5 = this._events[e6]))
        this.removeListener(e6, r5);
      else if (r5)
        for (; r5.length; )
          this.removeListener(e6, r5[r5.length - 1]);
      return delete this._events[e6], this;
    }, r4.prototype.listeners = function(e6) {
      return this._events && this._events[e6] ? n3(this._events[e6]) ? [this._events[e6]] : this._events[e6].slice() : [];
    }, r4.prototype.listenerCount = function(e6) {
      if (this._events) {
        var t5 = this._events[e6];
        if (n3(t5))
          return 1;
        if (t5)
          return t5.length;
      }
      return 0;
    }, r4.listenerCount = function(e6, t5) {
      return e6.listenerCount(t5);
    };
  }]);
}, r2.exports = n();
var s = t(i.exports);

// node_modules/@arcgis/core/chunks/index3.js
var e3 = {};
var r3 = {};
var t3 = {};
Object.defineProperty(t3, "__esModule", { value: true }), t3.loop = t3.conditional = t3.parse = void 0;
var n2 = function e4(r4, t4) {
  var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, a4 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : n3;
  if (Array.isArray(t4))
    t4.forEach(function(t5) {
      return e4(r4, t5, n3, a4);
    });
  else if ("function" == typeof t4)
    t4(r4, n3, a4, e4);
  else {
    var i3 = Object.keys(t4)[0];
    Array.isArray(t4[i3]) ? (a4[i3] = {}, e4(r4, t4[i3], n3, a4[i3])) : a4[i3] = t4[i3](r4, n3, a4, e4);
  }
  return n3;
};
t3.parse = n2;
var a3 = function(e5, r4) {
  return function(t4, n3, a4, i3) {
    r4(t4, n3, a4) && i3(t4, e5, n3, a4);
  };
};
t3.conditional = a3;
var i2 = function(e5, r4) {
  return function(t4, n3, a4, i3) {
    for (var o2 = [], d2 = t4.pos; r4(t4, n3, a4); ) {
      var s3 = {};
      if (i3(t4, e5, n3, s3), t4.pos === d2)
        break;
      d2 = t4.pos, o2.push(s3);
    }
    return o2;
  };
};
t3.loop = i2;
var o = {};
Object.defineProperty(o, "__esModule", { value: true }), o.readBits = o.readArray = o.readUnsigned = o.readString = o.peekBytes = o.readBytes = o.peekByte = o.readByte = o.buildStream = void 0;
var d = function(e5) {
  return { data: e5, pos: 0 };
};
o.buildStream = d;
var s2 = function() {
  return function(e5) {
    return e5.data[e5.pos++];
  };
};
o.readByte = s2;
var c2 = function() {
  var e5 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
  return function(r4) {
    return r4.data[r4.pos + e5];
  };
};
o.peekByte = c2;
var u = function(e5) {
  return function(r4) {
    return r4.data.subarray(r4.pos, r4.pos += e5);
  };
};
o.readBytes = u;
var l2 = function(e5) {
  return function(r4) {
    return r4.data.subarray(r4.pos, r4.pos + e5);
  };
};
o.peekBytes = l2;
var f = function(e5) {
  return function(r4) {
    return Array.from(u(e5)(r4)).map(function(e6) {
      return String.fromCharCode(e6);
    }).join("");
  };
};
o.readString = f;
var p = function(e5) {
  return function(r4) {
    var t4 = u(2)(r4);
    return e5 ? (t4[1] << 8) + t4[0] : (t4[0] << 8) + t4[1];
  };
};
o.readUnsigned = p;
var y = function(e5, r4) {
  return function(t4, n3, a4) {
    for (var i3 = "function" == typeof r4 ? r4(t4, n3, a4) : r4, o2 = u(e5), d2 = new Array(i3), s3 = 0; s3 < i3; s3++)
      d2[s3] = o2(t4);
    return d2;
  };
};
o.readArray = y;
var v = function(e5, r4, t4) {
  for (var n3 = 0, a4 = 0; a4 < t4; a4++)
    n3 += e5[r4 + a4] && Math.pow(2, t4 - a4 - 1);
  return n3;
};
var g = function(e5) {
  return function(r4) {
    for (var t4 = s2()(r4), n3 = new Array(8), a4 = 0; a4 < 8; a4++)
      n3[7 - a4] = !!(t4 & 1 << a4);
    return Object.keys(e5).reduce(function(r5, t5) {
      var a5 = e5[t5];
      return a5.length ? r5[t5] = v(n3, a5.index, a5.length) : r5[t5] = n3[a5.index], r5;
    }, {});
  };
};
o.readBits = g, function(e5) {
  Object.defineProperty(e5, "__esModule", { value: true }), e5.default = void 0;
  var r4 = t3, n3 = o, a4 = { blocks: function(e6) {
    for (var r5 = 0, t4 = [], a5 = e6.data.length, i4 = 0, o2 = (0, n3.readByte)()(e6); o2 !== r5 && o2; o2 = (0, n3.readByte)()(e6)) {
      if (e6.pos + o2 >= a5) {
        var d3 = a5 - e6.pos;
        t4.push((0, n3.readBytes)(d3)(e6)), i4 += d3;
        break;
      }
      t4.push((0, n3.readBytes)(o2)(e6)), i4 += o2;
    }
    for (var s4 = new Uint8Array(i4), c5 = 0, u3 = 0; u3 < t4.length; u3++)
      s4.set(t4[u3], c5), c5 += t4[u3].length;
    return s4;
  } }, i3 = (0, r4.conditional)({ gce: [{ codes: (0, n3.readBytes)(2) }, { byteSize: (0, n3.readByte)() }, { extras: (0, n3.readBits)({ future: { index: 0, length: 3 }, disposal: { index: 3, length: 3 }, userInput: { index: 6 }, transparentColorGiven: { index: 7 } }) }, { delay: (0, n3.readUnsigned)(true) }, { transparentColorIndex: (0, n3.readByte)() }, { terminator: (0, n3.readByte)() }] }, function(e6) {
    var r5 = (0, n3.peekBytes)(2)(e6);
    return 33 === r5[0] && 249 === r5[1];
  }), d2 = (0, r4.conditional)({ image: [{ code: (0, n3.readByte)() }, { descriptor: [{ left: (0, n3.readUnsigned)(true) }, { top: (0, n3.readUnsigned)(true) }, { width: (0, n3.readUnsigned)(true) }, { height: (0, n3.readUnsigned)(true) }, { lct: (0, n3.readBits)({ exists: { index: 0 }, interlaced: { index: 1 }, sort: { index: 2 }, future: { index: 3, length: 2 }, size: { index: 5, length: 3 } }) }] }, (0, r4.conditional)({ lct: (0, n3.readArray)(3, function(e6, r5, t4) {
    return Math.pow(2, t4.descriptor.lct.size + 1);
  }) }, function(e6, r5, t4) {
    return t4.descriptor.lct.exists;
  }), { data: [{ minCodeSize: (0, n3.readByte)() }, a4] }] }, function(e6) {
    return 44 === (0, n3.peekByte)()(e6);
  }), s3 = (0, r4.conditional)({ text: [{ codes: (0, n3.readBytes)(2) }, { blockSize: (0, n3.readByte)() }, { preData: function(e6, r5, t4) {
    return (0, n3.readBytes)(t4.text.blockSize)(e6);
  } }, a4] }, function(e6) {
    var r5 = (0, n3.peekBytes)(2)(e6);
    return 33 === r5[0] && 1 === r5[1];
  }), c4 = (0, r4.conditional)({ application: [{ codes: (0, n3.readBytes)(2) }, { blockSize: (0, n3.readByte)() }, { id: function(e6, r5, t4) {
    return (0, n3.readString)(t4.blockSize)(e6);
  } }, a4] }, function(e6) {
    var r5 = (0, n3.peekBytes)(2)(e6);
    return 33 === r5[0] && 255 === r5[1];
  }), u2 = (0, r4.conditional)({ comment: [{ codes: (0, n3.readBytes)(2) }, a4] }, function(e6) {
    var r5 = (0, n3.peekBytes)(2)(e6);
    return 33 === r5[0] && 254 === r5[1];
  }), l4 = [{ header: [{ signature: (0, n3.readString)(3) }, { version: (0, n3.readString)(3) }] }, { lsd: [{ width: (0, n3.readUnsigned)(true) }, { height: (0, n3.readUnsigned)(true) }, { gct: (0, n3.readBits)({ exists: { index: 0 }, resolution: { index: 1, length: 3 }, sort: { index: 4 }, size: { index: 5, length: 3 } }) }, { backgroundColorIndex: (0, n3.readByte)() }, { pixelAspectRatio: (0, n3.readByte)() }] }, (0, r4.conditional)({ gct: (0, n3.readArray)(3, function(e6, r5) {
    return Math.pow(2, r5.lsd.gct.size + 1);
  }) }, function(e6, r5) {
    return r5.lsd.gct.exists;
  }), { frames: (0, r4.loop)([i3, c4, u2, d2, s3], function(e6) {
    var r5 = (0, n3.peekByte)()(e6);
    return 33 === r5 || 44 === r5;
  }) }];
  e5.default = l4;
}(r3);
var h = {};
Object.defineProperty(h, "__esModule", { value: true }), h.deinterlace = void 0;
var B = function(e5, r4) {
  for (var t4 = new Array(e5.length), n3 = e5.length / r4, a4 = function(n4, a5) {
    var i4 = e5.slice(a5 * r4, (a5 + 1) * r4);
    t4.splice.apply(t4, [n4 * r4, r4].concat(i4));
  }, i3 = [0, 4, 2, 1], o2 = [8, 8, 4, 2], d2 = 0, s3 = 0; s3 < 4; s3++)
    for (var c4 = i3[s3]; c4 < n3; c4 += o2[s3])
      a4(c4, d2), d2++;
  return t4;
};
h.deinterlace = B;
var x = {};
Object.defineProperty(x, "__esModule", { value: true }), x.lzw = void 0;
var m = function(e5, r4, t4) {
  var n3, a4, i3, o2, d2, s3, c4, u2, l4, f2, p2, y2, v2, g2, h2, B2, x2 = 4096, m2 = -1, b2 = t4, w2 = new Array(t4), k2 = new Array(x2), A2 = new Array(x2), S2 = new Array(x2 + 1);
  for (d2 = (a4 = 1 << (f2 = e5)) + 1, n3 = a4 + 2, c4 = m2, i3 = (1 << (o2 = f2 + 1)) - 1, u2 = 0; u2 < a4; u2++)
    k2[u2] = 0, A2[u2] = u2;
  for (p2 = y2 = v2 = g2 = h2 = B2 = 0, l4 = 0; l4 < b2; ) {
    if (0 === g2) {
      if (y2 < o2) {
        p2 += r4[B2] << y2, y2 += 8, B2++;
        continue;
      }
      if (u2 = p2 & i3, p2 >>= o2, y2 -= o2, u2 > n3 || u2 == d2)
        break;
      if (u2 == a4) {
        i3 = (1 << (o2 = f2 + 1)) - 1, n3 = a4 + 2, c4 = m2;
        continue;
      }
      if (c4 == m2) {
        S2[g2++] = A2[u2], c4 = u2, v2 = u2;
        continue;
      }
      for (s3 = u2, u2 == n3 && (S2[g2++] = v2, u2 = c4); u2 > a4; )
        S2[g2++] = A2[u2], u2 = k2[u2];
      v2 = 255 & A2[u2], S2[g2++] = v2, n3 < x2 && (k2[n3] = c4, A2[n3] = v2, 0 == (++n3 & i3) && n3 < x2 && (o2++, i3 += n3)), c4 = s3;
    }
    g2--, w2[h2++] = S2[g2], l4++;
  }
  for (l4 = h2; l4 < b2; l4++)
    w2[l4] = 0;
  return w2;
};
x.lzw = m, Object.defineProperty(e3, "__esModule", { value: true });
var b = e3.decompressFrames = e3.decompressFrame = C = e3.parseGIF = void 0;
var w = _(r3);
var k = t3;
var A = o;
var S = h;
var z = x;
function _(e5) {
  return e5 && e5.__esModule ? e5 : { default: e5 };
}
var U = function(e5) {
  var r4 = new Uint8Array(e5);
  return (0, k.parse)((0, A.buildStream)(r4), w.default);
};
var C = e3.parseGIF = U;
var M = function(e5) {
  for (var r4 = e5.pixels.length, t4 = new Uint8ClampedArray(4 * r4), n3 = 0; n3 < r4; n3++) {
    var a4 = 4 * n3, i3 = e5.pixels[n3], o2 = e5.colorTable[i3] || [0, 0, 0];
    t4[a4] = o2[0], t4[a4 + 1] = o2[1], t4[a4 + 2] = o2[2], t4[a4 + 3] = i3 !== e5.transparentIndex ? 255 : 0;
  }
  return t4;
};
var j = function(e5, r4, t4) {
  if (e5.image) {
    var n3 = e5.image, a4 = n3.descriptor.width * n3.descriptor.height, i3 = (0, z.lzw)(n3.data.minCodeSize, n3.data.blocks, a4);
    n3.descriptor.lct.interlaced && (i3 = (0, S.deinterlace)(i3, n3.descriptor.width));
    var o2 = { pixels: i3, dims: { top: e5.image.descriptor.top, left: e5.image.descriptor.left, width: e5.image.descriptor.width, height: e5.image.descriptor.height } };
    return n3.descriptor.lct && n3.descriptor.lct.exists ? o2.colorTable = n3.lct : o2.colorTable = r4, e5.gce && (o2.delay = 10 * (e5.gce.delay || 10), o2.disposalType = e5.gce.extras.disposal, e5.gce.extras.transparentColorGiven && (o2.transparentIndex = e5.gce.transparentColorIndex)), t4 && (o2.patch = M(o2)), o2;
  }
  console.warn("gif frame does not have associated image.");
};
e3.decompressFrame = j;
var I = function(e5, r4) {
  return e5.frames.filter(function(e6) {
    return e6.image;
  }).map(function(t4) {
    return j(t4, e5.gct, r4);
  });
};
b = e3.decompressFrames = I;

// node_modules/@arcgis/core/symbols/cim/Rasterizer.js
var l3 = 512;
var c3 = class {
  constructor(e5) {
    this._resourceManager = e5, this._rasterizationCanvas = null;
  }
  dispose() {
    this._rasterizationCanvas = null;
  }
  rasterizeJSONResource(m2, l4, c4) {
    if (this._rasterizationCanvas || (this._rasterizationCanvas = document.createElement("canvas")), "simple-fill" === m2.type || "esriSFS" === m2.type) {
      const [t4, a4, i3] = r(this._rasterizationCanvas, m2.style, l4);
      return { size: [a4, i3], image: new Uint32Array(t4.buffer), sdf: false, simplePattern: true, anchorX: 0, anchorY: 0, rasterizationScale: c(Math.ceil(l4)) };
    }
    if ("simple-line" === m2.type || "esriSLS" === m2.type || "line" === m2.type && m2.dashTemplate) {
      let e5, a4;
      if ("simple-line" === m2.type || "esriSLS" === m2.type)
        switch (e5 = Me(m2.style, m2.cap), m2.cap) {
          case "butt":
            a4 = "Butt";
            break;
          case "square":
            a4 = "Square";
            break;
          default:
            a4 = "Round";
        }
      else
        e5 = m2.dashTemplate, a4 = m2.cim.capStyle;
      const [r4, n3, s3] = e(e5, a4);
      return { size: [n3, s3], image: new Uint32Array(r4.buffer), sdf: true, simplePattern: true, anchorX: 0, anchorY: 0 };
    }
    let f2, h2 = null, p2 = null, u2 = 1;
    if ("simple-marker" === m2.type || "esriSMS" === m2.type || "line-marker" === m2.type ? (f2 = ie.fromSimpleMarker(m2), p2 = l(f2)) : m2.cim && "CIMHatchFill" === m2.cim.type ? (f2 = ie.fromCIMHatchFill(m2.cim, l4), h2 = new t2(f2.frame.xmin, -f2.frame.ymax, f2.frame.xmax - f2.frame.xmin, f2.frame.ymax - f2.frame.ymin), u2 = l4) : m2.cim.markerPlacement && "CIMMarkerPlacementInsidePolygon" === m2.cim.markerPlacement.type ? (f2 = ie.fromCIMInsidePolygon(m2.cim), h2 = new t2(f2.frame.xmin, -f2.frame.ymax, f2.frame.xmax - f2.frame.xmin, f2.frame.ymax - f2.frame.ymin)) : (f2 = m2.cim, m2.avoidSDFRasterization || (p2 = l(f2))), p2 && !c4) {
      const [e5, t4, a4] = a2(p2);
      return e5 ? { size: [t4, a4], image: new Uint32Array(e5.buffer), sdf: true, simplePattern: true, anchorX: 0, anchorY: 0, rasterizationScale: u2 } : null;
    }
    const [y2, d2, C2, g2, z2] = ie.rasterize(this._rasterizationCanvas, f2, h2, this._resourceManager, !c4);
    return y2 ? { size: [d2, C2], image: new Uint32Array(y2.buffer), sdf: false, simplePattern: false, anchorX: g2, anchorY: z2 } : null;
  }
  rasterizeImageResource(e5, t4, a4, r4) {
    this._rasterizationCanvas || (this._rasterizationCanvas = document.createElement("canvas")), this._rasterizationCanvas.width = e5, this._rasterizationCanvas.height = t4;
    const i3 = this._rasterizationCanvas.getContext("2d");
    a4 instanceof ImageData ? i3.putImageData(a4, 0, 0) : (a4.setAttribute("width", `${e5}px`), a4.setAttribute("height", `${t4}px`), i3.drawImage(a4, 0, 0, e5, t4));
    const n3 = i3.getImageData(0, 0, e5, t4), s3 = new Uint8Array(n3.data);
    if (r4) {
      for (const m2 of r4)
        if (m2 && m2.oldColor && 4 === m2.oldColor.length && m2.newColor && 4 === m2.newColor.length) {
          const [e6, t5, a5, r5] = m2.oldColor, [i4, n4, o3, l4] = m2.newColor;
          if (e6 === i4 && t5 === n4 && a5 === o3 && r5 === l4)
            continue;
          for (let m3 = 0; m3 < s3.length; m3 += 4)
            e6 === s3[m3] && t5 === s3[m3 + 1] && a5 === s3[m3 + 2] && r5 === s3[m3 + 3] && (s3[m3] = i4, s3[m3 + 1] = n4, s3[m3 + 2] = o3, s3[m3 + 3] = l4);
        }
    }
    let o2;
    for (let m2 = 0; m2 < s3.length; m2 += 4)
      o2 = s3[m2 + 3] / 255, s3[m2] = s3[m2] * o2, s3[m2 + 1] = s3[m2 + 1] * o2, s3[m2 + 2] = s3[m2 + 2] * o2;
    let c4 = s3, f2 = e5, h2 = t4;
    const p2 = l3;
    if (f2 >= p2 || h2 >= p2) {
      const a5 = f2 / h2;
      a5 > 1 ? (f2 = p2, h2 = Math.round(p2 / a5)) : (h2 = p2, f2 = Math.round(p2 * a5)), c4 = new Uint8Array(4 * f2 * h2);
      const r5 = new Uint8ClampedArray(c4.buffer);
      a(s3, e5, t4, r5, f2, h2, false);
    }
    return { size: [f2, h2], image: new Uint32Array(c4.buffer), sdf: false, simplePattern: false, anchorX: 0, anchorY: 0 };
  }
};

export {
  s,
  b,
  C,
  c3 as c
};
//# sourceMappingURL=chunk-AHVENFMO.js.map
