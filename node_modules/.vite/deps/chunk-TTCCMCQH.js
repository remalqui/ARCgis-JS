import {
  n as n5
} from "./chunk-AEPMR2T7.js";
import {
  n as n3
} from "./chunk-EF6YPOUN.js";
import {
  n as n4
} from "./chunk-AYMF6OMA.js";
import {
  E
} from "./chunk-WWUAHPIM.js";
import {
  n as n2,
  r as r2,
  u as u3
} from "./chunk-AHAGGZUI.js";
import {
  o as o2
} from "./chunk-VZAEQ6CY.js";
import {
  g as g2
} from "./chunk-KTSEQWMB.js";
import {
  l,
  v as v2
} from "./chunk-MOPR7RFH.js";
import {
  A,
  O2 as O,
  P,
  _2 as _,
  e2 as e,
  g,
  n,
  o,
  p,
  r2 as r,
  s as s2,
  t as t2,
  u,
  u2,
  v,
  x,
  z
} from "./chunk-KW3ZNPTA.js";
import {
  a2 as a
} from "./chunk-TJB4CGOM.js";
import {
  t
} from "./chunk-CIDWM2UN.js";
import {
  s2 as s
} from "./chunk-W2N7YT6I.js";

// node_modules/@arcgis/core/geometry/support/Axis.js
var n6;
!function(n7) {
  n7[n7.X = 0] = "X", n7[n7.Y = 1] = "Y", n7[n7.Z = 2] = "Z";
}(n6 || (n6 = {}));

// node_modules/@arcgis/core/core/ObjectStack.js
var s3 = class {
  constructor(t4) {
    this._allocator = t4, this._items = [], this._itemsPtr = 0, this._grow();
  }
  get() {
    return 0 === this._itemsPtr && t(() => this._reset()), this._itemsPtr === this._items.length && this._grow(), this._items[this._itemsPtr++];
  }
  _reset() {
    const t4 = Math.min(3 * Math.max(8, this._itemsPtr), this._itemsPtr + 3 * i);
    this._items.length = Math.min(t4, this._items.length), this._itemsPtr = 0;
  }
  _grow() {
    for (let t4 = 0; t4 < Math.max(8, Math.min(this._items.length, i)); t4++)
      this._items.push(this._allocator());
  }
};
var i = 1024;

// node_modules/@arcgis/core/core/VectorStack.js
var a2 = class _a {
  constructor(t4, e2, s5) {
    this._itemByteSize = t4, this._itemCreate = e2, this._buffers = new Array(), this._items = new Array(), this._itemsPtr = 0, this._itemsPerBuffer = Math.ceil(s5 / this._itemByteSize);
  }
  get() {
    0 === this._itemsPtr && t(() => this._reset());
    const t4 = Math.floor(this._itemsPtr / this._itemsPerBuffer);
    for (; this._buffers.length <= t4; ) {
      const t5 = new ArrayBuffer(this._itemsPerBuffer * this._itemByteSize);
      for (let e2 = 0; e2 < this._itemsPerBuffer; ++e2)
        this._items.push(this._itemCreate(t5, e2 * this._itemByteSize));
      this._buffers.push(t5);
    }
    return this._items[this._itemsPtr++];
  }
  _reset() {
    const t4 = 2 * (Math.floor(this._itemsPtr / this._itemsPerBuffer) + 1);
    for (; this._buffers.length > t4; )
      this._buffers.pop(), this._items.length = this._buffers.length * this._itemsPerBuffer;
    this._itemsPtr = 0;
  }
  static createVec2f64(t4 = c) {
    return new _a(16, o2, t4);
  }
  static createVec3f64(t4 = c) {
    return new _a(24, u, t4);
  }
  static createVec4f64(t4 = c) {
    return new _a(32, u3, t4);
  }
  static createMat3f64(t4 = c) {
    return new _a(72, n3, t4);
  }
  static createMat4f64(t4 = c) {
    return new _a(128, n4, t4);
  }
  static createQuatf64(t4 = c) {
    return new _a(32, n5, t4);
  }
  get test() {
    return { size: this._buffers.length * this._itemsPerBuffer * this._itemByteSize };
  }
};
var c = 4 * E.KILOBYTES;

// node_modules/@arcgis/core/geometry/support/vectorStacks.js
var t3 = a2.createVec2f64();
var c2 = a2.createVec3f64();
var r3 = a2.createVec4f64();
var a3 = a2.createMat3f64();
var f = a2.createMat4f64();
var o3 = a2.createQuatf64();

// node_modules/@arcgis/core/geometry/support/ray.js
function d(i2) {
  return i2 ? m(t2(i2.origin), t2(i2.direction)) : m(n(), n());
}
function m(i2, n7) {
  return { origin: i2, direction: n7 };
}
function p2(i2, n7) {
  const r4 = S.get();
  return r4.origin = i2, r4.direction = n7, r4;
}
function q(i2, n7, r4) {
  const o4 = P(i2.direction, e(r4, n7, i2.origin));
  return u2(r4, i2.origin, g(r4, i2.direction, o4)), r4;
}
var S = new s3(() => d());

// node_modules/@arcgis/core/geometry/support/vector.js
function a4(o4, s5) {
  const c3 = P(o4, s5) / (s2(o4) * s2(s5));
  return -l(c3);
}
var m2 = n();
var h = n();

// node_modules/@arcgis/core/chunks/sphere.js
var R = _2();
function _2() {
  return n2();
}
function q2(t4, n7 = _2()) {
  return a(n7, t4);
}
function w(t4, n7) {
  return r2(t4[0], t4[1], t4[2], n7);
}
function C(t4) {
  return t4;
}
function O2(t4) {
  t4[0] = t4[1] = t4[2] = t4[3] = 0;
}
function T(t4, n7) {
  return t4[0] = t4[1] = t4[2] = 0, t4[3] = n7, t4;
}
function k(t4) {
  return t4[3];
}
function z2(t4) {
  return t4;
}
function E2(t4, n7, r4, e2) {
  return r2(t4, n7, r4, e2);
}
function L(t4, n7, r4) {
  return t4 !== r4 && r(r4, t4), r4[3] = t4[3] + n7, r4;
}
function N(n7, r4, e2) {
  return s.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"), n7 === e2 ? e2 : q2(n7, e2);
}
function Z(t4, n7, r4) {
  if (null == n7)
    return false;
  const { origin: e2, direction: o4 } = n7, s5 = U;
  s5[0] = e2[0] - t4[0], s5[1] = e2[1] - t4[1], s5[2] = e2[2] - t4[2];
  const i2 = o4[0] * o4[0] + o4[1] * o4[1] + o4[2] * o4[2];
  if (0 === i2)
    return false;
  const a5 = 2 * (o4[0] * s5[0] + o4[1] * s5[1] + o4[2] * s5[2]), c3 = a5 * a5 - 4 * i2 * (s5[0] * s5[0] + s5[1] * s5[1] + s5[2] * s5[2] - t4[3] * t4[3]);
  if (c3 < 0)
    return false;
  const u4 = Math.sqrt(c3);
  let f2 = (-a5 - u4) / (2 * i2);
  const m3 = (-a5 + u4) / (2 * i2);
  return (f2 < 0 || m3 < f2 && m3 > 0) && (f2 = m3), !(f2 < 0) && (r4 && (r4[0] = e2[0] + o4[0] * f2, r4[1] = e2[1] + o4[1] * f2, r4[2] = e2[2] + o4[2] * f2), true);
}
var U = n();
function V(t4, n7) {
  return Z(t4, n7, null);
}
function X(t4, n7, r4) {
  if (Z(t4, n7, r4))
    return r4;
  const e2 = Y(t4, n7, c2.get());
  return u2(r4, n7.origin, g(c2.get(), n7.direction, x(n7.origin, e2) / s2(n7.direction))), r4;
}
function Y(t4, n7, r4) {
  const o4 = c2.get(), s5 = f.get();
  _(o4, n7.origin, n7.direction);
  const a5 = k(t4);
  _(r4, o4, n7.origin), g(r4, r4, 1 / s2(r4) * a5);
  const m3 = G(t4, n7.origin), p3 = a4(n7.origin, r4);
  return g2(s5, p3 + m3, o4), O(r4, r4, s5), r4;
}
function B(t4, n7, r4) {
  return Z(t4, n7, r4) ? r4 : (q(n7, z2(t4), r4), D(t4, r4, r4));
}
function D(t4, n7, r4) {
  const e2 = e(c2.get(), n7, z2(t4)), o4 = g(c2.get(), e2, t4[3] / s2(e2));
  return u2(r4, o4, z2(t4));
}
function F(t4, n7) {
  const r4 = e(c2.get(), n7, z2(t4)), e2 = v(r4), o4 = t4[3] * t4[3];
  return Math.sqrt(Math.abs(e2 - o4));
}
function G(t4, r4) {
  const e2 = e(c2.get(), r4, z2(t4)), o4 = s2(e2), s5 = k(t4), i2 = s5 + Math.abs(s5 - o4);
  return l(s5 / i2);
}
var H = n();
function I(t4, n7, e2, o4) {
  const s5 = e(H, n7, z2(t4));
  switch (e2) {
    case n6.X: {
      const t5 = v2(s5, H)[2];
      return o(o4, -Math.sin(t5), Math.cos(t5), 0);
    }
    case n6.Y: {
      const t5 = v2(s5, H), n8 = t5[1], e3 = t5[2], i2 = Math.sin(n8);
      return o(o4, -i2 * Math.cos(e3), -i2 * Math.sin(e3), Math.cos(n8));
    }
    case n6.Z:
      return z(o4, s5);
    default:
      return;
  }
}
function J(t4, n7) {
  const r4 = e($, n7, z2(t4));
  return s2(r4) - t4[3];
}
function K(t4, n7, r4, e2) {
  const o4 = J(t4, n7), a5 = I(t4, n7, n6.Z, $), c3 = g($, a5, r4 - o4);
  return u2(e2, n7, c3);
}
function Q(t4, n7) {
  const r4 = p(z2(t4), n7), e2 = k(t4);
  return r4 <= e2 * e2;
}
function W(t4, n7, r4 = _2()) {
  const e2 = x(t4, n7), o4 = t4[3], s5 = n7[3];
  return e2 + s5 < o4 ? (a(r4, t4), r4) : e2 + o4 < s5 ? (a(r4, n7), r4) : (A(r4, t4, n7, (e2 + s5 - o4) / (2 * e2)), r4[3] = (e2 + o4 + s5) / 2, r4);
}
var $ = n();
var tt = _2();
var nt = Object.freeze(Object.defineProperty({ __proto__: null, NullSphere: R, altitudeAt: J, angleToSilhouette: G, axisAt: I, clear: O2, closestPoint: B, closestPointOnSilhouette: Y, containsPoint: Q, copy: q2, create: _2, distanceToSilhouette: F, elevate: L, fromCenterAndRadius: w, fromRadius: T, fromValues: E2, getCenter: z2, getRadius: k, intersectRay: Z, intersectRayClosestSilhouette: X, intersectsRay: V, projectPoint: D, setAltitudeAt: K, setExtent: N, tmpSphere: tt, union: W, wrap: C }, Symbol.toStringTag, { value: "Module" }));

export {
  s3 as s,
  c2 as c,
  d,
  p2 as p,
  _2 as _,
  q2 as q,
  k,
  z2 as z,
  V,
  Q
};
//# sourceMappingURL=chunk-TTCCMCQH.js.map
