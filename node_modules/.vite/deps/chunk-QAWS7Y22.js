import {
  V
} from "./chunk-4RFFPIT2.js";
import {
  m
} from "./chunk-OYBXMT5R.js";
import {
  e2 as e
} from "./chunk-CIDWM2UN.js";

// node_modules/@arcgis/core/core/accessorSupport/diffUtils.js
var o = ["esri.Color", "esri.portal.Portal", "esri.symbols.support.Symbol3DAnchorPosition2D", "esri.symbols.support.Symbol3DAnchorPosition3D"];
function r(t) {
  return t instanceof m;
}
function f(e2) {
  return e2 instanceof V ? Object.keys(e2.items) : r(e2) ? e(e2).keys() : e2 ? Object.keys(e2) : [];
}
function l(e2, n) {
  return e2 instanceof V ? e2.items[n] : e2[n];
}
function i(e2, t) {
  return !(!Array.isArray(e2) || !Array.isArray(t)) && e2.length !== t.length;
}
function u(e2) {
  return e2 ? e2.declaredClass : null;
}
function c(e2, t) {
  var _a;
  const n = e2.diff;
  if (n && "function" == typeof n)
    return n(e2, t);
  const s2 = f(e2), p2 = f(t);
  if (0 === s2.length && 0 === p2.length)
    return;
  if (!s2.length || !p2.length || i(e2, t))
    return { type: "complete", oldValue: e2, newValue: t };
  const a2 = p2.filter((e3) => !s2.includes(e3)), y = s2.filter((e3) => !p2.includes(e3)), d = s2.filter((n2) => p2.includes(n2) && l(e2, n2) !== l(t, n2)).concat(a2, y).sort(), m2 = u(e2);
  if (m2 && o.includes(m2) && d.length)
    return { type: "complete", oldValue: e2, newValue: t };
  let h;
  const b = r(e2) && r(t);
  for (const o2 of d) {
    const r2 = l(e2, o2), f2 = l(t, o2);
    let i2;
    if ((b || "function" != typeof r2 && "function" != typeof f2) && (r2 !== f2 && (null != r2 || null != f2))) {
      if (n && n[o2] && "function" == typeof n[o2])
        i2 = (_a = n[o2]) == null ? void 0 : _a.call(n, r2, f2);
      else if (r2 instanceof Date && f2 instanceof Date) {
        if (r2.getTime() === f2.getTime())
          continue;
        i2 = { type: "complete", oldValue: r2, newValue: f2 };
      } else
        i2 = "object" == typeof r2 && "object" == typeof f2 && u(r2) === u(f2) ? c(r2, f2) : { type: "complete", oldValue: r2, newValue: f2 };
      null != i2 && (null != h ? h.diff[o2] = i2 : h = { type: "partial", diff: { [o2]: i2 } });
    }
  }
  return h;
}
function s(e2, t) {
  if (null == e2)
    return false;
  const n = t.split(".");
  let o2 = e2;
  for (const r2 of n) {
    if ("complete" === o2.type)
      return true;
    if ("partial" !== o2.type)
      return false;
    {
      const e3 = o2.diff[r2];
      if (!e3)
        return false;
      o2 = e3;
    }
  }
  return true;
}
function p(e2, t) {
  for (const n of t)
    if (s(e2, n))
      return true;
  return false;
}
function a(e2, t) {
  if ("function" != typeof e2 && "function" != typeof t && (null != e2 || null != t))
    return null == e2 || null == t || "object" == typeof e2 && "object" == typeof t && u(e2) !== u(t) ? { type: "complete", oldValue: e2, newValue: t } : c(e2, t);
}

export {
  s,
  p,
  a
};
//# sourceMappingURL=chunk-QAWS7Y22.js.map
