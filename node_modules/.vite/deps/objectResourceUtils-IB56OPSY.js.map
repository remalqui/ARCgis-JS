{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/FloatArray.js", "../../@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js", "../../@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js", "../../@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js", "../../@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js", "../../@arcgis/core/geometry/support/triangle.js", "../../@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js", "../../@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Geometry.js", "../../@arcgis/core/libs/basisu/BasisU.js", "../../@arcgis/core/libs/basisu/TextureFormat.js", "../../@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js", "../../@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js", "../../@arcgis/core/views/3d/webgl-engine/lib/Texture.js", "../../@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js", "../../@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js", "../../@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js", "../../@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js", "../../@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js", "../../@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechniqueConfiguration.js", "../../@arcgis/core/views/3d/webgl-engine/shaders/RealisticTreeTechnique.js", "../../@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js", "../../@arcgis/core/views/3d/layers/graphics/wosrLoader.js", "../../@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NATIVE_ARRAY_MAX_SIZE as r,isArray as n}from\"../../core/typedArrayUtil.js\";function t(n,t=!1){return n<=r?t?new Array(n).fill(0):new Array(n):new Float32Array(n)}function e(t){return n(t)?t.length<r?t:new Float32Array(t):t.length<r?Array.from(t):t}function a(t){return(n(t)?t.length:t.byteLength/8)<=r?Array.from(t):new Float32Array(t)}function o(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}export{e as compactFloatArray,a as floatArrayFrom,o as floatSubArray,t as newFloatArray};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{f as s,c as t}from\"../../../../chunks/mat3f32.js\";import{Z as n,O as o}from\"../../../../chunks/vec2f32.js\";import{m as a}from\"../../../../chunks/mat3.js\";function r(r){if(null==r)return null;const f=null!=r.offset?r.offset:n,l=null!=r.rotation?r.rotation:0,c=null!=r.scale?r.scale:o,u=s(1,0,0,0,1,0,f[0],f[1],1),i=s(Math.cos(l),-Math.sin(l),0,Math.sin(l),Math.cos(l),0,0,0,1),m=s(c[0],0,0,0,c[1],0,0,0,1),e=t();return a(e,i,m),a(e,u,e),e}export{r as getTransformMatrix};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass s{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class t{constructor(t,e,r){this.name=t,this.lodThreshold=e,this.pivotOffset=r,this.stageResources=new s,this.numberOfVertices=0}}export{t as ProcessedObjectResource,s as ProcessedObjectStageResources};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NATIVE_ARRAY_MAX_SIZE as r,isArray as t,isUint16Array as a}from\"../../../../core/typedArrayUtil.js\";function o(o){if(o.length<r)return Array.from(o);if(t(o))return Float64Array.from(o);if(!(\"BYTES_PER_ELEMENT\"in o))return Array.from(o);switch(o.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(o);case 2:return a(o)?Uint16Array.from(o):Int16Array.from(o);case 4:return Float32Array.from(o);default:return Float64Array.from(o)}}export{o as cloneAttributeData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport i from\"../../../../core/PooledArray.js\";import{h as t,d as s}from\"../../../../chunks/vec3.js\";import{f as e,a as n,c as r}from\"../../../../chunks/vec3f64.js\";import{assert as h}from\"./Util.js\";class o{constructor(i,s,o,c){this.primitiveIndices=i,this._numIndexPerPrimitive=s,this.indices=o,this.position=c,this._children=void 0,h(i.length>=1),h(o.length%this._numIndexPerPrimitive==0),h(o.length>=i.length*this._numIndexPerPrimitive),h(3===c.size||4===c.size);const{data:d,size:l}=c,m=i.length;let u=l*o[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=e(d[u],d[u+1],d[u+2]),x=n(f);for(let t=0;t<m;++t){const s=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*o[s+i],a.push(u);let t=d[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=d[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=d[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=t(r(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let v=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.at(t);const i=d[u]-P[0],s=d[u+1]-P[1],e=d[u+2]-P[2],n=i*i+s*s+e*e;if(n<=v)continue;const r=Math.sqrt(n),h=.5*(r-this.radius);this.radius=this.radius+h,v=this.radius*this.radius;const o=h/r;P[0]+=i*o,P[1]+=s*o,P[2]+=e*o}this.center=P,a.clear()}getChildren(){if(this._children||s(this.bbMin,this.bbMax)<=1)return this._children;const i=t(r(),this.bbMin,this.bbMax,.5),e=this.primitiveIndices.length,n=new Uint8Array(e),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c}=this.position;for(let t=0;t<e;++t){let s=0;const e=this._numIndexPerPrimitive*this.primitiveIndices[t];let r=c*this.indices[e],o=a[r],d=a[r+1],l=a[r+2];for(let i=1;i<this._numIndexPerPrimitive;++i){r=c*this.indices[e+i];const t=a[r],s=a[r+1],n=a[r+2];t<o&&(o=t),s<d&&(d=s),n<l&&(l=n)}o<i[0]&&(s|=1),d<i[1]&&(s|=2),l<i[2]&&(s|=4),n[t]=s,++h[s]}let d=0;for(let t=0;t<8;++t)h[t]>0&&++d;if(d<2)return;const l=new Array(8);for(let t=0;t<8;++t)l[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<e;++t){const i=n[t];l[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==l[t]&&this._children.push(new o(l[t],this._numIndexPerPrimitive,this.indices,this.position));return this._children}static prune(){a.prune()}}const a=new i({deallocator:null});export{o as BoundingInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ObjectStack as t}from\"../../core/ObjectStack.js\";import{c as n,b as e,f as r,e as o,g as p,a as c,l as s}from\"../../chunks/vec3.js\";import{a as i,c as u}from\"../../chunks/vec3f64.js\";import{create as a,distance2 as f,fromValues as g}from\"./lineSegment.js\";import{sv3d as m}from\"./vectorStacks.js\";function j(t){return t?{p0:i(t.p0),p1:i(t.p1),p2:i(t.p2)}:{p0:u(),p1:u(),p2:u()}}function h(t,n,e){const r=x.get();return r.p0=t,r.p1=n,r.p2=e,r}function k(t,n=j()){return b(t.p0,t.p1,t.p2,n)}function b(t,e,r,o=j()){return n(o.p0,t),n(o.p1,e),n(o.p2,r),o}function l(t,n){const p=t.p0,c=t.p1,s=t.p2,i=e(m.get(),c,p),u=e(m.get(),s,c),a=e(m.get(),p,s),j=e(m.get(),n,p),h=e(m.get(),n,c),k=e(m.get(),n,s),b=r(i,i,a),l=o(r(m.get(),i,b),j),v=o(r(m.get(),u,b),h),S=o(r(m.get(),a,b),k);if(l>0&&v>0&&S>0){const t=o(b,j);return t*t/o(b,b)}const d=f(g(p,i,M.get()),n),w=f(g(c,u,M.get()),n),x=f(g(s,a,M.get()),n);return Math.min(d,w,x)}function v(t,n,e){const r=1e-5,{direction:o,origin:s}=n,{p0:i,p1:u,p2:a}=t,f=u[0]-i[0],g=u[1]-i[1],m=u[2]-i[2],j=a[0]-i[0],h=a[1]-i[1],k=a[2]-i[2],b=o[1]*k-h*o[2],l=o[2]*j-k*o[0],v=o[0]*h-j*o[1],S=f*b+g*l+m*v;if(S>-r&&S<r)return!1;const d=1/S,w=s[0]-i[0],M=s[1]-i[1],x=s[2]-i[2],O=d*(w*b+M*l+x*v);if(O<0||O>1)return!1;const V=M*m-g*x,q=x*f-m*w,y=w*g-f*M,z=d*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(e){p(e,o,d*(j*V+h*q+k*y)),c(e,s,e)}return!0}function S(t,n,e){const r=n[0]-t[0],o=n[1]-t[1],p=e[0]-t[0],c=e[1]-t[1];return.5*Math.abs(r*c-o*p)}function d(t){return S(t.p0,t.p1,t.p2)}function w(t,n,o){return e(O,n,t),e(V,o,t),s(r(O,O,V))/2}const M=new t(a),x=new t((()=>j())),O=u(),V=u();export{d as area2d,S as areaPoints2d,w as areaPoints3d,k as copy,j as create,l as distance2,b as fromValues,v as intersectRay,h as wrap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t,a as n,g as e,j as r}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{areaPoints3d as s}from\"../../../../geometry/support/triangle.js\";function c(r,o,c){if(!r||!o)return!1;const{size:a,data:f}=r;t(c,0,0,0),t(g,0,0,0);let m=0,h=0;for(let p=0;p<o.length-2;p+=3){const r=o[p]*a,j=o[p+1]*a,d=o[p+2]*a;t(i,f[r],f[r+1],f[r+2]),t(u,f[j],f[j+1],f[j+2]),t(l,f[d],f[d+1],f[d+2]);const z=s(i,u,l);z?(n(i,i,u),n(i,i,l),e(i,i,1/3*z),n(c,c,i),m+=z):(n(g,g,i),n(g,g,u),n(g,g,l),h+=3)}return(0!==h||0!==m)&&(0!==m?(e(c,c,1/m),!0):0!==h&&(e(c,g,1/h),!0))}function a(n,r,o){if(!n||!r)return!1;const{size:s,data:c}=n;t(o,0,0,0);let a=-1,f=0;for(let t=0;t<r.length;t++){const n=r[t]*s;a!==n&&(o[0]+=c[n],o[1]+=c[n+1],o[2]+=c[n+2],f++),a=n}return f>1&&e(o,o,1/f),f>0}function f(o,s,c,a){if(!o)return!1;t(a,0,0,0),t(g,0,0,0);let f=0,l=0;const{size:m,data:h}=o,p=s?s.length-1:h.length/m-1,j=p+(c?2:0);for(let t=0;t<j;t+=2){const o=t<p?t:p,c=t<p?t+1:0,j=(s?s[o]:o)*m,d=(s?s[c]:c)*m;i[0]=h[j],i[1]=h[j+1],i[2]=h[j+2],u[0]=h[d],u[1]=h[d+1],u[2]=h[d+2],e(i,n(i,i,u),.5);const z=r(i,u);z>0?(n(a,a,e(i,i,z)),f+=z):0===f&&(n(g,g,i),l++)}return 0!==f?(e(a,a,1/f),!0):0!==l&&(e(a,g,1/l),!0)}const i=o(),u=o(),l=o(),g=o();export{f as computeAttachmentOriginLines,a as computeAttachmentOriginPoints,c as computeAttachmentOriginTriangles};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{generateUID as o}from\"../../../../core/uid.js\";class r{constructor(r){this.channel=r,this.id=o()}}export{r as Object3DStateID};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../../../chunks/vec3f64.js\";import{encodeDoubleArray as e}from\"../../../../webgl/doublePrecisionUtils.js\";function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function s(t,n,r,s,u){l[0]=t.get(n,0),l[1]=t.get(n,1),l[2]=t.get(n,2),e(l,o,3),r.set(u,0,o[0]),s.set(u,0,o[1]),r.set(u,1,o[2]),s.set(u,1,o[3]),r.set(u,2,o[4]),s.set(u,2,o[5])}const l=t(),o=new Float32Array(6);export{n as addObject3DStateID,s as encodeDoubleVec3,r as removeObject3DStateID};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{I as t,b as e}from\"../../../../chunks/mat4f64.js\";import{m as i}from\"../../../../chunks/vec3.js\";import{getContinuousIndexArray as s,compactIndices as n}from\"../../../../geometry/support/Indices.js\";import{cloneAttributeData as r}from\"./AttributeArray.js\";import{Object3DState as o}from\"./basicInterfaces.js\";import{BoundingInfo as h}from\"./BoundingInfo.js\";import{ContentObject as a}from\"./ContentObject.js\";import{ContentObjectType as u}from\"./ContentObjectType.js\";import{computeAttachmentOriginTriangles as g,computeAttachmentOriginLines as c,computeAttachmentOriginPoints as l}from\"./geometryDataUtils.js\";import{Object3DStateID as m}from\"./Object3DStateID.js\";import{assert as d}from\"./Util.js\";import{VertexAttribute as f}from\"./VertexAttribute.js\";import{addObject3DStateID as I,removeObject3DStateID as _}from\"../materials/renderers/utils.js\";class b extends a{constructor(t,e,i=[],r=null,o=u.Mesh,h=null,a=-1){super(),this.material=t,this.mapPositions=r,this.type=o,this.objectAndLayerIdColor=h,this.edgeIndicesLength=a,this.visible=!0,this._vertexAttributes=new Map,this._indices=new Map,this._boundingInfo=null;for(const[s,n]of e)n&&this._vertexAttributes.set(s,{...n});if(null==i||0===i.length){const t=p(this._vertexAttributes),e=s(t);this.edgeIndicesLength=this.edgeIndicesLength<0?t:this.edgeIndicesLength;for(const i of this._vertexAttributes.keys())this._indices.set(i,e)}else for(const[s,u]of i)u&&(this._indices.set(s,n(u)),s===f.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._indices.get(s).length:this.edgeIndicesLength))}instantiate(t={}){const e=new b(t.material||this.material,[],void 0,this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._vertexAttributes.forEach(((t,i)=>{t.exclusive=!1,e._vertexAttributes.set(i,t)})),this._indices.forEach(((t,i)=>e._indices.set(i,t))),e._boundingInfo=this._boundingInfo,e.transformation=t.transformation||this.transformation,e}get vertexAttributes(){return this._vertexAttributes}getMutableAttribute(t){let e=this._vertexAttributes.get(t);return e&&!e.exclusive&&(e={...e,exclusive:!0,data:r(e.data)},this._vertexAttributes.set(t,e)),e}setAttributeData(t,e){const i=this._vertexAttributes.get(t);i&&this._vertexAttributes.set(t,{...i,exclusive:!0,data:e})}get indices(){return this._indices}get indexCount(){const t=this._indices.values().next().value;return t?t.length:0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===u.Mesh?this._computeAttachmentOriginTriangles(t):this.type===u.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&i(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){const e=this.indices.get(f.POSITION),i=this.vertexAttributes.get(f.POSITION);return g(i,e,t)}_computeAttachmentOriginLines(t){const e=this.vertexAttributes.get(f.POSITION),i=this.indices.get(f.POSITION);return c(e,i,i&&v(this.material.parameters,e,i),t)}_computeAttachmentOriginPoints(t){const e=this.indices.get(f.POSITION),i=this.vertexAttributes.get(f.POSITION);return l(i,e,t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.indices.get(f.POSITION),e=this.vertexAttributes.get(f.POSITION);if(!t||0===t.length||!e)return null;const i=this.type===u.Mesh?3:1;d(t.length%i==0,\"Indexing error: \"+t.length+\" not divisible by \"+i);const n=s(t.length/i);return new h(n,i,t,e)}get transformation(){return this._transformation??t}set transformation(i){this._transformation=i&&i!==t?e(i):null}get shaderTransformation(){return null!=this._shaderTransformer?this._shaderTransformer(this.transformation):this.transformation}get shaderTransformer(){return this._shaderTransformer}set shaderTransformer(t){this._shaderTransformer=t}get hasVolatileTransformation(){return null!=this._shaderTransformer}addHighlight(){const t=new m(o.Highlight);return this.highlights=I(this.highlights,t),t}removeHighlight(t){this.highlights=_(this.highlights,t)}}function p(t){const e=t.values().next().value;return null==e?0:e.data.length/e.size}function v(t,e,i){return!(!(\"isClosed\"in t)||!t.isClosed)&&(i?i.length>2:e.data.length>6)}export{b as Geometry};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";function t(){if(null==s){const t=t=>e(`esri/libs/basisu/${t}`);s=import(\"../../chunks/basis_transcoder.js\").then((e=>e.b)).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return s}let s;export{t as getBasisTranscoder};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar _;!function(_){_[_.ETC1_RGB=0]=\"ETC1_RGB\",_[_.ETC2_RGBA=1]=\"ETC2_RGBA\",_[_.BC1_RGB=2]=\"BC1_RGB\",_[_.BC3_RGBA=3]=\"BC3_RGBA\",_[_.BC4_R=4]=\"BC4_R\",_[_.BC5_RG=5]=\"BC5_RG\",_[_.BC7_M6_RGB=6]=\"BC7_M6_RGB\",_[_.BC7_M5_RGBA=7]=\"BC7_M5_RGBA\",_[_.PVRTC1_4_RGB=8]=\"PVRTC1_4_RGB\",_[_.PVRTC1_4_RGBA=9]=\"PVRTC1_4_RGBA\",_[_.ASTC_4x4_RGBA=10]=\"ASTC_4x4_RGBA\",_[_.ATC_RGB=11]=\"ATC_RGB\",_[_.ATC_RGBA=12]=\"ATC_RGBA\",_[_.FXT1_RGB=17]=\"FXT1_RGB\",_[_.PVRTC2_4_RGB=18]=\"PVRTC2_4_RGB\",_[_.PVRTC2_4_RGBA=19]=\"PVRTC2_4_RGBA\",_[_.ETC2_EAC_R11=20]=\"ETC2_EAC_R11\",_[_.ETC2_EAC_RG11=21]=\"ETC2_EAC_RG11\",_[_.RGBA32=13]=\"RGBA32\",_[_.RGB565=14]=\"RGB565\",_[_.BGR565=15]=\"BGR565\",_[_.RGBA4444=16]=\"RGBA4444\"}(_||(_={}));export{_ as TextureFormat};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getBasisTranscoder as e}from\"../../../../libs/basisu/BasisU.js\";import{TextureFormat as t}from\"../../../../libs/basisu/TextureFormat.js\";import{CompressedTextureFormat as n,PixelFormat as s,TextureSamplingMode as r}from\"../../../webgl/enums.js\";import{Texture as i}from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as a}from\"../../../webgl/Util.js\";let l=null,o=null;async function g(){return null==o&&(o=e(),l=await o),o}function u(e,t){if(null==l)return e.byteLength;const n=new l.BasisFile(new Uint8Array(e)),s=E(n)?m(n.getNumLevels(0),n.getHasAlpha(),n.getImageWidth(0,0),n.getImageHeight(0,0),t):0;return n.close(),n.delete(),s}function c(e,t){if(null==l)return e.byteLength;const n=new l.KTX2File(new Uint8Array(e)),s=T(n)?m(n.getLevels(),n.getHasAlpha(),n.getWidth(),n.getHeight(),t):0;return n.close(),n.delete(),s}function m(e,t,s,r,i){const l=a(t?n.COMPRESSED_RGBA8_ETC2_EAC:n.COMPRESSED_RGB8_ETC2),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(s*r*l*o)}function E(e){return e.getNumImages()>=1&&!e.isUASTC()}function T(e){return e.getFaces()>=1&&e.isETC1S()}async function h(e,t,n){null==l&&(l=await g());const s=new l.BasisFile(new Uint8Array(n));if(!E(s))return null;s.startTranscoding();const r=p(e,t,s.getNumLevels(0),s.getHasAlpha(),s.getImageWidth(0,0),s.getImageHeight(0,0),((e,t)=>s.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>s.transcodeImage(n,0,e,t,0,0)));return s.close(),s.delete(),r}async function _(e,t,n){null==l&&(l=await g());const s=new l.KTX2File(new Uint8Array(n));if(!T(s))return null;s.startTranscoding();const r=p(e,t,s.getLevels(),s.getHasAlpha(),s.getWidth(),s.getHeight(),((e,t)=>s.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>s.transcodeImage(n,e,0,0,t,0,-1,-1)));return s.close(),s.delete(),r}function p(e,a,l,o,g,u,c,m){const{compressedTextureETC:E,compressedTextureS3TC:T}=e.capabilities,[h,_]=E?o?[t.ETC2_RGBA,n.COMPRESSED_RGBA8_ETC2_EAC]:[t.ETC1_RGB,n.COMPRESSED_RGB8_ETC2]:T?o?[t.BC3_RGBA,n.COMPRESSED_RGBA_S3TC_DXT5_EXT]:[t.BC1_RGB,n.COMPRESSED_RGB_S3TC_DXT1_EXT]:[t.RGBA32,s.RGBA],p=a.hasMipmap?l:Math.min(1,l),A=[];for(let t=0;t<p;t++)A.push(new Uint8Array(c(t,h))),m(t,h,A[t]);return a.internalFormat=_,a.hasMipmap=A.length>1,a.samplingMode=a.hasMipmap?r.LINEAR_MIPMAP_LINEAR:r.LINEAR,a.width=g,a.height=u,new i(e,a,{type:\"compressed\",levels:A})}export{h as createTextureBasis,_ as createTextureKTX2,u as estimateMemoryBasis,c as estimateMemoryKTX2,g as loadBasis};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{TextureSamplingMode as t,CompressedTextureFormat as r}from\"../../../webgl/enums.js\";import{Texture as n}from\"../../../webgl/Texture.js\";const o=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),a=542327876,i=131072,l=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function u(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const c=s(\"DXT1\"),h=s(\"DXT3\"),m=s(\"DXT5\"),d=31,p=0,g=1,D=2,C=3,f=4,w=7,T=20,_=21;function E(e,r,o){const a=S(o,r.hasMipmap??!1);if(null==a)throw new Error(\"DDS texture data is null\");const{textureData:i,internalFormat:l,width:s,height:u}=a;return r.samplingMode=i.levels.length>1?t.LINEAR_MIPMAP_LINEAR:t.LINEAR,r.hasMipmap=i.levels.length>1,r.internalFormat=l,r.width=s,r.height=u,new n(e,r,i)}function S(e,t){const n=new Int32Array(e,0,d);if(n[p]!==a)return o.error(\"Invalid magic number in DDS header\"),null;if(!(n[T]&l))return o.error(\"Unsupported format, must contain a FourCC code\"),null;const s=n[_];let E,S;switch(s){case c:E=8,S=r.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case h:E=16,S=r.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case m:E=16,S=r.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return o.error(\"Unsupported FourCC code:\",u(s)),null}let A=1,M=n[f],x=n[C];0==(3&M)&&0==(3&x)||(o.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),M=M+3&-4,x=x+3&-4);const R=M,X=x;let b,I;n[D]&i&&!1!==t&&(A=Math.max(1,n[w]));let v=n[g]+4;const F=[];for(let r=0;r<A;++r)I=(M+3>>2)*(x+3>>2)*E,b=new Uint8Array(e,v,I),F.push(b),v+=I,M=Math.max(1,M>>1),x=Math.max(1,x>>1);return{textureData:{type:\"compressed\",levels:F},internalFormat:S,width:R,height:X}}export{E as createDDSTexture,S as createDDSTextureData};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Error.js\";import e from\"../../../../core/Evented.js\";import{disposeMaybe as r,removeMaybe as a}from\"../../../../core/maybe.js\";import{throwIfAborted as s,onAbort as i,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{isArrayBuffer as n,isUint8Array as l}from\"../../../../core/typedArrayUtil.js\";import{isBlobProtocol as m,isDataProtocol as h}from\"../../../../core/urlUtils.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as d}from\"../../../../support/requestUtils.js\";import{TextureEncodingMimeType as _}from\"./basicInterfaces.js\";import{createTextureKTX2 as c,createTextureBasis as u,estimateMemoryKTX2 as g,estimateMemoryBasis as A}from\"./BasisUtil.js\";import{ContentObject as E}from\"./ContentObject.js\";import{ContentObjectType as T}from\"./ContentObjectType.js\";import{createDDSTexture as f}from\"./DDSUtil.js\";import{assert as D}from\"./Util.js\";import{TextureWrapMode as x,TextureSamplingMode as y,PixelFormat as F}from\"../../../webgl/enums.js\";import{Texture as I}from\"../../../webgl/Texture.js\";import{TextureDescriptor as U}from\"../../../webgl/TextureDescriptor.js\";class w extends E{constructor(t,r){super(),this._data=t,this.type=T.Texture,this._glTexture=null,this._loadingPromise=null,this._loadingController=null,this.events=new e,this.parameters=r||{},this.parameters.mipmap=!1!==this.parameters.mipmap,this.parameters.noUnpackFlip=this.parameters.noUnpackFlip||!1,this.parameters.preMultiplyAlpha=this.parameters.preMultiplyAlpha||!1,this.parameters.wrap=this.parameters.wrap||{s:x.REPEAT,t:x.REPEAT},this._startPreload(t)}_startPreload(t){null!=t&&(t instanceof HTMLVideoElement?this._startPreloadVideoElement(t):t instanceof HTMLImageElement&&this._startPreloadImageElement(t))}_startPreloadVideoElement(t){if(!(m(t.src)||\"auto\"===t.preload&&t.crossOrigin)){t.preload=\"auto\",t.crossOrigin=\"anonymous\";const e=!t.paused;if(t.src=t.src,e&&t.autoplay){const e=()=>{t.removeEventListener(\"canplay\",e),t.play()};t.addEventListener(\"canplay\",e)}}}_startPreloadImageElement(t){h(t.src)||m(t.src)||t.crossOrigin||(t.crossOrigin=\"anonymous\",t.src=t.src)}dispose(){this._data=void 0}_createDescriptor(t){const e=new U;return e.wrapMode=this.parameters.wrap??x.REPEAT,e.flipped=!this.parameters.noUnpackFlip,e.samplingMode=this.parameters.mipmap?y.LINEAR_MIPMAP_LINEAR:y.LINEAR,e.hasMipmap=!!this.parameters.mipmap,e.preMultiplyAlpha=!!this.parameters.preMultiplyAlpha,e.maxAnisotropy=this.parameters.maxAnisotropy??(this.parameters.mipmap?t.parameters.maxMaxAnisotropy:1),e}get glTexture(){return this._glTexture}get memoryEstimate(){return this._glTexture?.gpuMemoryUsage||H(this._data,this.parameters)}load(t){if(null!=this._glTexture)return this._glTexture;if(this._loadingPromise)return this._loadingPromise;const e=this._data;return null==e?(this._glTexture=new I(t,this._createDescriptor(t),null),this._glTexture):\"string\"==typeof e?this._loadFromURL(t,e):e instanceof Image?this._loadFromImageElement(t,e):e instanceof HTMLVideoElement?this._loadFromVideoElement(t,e):e instanceof ImageData||e instanceof HTMLCanvasElement?this._loadFromImage(t,e):(n(e)||l(e))&&this.parameters.encoding===_.DDS_ENCODING?(this._data=void 0,this._loadFromDDSData(t,e)):(n(e)||l(e))&&this.parameters.encoding===_.KTX2_ENCODING?(this._data=void 0,this._loadFromKTX2(t,e)):(n(e)||l(e))&&this.parameters.encoding===_.BASIS_ENCODING?(this._data=void 0,this._loadFromBasis(t,e)):l(e)?this._loadFromPixelData(t,e):n(e)?this._loadFromPixelData(t,new Uint8Array(e)):null}get requiresFrameUpdates(){return this._data instanceof HTMLVideoElement}frameUpdate(t){return this._data instanceof HTMLVideoElement&&null!=this._glTexture?this._data.readyState<C.HAVE_CURRENT_DATA||t===this._data.currentTime?t:(this._glTexture.setData(this._data),this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this.parameters.updateCallback&&this.parameters.updateCallback(),this._data.currentTime):t}_loadFromDDSData(t,e){return this._glTexture=f(t,this._createDescriptor(t),e),this._glTexture}_loadFromKTX2(t,e){return this._loadAsync((()=>c(t,this._createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}_loadFromBasis(t,e){return this._loadAsync((()=>u(t,this._createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}_loadFromPixelData(t,e){D(this.parameters.width>0&&this.parameters.height>0);const r=this._createDescriptor(t);return r.pixelFormat=1===this.parameters.components?F.LUMINANCE:3===this.parameters.components?F.RGB:F.RGBA,r.width=this.parameters.width??0,r.height=this.parameters.height??0,this._glTexture=new I(t,r,e),this._glTexture}_loadFromURL(t,e){return this._loadAsync((async r=>{const a=await p(e,{signal:r});return s(r),this._loadFromImage(t,a)}))}_loadFromImageElement(t,e){return e.complete?this._loadFromImage(t,e):this._loadAsync((async r=>{const a=await d(e,e.src,!1,r);return s(r),this._loadFromImage(t,a)}))}_loadFromVideoElement(t,e){return e.readyState>=C.HAVE_CURRENT_DATA?this._loadFromImage(t,e):this._loadFromVideoElementAsync(t,e)}_loadFromVideoElementAsync(e,r){return this._loadAsync((s=>new Promise(((n,l)=>{const m=()=>{r.removeEventListener(\"loadeddata\",h),r.removeEventListener(\"error\",p),a(d)},h=()=>{r.readyState>=C.HAVE_CURRENT_DATA&&(m(),n(this._loadFromImage(e,r)))},p=e=>{m(),l(e||new t(\"Failed to load video\"))};r.addEventListener(\"loadeddata\",h),r.addEventListener(\"error\",p);const d=i(s,(()=>p(o())))}))))}_loadFromImage(t,e){const r=N(e);this.parameters.width=r.width,this.parameters.height=r.height;const a=this._createDescriptor(t);return a.pixelFormat=3===this.parameters.components?F.RGB:F.RGBA,a.width=r.width,a.height=r.height,this._glTexture=new I(t,a,e),this._glTexture}_loadAsync(t){const e=new AbortController;this._loadingController=e;const r=t(e.signal);this._loadingPromise=r;const a=()=>{this._loadingController===e&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null)};return r.then(a,a),r}unload(){if(this._glTexture=r(this._glTexture),null!=this._loadingController){const t=this._loadingController;this._loadingController=null,this._loadingPromise=null,t.abort()}this.events.emit(\"unloaded\")}}function H(t,e){if(null==t)return 0;if(n(t)||l(t))return e.encoding===_.KTX2_ENCODING?g(t,!!e.mipmap):e.encoding===_.BASIS_ENCODING?A(t,!!e.mipmap):t.byteLength;const{width:r,height:a}=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?N(t):e;return(e.mipmap?4/3:1)*r*a*(e.components||4)||0}function N(t){return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}var C;!function(t){t[t.HAVE_NOTHING=0]=\"HAVE_NOTHING\",t[t.HAVE_METADATA=1]=\"HAVE_METADATA\",t[t.HAVE_CURRENT_DATA=2]=\"HAVE_CURRENT_DATA\",t[t.HAVE_FUTURE_DATA=3]=\"HAVE_FUTURE_DATA\",t[t.HAVE_ENOUGH_DATA=4]=\"HAVE_ENOUGH_DATA\"}(C||(C={}));export{w as Texture};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.INTEGRATED_MESH=0]=\"INTEGRATED_MESH\",E[E.OPAQUE_TERRAIN=1]=\"OPAQUE_TERRAIN\",E[E.OPAQUE_MATERIAL=2]=\"OPAQUE_MATERIAL\",E[E.TRANSPARENT_MATERIAL=3]=\"TRANSPARENT_MATERIAL\",E[E.TRANSPARENT_TERRAIN=4]=\"TRANSPARENT_TERRAIN\",E[E.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=5]=\"TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL\",E[E.OCCLUDED_TERRAIN=6]=\"OCCLUDED_TERRAIN\",E[E.OCCLUDER_MATERIAL=7]=\"OCCLUDER_MATERIAL\",E[E.TRANSPARENT_OCCLUDER_MATERIAL=8]=\"TRANSPARENT_OCCLUDER_MATERIAL\",E[E.OCCLUSION_PIXELS=9]=\"OCCLUSION_PIXELS\",E[E.POSTPROCESSING_ENVIRONMENT_OPAQUE=10]=\"POSTPROCESSING_ENVIRONMENT_OPAQUE\",E[E.POSTPROCESSING_ENVIRONMENT_TRANSPARENT=11]=\"POSTPROCESSING_ENVIRONMENT_TRANSPARENT\",E[E.LASERLINES=12]=\"LASERLINES\",E[E.LASERLINES_CONTRAST_CONTROL=13]=\"LASERLINES_CONTRAST_CONTROL\",E[E.HUD_MATERIAL=14]=\"HUD_MATERIAL\",E[E.LABEL_MATERIAL=15]=\"LABEL_MATERIAL\",E[E.LINE_CALLOUTS=16]=\"LINE_CALLOUTS\",E[E.LINE_CALLOUTS_HUD_DEPTH=17]=\"LINE_CALLOUTS_HUD_DEPTH\",E[E.DRAPED_MATERIAL=18]=\"DRAPED_MATERIAL\",E[E.DRAPED_WATER=19]=\"DRAPED_WATER\",E[E.VOXEL=20]=\"VOXEL\",E[E.MAX_SLOTS=21]=\"MAX_SLOTS\"}(E||(E={}));export{E as RenderSlot};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{n as t}from\"../../../../chunks/mat3.js\";import{c as s}from\"../../../../chunks/mat3f64.js\";import{a as e,t as i,c as r,m as a}from\"../../../../chunks/mat4.js\";import{c as o}from\"../../../../chunks/mat4f64.js\";import{c as h}from\"../../../../chunks/quat.js\";import{a as n}from\"../../../../chunks/quatf64.js\";import{q as f,a as l,b as _}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f32.js\";import{c as b}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/sphere.js\";class p{constructor(){this._transform=o(),this._transformInverse=new u({value:this._transform},e,o),this._transformInverseTranspose=new u(this._transformInverse,i,o),this._transformTranspose=new u({value:this._transform},i,o),this._transformInverseRotation=new u({value:this._transform},t,s)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){r(this._transform,t)}multiplyTransform(t){a(this._transform,this._transform,t)}set(t){r(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this._invalidateLazyTransforms()}}class u{constructor(t,s,e){this._original=t,this._update=s,this._dirty=!0,this._transform=e()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}class M{constructor(t=0){this.offset=t,this.tmpVertex=b()}applyToVertex(t,s,e){const i=t+this.localOrigin[0],r=s+this.localOrigin[1],a=e+this.localOrigin[2],o=this.offset/Math.sqrt(i*i+r*r+a*a);return this.tmpVertex[0]=t+i*o,this.tmpVertex[1]=s+r*o,this.tmpVertex[2]=e+a*o,this.tmpVertex}applyToAabb(t){for(let r=0;r<3;++r)v[r]=t[0+r]+this.localOrigin[r],O[r]=t[3+r]+this.localOrigin[r],z[r]=v[r];const s=this.applyToVertex(v[0],v[1],v[2]);for(let r=0;r<3;++r)t[r]=s[r],t[r+3]=s[r];const e=s=>{const e=this.applyToVertex(s[0],s[1],s[2]);for(let i=0;i<3;++i)t[i]=Math.min(t[i],e[i]),t[i+3]=Math.max(t[i+3],e[i])};for(let r=1;r<8;++r){for(let t=0;t<3;++t)z[t]=0==(r&1<<t)?v[t]:O[t];e(z)}let i=0;for(let r=0;r<3;++r){v[r]*O[r]<0&&(i|=1<<r)}if(0!==i&&7!==i)for(let r=0;r<8;++r)if(0==(i&r)){for(let t=0;t<3;++t)z[t]=0!=(i&1<<t)?0:0!=(r&1<<t)?v[t]:O[t];e(z)}for(let r=0;r<3;++r)t[r]-=this.localOrigin[r],t[r+3]-=this.localOrigin[r];return t}}const v=b(),O=b(),z=b();class T{constructor(t=0){this.componentLocalOriginLength=0,this._tmpVertex=b(),this._mbs=c(),this._obb={center:b(),halfSize:m(),quaternion:null},this._totalOffset=0,this._offset=0,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,e){const i=t,r=s,a=e+this.componentLocalOriginLength,o=this._totalOffset/Math.sqrt(i*i+r*r+a*a);return this._tmpVertex[0]=t+i*o,this._tmpVertex[1]=s+r*o,this._tmpVertex[2]=e+a*o,this._tmpVertex}applyToAabb(t){const s=t[0],e=t[1],i=t[2]+this.componentLocalOriginLength,r=t[3],a=t[4],o=t[5]+this.componentLocalOriginLength,h=s*r<0?0:Math.min(Math.abs(s),Math.abs(r)),n=e*a<0?0:Math.min(Math.abs(e),Math.abs(a)),f=i*o<0?0:Math.min(Math.abs(i),Math.abs(o)),l=Math.sqrt(h*h+n*n+f*f);if(l<this._totalOffset)return t[0]-=s<0?this._totalOffset:0,t[1]-=e<0?this._totalOffset:0,t[2]-=i<0?this._totalOffset:0,t[3]+=r>0?this._totalOffset:0,t[4]+=a>0?this._totalOffset:0,t[5]+=o>0?this._totalOffset:0,t;const _=Math.max(Math.abs(s),Math.abs(r)),m=Math.max(Math.abs(e),Math.abs(a)),b=Math.max(Math.abs(i),Math.abs(o)),c=Math.sqrt(_*_+m*m+b*b),p=this._totalOffset/c,u=this._totalOffset/l;return t[0]+=s*(s>0?p:u),t[1]+=e*(e>0?p:u),t[2]+=i*(i>0?p:u),t[3]+=r*(r<0?p:u),t[4]+=a*(a<0?p:u),t[5]+=o*(o<0?p:u),t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),e=this._totalOffset/s;return this._mbs[0]=t[0]+t[0]*e,this._mbs[1]=t[1]+t[1]*e,this._mbs[2]=t[2]+t[2]*e,this._mbs[3]=t[3]+t[3]*this._totalOffset/s,this._mbs}applyToObb(t){const s=t.center,e=this._totalOffset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this._obb.center[0]=s[0]+s[0]*e,this._obb.center[1]=s[1]+s[1]*e,this._obb.center[2]=s[2]+s[2]*e,f(this._obb.halfSize,t.halfSize,t.quaternion),l(this._obb.halfSize,this._obb.halfSize,t.center);const i=this._totalOffset/Math.sqrt(this._obb.halfSize[0]*this._obb.halfSize[0]+this._obb.halfSize[1]*this._obb.halfSize[1]+this._obb.halfSize[2]*this._obb.halfSize[2]);return this._obb.halfSize[0]+=this._obb.halfSize[0]*i,this._obb.halfSize[1]+=this._obb.halfSize[1]*i,this._obb.halfSize[2]+=this._obb.halfSize[2]*i,_(this._obb.halfSize,this._obb.halfSize,t.center),h(j,t.quaternion),f(this._obb.halfSize,this._obb.halfSize,j),this._obb.halfSize[0]*=this._obb.halfSize[0]<0?-1:1,this._obb.halfSize[1]*=this._obb.halfSize[1]<0?-1:1,this._obb.halfSize[2]*=this._obb.halfSize[2]<0?-1:1,this._obb.quaternion=t.quaternion,this._obb}}class g{constructor(t=0){this.offset=t,this.sphere=c(),this.tmpVertex=b()}applyToVertex(t,s,e){const i=this.objectTransform.transform;let r=i[0]*t+i[4]*s+i[8]*e+i[12],a=i[1]*t+i[5]*s+i[9]*e+i[13],o=i[2]*t+i[6]*s+i[10]*e+i[14];const h=this.offset/Math.sqrt(r*r+a*a+o*o);r+=r*h,a+=a*h,o+=o*h;const n=this.objectTransform.inverse;return this.tmpVertex[0]=n[0]*r+n[4]*a+n[8]*o+n[12],this.tmpVertex[1]=n[1]*r+n[5]*a+n[9]*o+n[13],this.tmpVertex[2]=n[2]*r+n[6]*a+n[10]*o+n[14],this.tmpVertex}applyToMinMax(t,s){const e=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*e,t[1]+=t[1]*e,t[2]+=t[2]*e;const i=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*i,s[1]+=s[1]*i,s[2]+=s[2]*i}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const e=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*e,t[4]+=t[4]*e,t[5]+=t[5]*e,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),e=this.offset/s;return this.sphere[0]=t[0]+t[0]*e,this.sphere[1]=t[1]+t[1]*e,this.sphere[2]=t[2]+t[2]*e,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const x=new g;function S(t){return null!=t?(x.offset=t,x):null}const q=new T;function y(t){return null!=t?(q.offset=t,q):null}const V=new M;function d(t){return null!=t?(V.offset=t,V):null}const L=\"terrain\",j=n();export{T as I3SVerticalOffsetGlobalViewingMode,p as IntersectorTransform,g as Object3DVerticalOffsetGlobalViewingMode,L as TERRAIN_ID,M as TerrainVerticalOffsetGlobalViewingMode,y as getVerticalOffsetI3S,S as getVerticalOffsetObject3D,d as getVerticalOffsetTerrain};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{y as e,z as t}from\"../../../../../chunks/mat4.js\";import{BufferViewVec4u8 as f,BufferViewVec4f as o,BufferViewFloat as r,BufferViewVec2f as s,BufferViewVec2i16 as n,BufferViewVec3f as i}from\"../../../../../geometry/support/buffer/BufferView.js\";import{assert as c}from\"../../lib/Util.js\";import{VertexAttribute as l}from\"../../lib/VertexAttribute.js\";function d(e,t,f,o,r=1){const s=f.typedBuffer,n=f.typedBufferStride,i=e.length;if(o*=n,1===r)for(let c=0;c<i;++c)s[o]=t[e[c]],o+=n;else for(let c=0;c<i;++c){const f=t[e[c]];for(let e=0;e<r;e++)s[o]=f,o+=n}}function u(e,t,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=e.length;o*=s;for(let i=0;i<n;++i){const f=2*e[i];r[o]=t[f],r[o+1]=t[f+1],o+=s}}function a(e,t,f,o,r){const s=f.typedBuffer,n=f.typedBufferStride,i=e.length;if(o*=n,null==r||1===r)for(let c=0;c<i;++c){const f=3*e[c];s[o]=t[f],s[o+1]=t[f+1],s[o+2]=t[f+2],o+=n}else for(let c=0;c<i;++c){const f=3*e[c];for(let e=0;e<r;++e)s[o]=t[f],s[o+1]=t[f+1],s[o+2]=t[f+2],o+=n}}function p(e,t,f,o,r=1){const s=f.typedBuffer,n=f.typedBufferStride,i=e.length;if(o*=n,1===r)for(let c=0;c<i;++c){const f=4*e[c];s[o]=t[f],s[o+1]=t[f+1],s[o+2]=t[f+2],s[o+3]=t[f+3],o+=n}else for(let c=0;c<i;++c){const f=4*e[c];for(let e=0;e<r;++e)s[o]=t[f],s[o+1]=t[f+1],s[o+2]=t[f+2],s[o+3]=t[f+3],o+=n}}function y(e,t,f){const o=e.typedBuffer,r=e.typedBufferStride;t*=r;for(let s=0;s<f;++s)o[t]=0,o[t+1]=0,o[t+2]=0,o[t+3]=0,t+=r}function B(e,t,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=e.length;o*=s;for(let i=0;i<n;++i){const f=9*e[i];for(let e=0;e<9;++e)r[o+e]=t[f+e];o+=s}}function g(e,t,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=e.length;o*=s;for(let i=0;i<n;++i){const f=16*e[i];for(let e=0;e<16;++e)r[o+e]=t[f+e];o+=s}}function b(t,f,o,r,s,n=1){if(!o)return void a(t,f,r,s,n);const i=r.typedBuffer,c=r.typedBufferStride,l=t.length,d=o[0],u=o[1],p=o[2],y=o[4],B=o[5],g=o[6],b=o[8],O=o[9],h=o[10],N=o[12],S=o[13],R=o[14];s*=c;let A=0,E=0,L=0;const z=e(o)?e=>{A=f[e]+N,E=f[e+1]+S,L=f[e+2]+R}:e=>{const t=f[e],o=f[e+1],r=f[e+2];A=d*t+y*o+b*r+N,E=u*t+B*o+O*r+S,L=p*t+g*o+h*r+R};if(1===n)for(let e=0;e<l;++e)z(3*t[e]),i[s]=A,i[s+1]=E,i[s+2]=L,s+=c;else for(let e=0;e<l;++e){z(3*t[e]);for(let e=0;e<n;++e)i[s]=A,i[s+1]=E,i[s+2]=L,s+=c}}function O(f,o,r,s,n,i=1){if(!r)return void a(f,o,s,n,i);const c=r,l=s.typedBuffer,d=s.typedBufferStride,u=f.length,p=c[0],y=c[1],B=c[2],g=c[4],b=c[5],O=c[6],h=c[8],N=c[9],S=c[10],R=!t(c),A=1e-6,E=1-A;n*=d;let L=0,z=0,F=0;const v=e(c)?e=>{L=o[e],z=o[e+1],F=o[e+2]}:e=>{const t=o[e],f=o[e+1],r=o[e+2];L=p*t+g*f+h*r,z=y*t+b*f+N*r,F=B*t+O*f+S*r};if(1===i)if(R)for(let e=0;e<u;++e){v(3*f[e]);const t=L*L+z*z+F*F;if(t<E&&t>A){const e=1/Math.sqrt(t);l[n]=L*e,l[n+1]=z*e,l[n+2]=F*e}else l[n]=L,l[n+1]=z,l[n+2]=F;n+=d}else for(let e=0;e<u;++e)v(3*f[e]),l[n]=L,l[n+1]=z,l[n+2]=F,n+=d;else for(let e=0;e<u;++e){if(v(3*f[e]),R){const e=L*L+z*z+F*F;if(e<E&&e>A){const t=1/Math.sqrt(e);L*=t,z*=t,F*=t}}for(let e=0;e<i;++e)l[n]=L,l[n+1]=z,l[n+2]=F,n+=d}}function h(e,f,o,r,s,n=1){if(!o)return void p(e,f,r,s,n);const i=o,c=r.typedBuffer,l=r.typedBufferStride,d=e.length,u=i[0],a=i[1],y=i[2],B=i[4],g=i[5],b=i[6],O=i[8],h=i[9],N=i[10],S=!t(i),R=1e-6,A=1-R;if(s*=l,1===n)for(let t=0;t<d;++t){const o=4*e[t],r=f[o],n=f[o+1],i=f[o+2],d=f[o+3];let p=u*r+B*n+O*i,E=a*r+g*n+h*i,L=y*r+b*n+N*i;if(S){const e=p*p+E*E+L*L;if(e<A&&e>R){const t=1/Math.sqrt(e);p*=t,E*=t,L*=t}}c[s]=p,c[s+1]=E,c[s+2]=L,c[s+3]=d,s+=l}else for(let t=0;t<d;++t){const o=4*e[t],r=f[o],i=f[o+1],d=f[o+2],p=f[o+3];let E=u*r+B*i+O*d,L=a*r+g*i+h*d,z=y*r+b*i+N*d;if(S){const e=E*E+L*L+z*z;if(e<A&&e>R){const t=1/Math.sqrt(e);E*=t,L*=t,z*=t}}for(let e=0;e<n;++e)c[s]=E,c[s+1]=L,c[s+2]=z,c[s+3]=p,s+=l}}function N(e,t,f,o,r,s=1){const n=o.typedBuffer,i=o.typedBufferStride,c=e.length;if(r*=i,f!==t.length||4!==f)if(1!==s)if(4!==f)for(let l=0;l<c;++l){const f=3*e[l];for(let e=0;e<s;++e)n[r]=t[f],n[r+1]=t[f+1],n[r+2]=t[f+2],n[r+3]=255,r+=i}else for(let l=0;l<c;++l){const f=4*e[l];for(let e=0;e<s;++e)n[r]=t[f],n[r+1]=t[f+1],n[r+2]=t[f+2],n[r+3]=t[f+3],r+=i}else{if(4===f){for(let f=0;f<c;++f){const o=4*e[f];n[r]=t[o],n[r+1]=t[o+1],n[r+2]=t[o+2],n[r+3]=t[o+3],r+=i}return}for(let f=0;f<c;++f){const o=3*e[f];n[r]=t[o],n[r+1]=t[o+1],n[r+2]=t[o+2],n[r+3]=255,r+=i}}else{n[r]=t[0],n[r+1]=t[1],n[r+2]=t[2],n[r+3]=t[3];const e=new Uint32Array(o.typedBuffer.buffer,o.start),f=i/4,l=e[r/=4];r+=f;const d=c*s;for(let t=1;t<d;++t)e[r]=l,r+=f}}function S(e,t,f,o){const r=f.typedBuffer,s=f.typedBufferStride,n=e.length,i=t[0];o*=s;for(let c=0;c<n;++c)r[o]=i,o+=s}function R(e,t,f,o,r=1){const s=t.typedBuffer,n=t.typedBufferStride;if(o*=n,1===r)for(let i=0;i<f;++i)s[o]=e[0],s[o+1]=e[1],s[o+2]=e[2],s[o+3]=e[3],o+=n;else for(let i=0;i<f;++i)for(let t=0;t<r;++t)s[o]=e[0],s[o+1]=e[1],s[o+2]=e[2],s[o+3]=e[3],o+=n}function A(e,t,o,r,s,n){for(const i of t.fields.keys()){const t=e.vertexAttributes.get(i),d=e.indices.get(i);if(t&&d)E(i,t,d,o,r,s,n);else if(i===l.OBJECTANDLAYERIDCOLOR&&null!=e.objectAndLayerIdColor){const t=e.indices.get(l.POSITION);if(c(!!t,`No buffer view for ${i}`),t){const o=t.length,r=s.getField(i,f);R(e.objectAndLayerIdColor,r,o,n)}}}}function E(e,t,d,a,y,B,g){switch(e){case l.POSITION:{c(3===t.size);const f=B.getField(e,i);c(!!f,`No buffer view for ${e}`),f&&b(d,t.data,a,f,g);break}case l.NORMAL:{c(3===t.size);const f=B.getField(e,i);c(!!f,`No buffer view for ${e}`),f&&O(d,t.data,y,f,g);break}case l.NORMALCOMPRESSED:{c(2===t.size);const f=B.getField(e,n);c(!!f,`No buffer view for ${e}`),f&&u(d,t.data,f,g);break}case l.UV0:{c(2===t.size);const f=B.getField(e,s);c(!!f,`No buffer view for ${e}`),f&&u(d,t.data,f,g);break}case l.COLOR:case l.SYMBOLCOLOR:{const o=B.getField(e,f);c(!!o,`No buffer view for ${e}`),c(3===t.size||4===t.size),!o||3!==t.size&&4!==t.size||N(d,t.data,t.size,o,g);break}case l.COLORFEATUREATTRIBUTE:{const f=B.getField(e,r);c(!!f,`No buffer view for ${e}`),c(1===t.size),f&&1===t.size&&S(d,t.data,f,g);break}case l.TANGENT:{c(4===t.size);const f=B.getField(e,o);c(!!f,`No buffer view for ${e}`),f&&h(d,t.data,y,f,g);break}case l.PROFILERIGHT:case l.PROFILEUP:case l.PROFILEVERTEXANDNORMAL:case l.FEATUREVALUE:{c(4===t.size);const f=B.getField(e,o);c(!!f,`No buffer view for ${e}`),f&&p(d,t.data,f,g)}}}export{d as writeBufferFloat,B as writeBufferMat3f,g as writeBufferMat4f,u as writeBufferVec2,a as writeBufferVec3,p as writeBufferVec4,y as writeBufferVec4Zeros,N as writeColor,S as writeColorFeatureAttribute,E as writeDefaultAttribute,A as writeDefaultAttributes,O as writeNormal,R as writeObjectAndLayerIdColor,b as writePosition,h as writeTangent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{VertexAttribute as t}from\"../lib/VertexAttribute.js\";import{writeDefaultAttributes as e}from\"./internal/bufferWriterUtils.js\";class r{constructor(t){this.vertexBufferLayout=t}elementCount(e){return e.indices.get(t.POSITION).length}write(t,r,i,o,s){e(i,this.vertexBufferLayout,t,r,o,s)}}export{r as DefaultBufferWriter};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{StencilBits as a}from\"./basicInterfaces.js\";import{CompareFunction as E,StencilOperation as n}from\"../../../webgl/enums.js\";const i={func:E.LESS},s={func:E.ALWAYS},e={mask:255},l={mask:0},t=a=>({function:{func:E.NOTEQUAL,ref:a,mask:a},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.KEEP}}),u=a=>({function:{func:E.ALWAYS,ref:a,mask:a},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.REPLACE}}),f={function:{func:E.ALWAYS,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.ZERO}},o={function:{func:E.ALWAYS,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.REPLACE}},P={function:{func:E.EQUAL,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.KEEP}},m={function:{func:E.NOTEQUAL,ref:a.OutlineVisualElementMask,mask:a.OutlineVisualElementMask},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.KEEP}};export{s as depthCompareAlways,i as depthCompareLess,t as renderWhenBitIsNotSet,u as replaceBitWhenDepthTestPasses,f as stencilBaseAllZerosParams,o as stencilToolMaskBaseParams,P as stencilToolMaskOccluderParams,m as stencilToolTransparentOccluderParams,l as stencilWriteMaskOff,e as stencilWriteMaskOn};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{k as e}from\"../../../../chunks/vec3.js\";import{Z as l}from\"../../../../chunks/vec3f64.js\";function u({normalTexture:u,metallicRoughnessTexture:n,metallicFactor:r,roughnessFactor:s,emissiveTexture:o,emissiveFactor:t,occlusionTexture:c}){return null==u&&null==n&&null==o&&(null==t||e(t,l))&&null==c&&(null==s||1===s)&&(null==r||1===r||0===r)}const n=[1,1,.5],r=[0,.6,.2],s=[0,1,.2];export{n as defaultAdvancedMRRFactors,s as defaultEsriSymbologyMRRFactors,r as defaultSchematicMRRFactors,u as useSchematicPBR};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{g as e,f as t,c as i}from\"../../../../chunks/vec3f64.js\";import{f as r}from\"../../../../chunks/vec4f64.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{ShaderOutput as o}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as a}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttributeType as l}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{VertexNormalPassParameters as n,VertexNormalDrawParameters as h}from\"../core/shaderLibrary/attributes/VertexNormal.glsl.js\";import{defaultMaskAlphaCutoff as c}from\"../core/shaderLibrary/util/AlphaCutoff.js\";import{ReloadableShaderModule as u}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{CullFaceOptions as m,DepthTestFunction as d,AlphaDiscardMode as f}from\"../lib/basicInterfaces.js\";import{Default3D as b}from\"../lib/DefaultVertexAttributeLocations.js\";import{RenderOccludedFlag as g}from\"../lib/Material.js\";import{blendingDefault as S,oitBlending as T,oitDepthTest as y,getOITPolygonOffset as j}from\"../lib/OrderIndependentTransparency.js\";import{Program as P}from\"../lib/Program.js\";import{stencilWriteMaskOn as x,stencilToolMaskBaseParams as v,stencilBaseAllZerosParams as O}from\"../lib/StencilUtils.js\";import{TransparencyPassType as A}from\"../lib/TransparencyPassType.js\";import{defaultAdvancedMRRFactors as C}from\"../materials/pbrUtils.js\";import{D as L}from\"../../../../chunks/DefaultMaterial.glsl.js\";import{CompareFunction as M}from\"../../../webgl/enums.js\";import{makePipelineState as D,cullingParams as w,defaultDepthWriteParams as F,defaultColorWriteParams as _}from\"../../../webgl/renderState.js\";class k extends n{constructor(){super(...arguments),this.isSchematic=!1,this.usePBR=!1,this.mrrFactors=e(C),this.hasVertexColors=!1,this.hasSymbolColors=!1,this.doubleSided=!1,this.doubleSidedType=\"normal\",this.cullFace=m.Back,this.isInstanced=!1,this.hasInstancedColor=!1,this.emissiveFactor=t(0,0,0),this.instancedDoublePrecision=!1,this.normalType=a.Attribute,this.receiveSSAO=!0,this.receiveShadows=!0,this.castShadows=!0,this.shadowMappingEnabled=!1,this.ambient=t(.2,.2,.2),this.diffuse=t(.8,.8,.8),this.externalColor=r(1,1,1,1),this.colorMixMode=\"multiply\",this.opacity=1,this.layerOpacity=1,this.origin=i(),this.hasSlicePlane=!1,this.hasSliceHighlight=!0,this.offsetTransparentBackfaces=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.modelTransformation=null,this.transparent=!1,this.writeDepth=!0,this.customDepthTest=d.Less,this.textureAlphaMode=f.Blend,this.textureAlphaCutoff=c,this.textureAlphaPremultiplied=!1,this.hasOccludees=!1,this.renderOccluded=g.Occlude}}class N extends h{constructor(){super(...arguments),this.origin=i(),this.slicePlaneLocalOrigin=this.origin}}class q extends p{initializeConfiguration(e,t){t.spherical=e.viewingMode===s.Global,t.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result,t.textureCoordinateType=t.hasColorTexture||t.hasMetallicRoughnessTexture||t.hasEmissionTexture||t.hasOcclusionTexture||t.hasNormalTexture?l.Default:l.None,t.objectAndLayerIdColorInstanced=t.instanced}initializeProgram(e){return this._initializeProgram(e,q.shader)}_initializeProgram(e,t){return new P(e.rctx,t.get().build(this.configuration),b)}_convertDepthTestFunction(e){return e===d.Lequal?M.LEQUAL:M.LESS}_makePipeline(e,t){const i=this.configuration,r=e===A.NONE,s=e===A.FrontFace;return D({blending:i.output!==o.Color&&i.output!==o.Alpha||!i.transparent?null:r?S:T(e),culling:z(i)?w(i.cullFace):null,depthTest:{func:y(e,this._convertDepthTestFunction(i.customDepthTest))},depthWrite:(r||s)&&i.writeDepth?F:null,colorWrite:_,stencilWrite:i.hasOccludees?x:null,stencilTest:i.hasOccludees?t?v:O:null,polygonOffset:r||s?null:j(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._makePipeline(this.configuration.transparencyPassType,!0),this._makePipeline(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}function z(e){return e.cullFace!==m.None||!e.hasSlicePlane&&(!e.transparent&&!e.doubleSidedMode)}q.shader=new u(L,(()=>import(\"./DefaultMaterial.glsl.js\")));export{N as DefaultMaterialDrawParameters,k as DefaultMaterialPassParameters,q as DefaultMaterialTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{BindType as o}from\"../core/shaderTechnique/BindType.js\";import{parameter as t,ShaderTechniqueConfiguration as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";class s extends r{}e([t({constValue:!0})],s.prototype,\"hasSliceHighlight\",void 0),e([t({constValue:!1})],s.prototype,\"hasSliceInVertexProgram\",void 0),e([t({constValue:!1})],s.prototype,\"instancedDoublePrecision\",void 0),e([t({constValue:!1})],s.prototype,\"hasModelTransformation\",void 0),e([t({constValue:o.Pass})],s.prototype,\"pbrTextureBindType\",void 0);export{s as DefaultTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{ShaderOutput as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as e}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{TextureCoordinateAttributeType as r}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{NormalsDoubleSidedMode as s}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as i}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{parameter as a}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{AlphaDiscardMode as p,CullFaceOptions as h,DepthTestFunction as n}from\"../lib/basicInterfaces.js\";import{TransparencyPassType as d}from\"../lib/TransparencyPassType.js\";import{DefaultTechniqueConfiguration as l}from\"../materials/DefaultTechniqueConfiguration.js\";class c extends l{constructor(){super(...arguments),this.output=t.Color,this.alphaDiscardMode=p.Opaque,this.doubleSidedMode=s.None,this.pbrMode=i.Disabled,this.cullFace=h.None,this.transparencyPassType=d.NONE,this.normalType=e.Attribute,this.textureCoordinateType=r.None,this.customDepthTest=n.Less,this.spherical=!1,this.hasVertexColors=!1,this.hasSymbolColors=!1,this.hasVerticalOffset=!1,this.hasSlicePlane=!1,this.hasSliceHighlight=!0,this.hasColorTexture=!1,this.hasMetallicRoughnessTexture=!1,this.hasEmissionTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1,this.hasScreenSizePerspective=!1,this.hasVertexTangents=!1,this.hasOccludees=!1,this.hasMultipassTerrain=!1,this.hasModelTransformation=!1,this.offsetBackfaces=!1,this.vvSize=!1,this.vvColor=!1,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.textureAlphaPremultiplied=!1,this.instanced=!1,this.instancedColor=!1,this.objectAndLayerIdColorInstanced=!1,this.instancedDoublePrecision=!1,this.doublePrecisionRequiresObfuscation=!1,this.writeDepth=!0,this.transparent=!1,this.enableOffset=!0,this.cullAboveGround=!1,this.snowCover=!1,this.hasColorTextureTransform=!1,this.hasEmissionTextureTransform=!1,this.hasNormalTextureTransform=!1,this.hasOcclusionTextureTransform=!1,this.hasMetallicRoughnessTextureTransform=!1}}o([a({count:t.COUNT})],c.prototype,\"output\",void 0),o([a({count:p.COUNT})],c.prototype,\"alphaDiscardMode\",void 0),o([a({count:s.COUNT})],c.prototype,\"doubleSidedMode\",void 0),o([a({count:i.COUNT})],c.prototype,\"pbrMode\",void 0),o([a({count:h.COUNT})],c.prototype,\"cullFace\",void 0),o([a({count:d.COUNT})],c.prototype,\"transparencyPassType\",void 0),o([a({count:e.COUNT})],c.prototype,\"normalType\",void 0),o([a({count:r.COUNT})],c.prototype,\"textureCoordinateType\",void 0),o([a({count:n.COUNT})],c.prototype,\"customDepthTest\",void 0),o([a()],c.prototype,\"spherical\",void 0),o([a()],c.prototype,\"hasVertexColors\",void 0),o([a()],c.prototype,\"hasSymbolColors\",void 0),o([a()],c.prototype,\"hasVerticalOffset\",void 0),o([a()],c.prototype,\"hasSlicePlane\",void 0),o([a()],c.prototype,\"hasSliceHighlight\",void 0),o([a()],c.prototype,\"hasColorTexture\",void 0),o([a()],c.prototype,\"hasMetallicRoughnessTexture\",void 0),o([a()],c.prototype,\"hasEmissionTexture\",void 0),o([a()],c.prototype,\"hasOcclusionTexture\",void 0),o([a()],c.prototype,\"hasNormalTexture\",void 0),o([a()],c.prototype,\"hasScreenSizePerspective\",void 0),o([a()],c.prototype,\"hasVertexTangents\",void 0),o([a()],c.prototype,\"hasOccludees\",void 0),o([a()],c.prototype,\"hasMultipassTerrain\",void 0),o([a()],c.prototype,\"hasModelTransformation\",void 0),o([a()],c.prototype,\"offsetBackfaces\",void 0),o([a()],c.prototype,\"vvSize\",void 0),o([a()],c.prototype,\"vvColor\",void 0),o([a()],c.prototype,\"receiveShadows\",void 0),o([a()],c.prototype,\"receiveAmbientOcclusion\",void 0),o([a()],c.prototype,\"textureAlphaPremultiplied\",void 0),o([a()],c.prototype,\"instanced\",void 0),o([a()],c.prototype,\"instancedColor\",void 0),o([a()],c.prototype,\"objectAndLayerIdColorInstanced\",void 0),o([a()],c.prototype,\"instancedDoublePrecision\",void 0),o([a()],c.prototype,\"doublePrecisionRequiresObfuscation\",void 0),o([a()],c.prototype,\"writeDepth\",void 0),o([a()],c.prototype,\"transparent\",void 0),o([a()],c.prototype,\"enableOffset\",void 0),o([a()],c.prototype,\"cullAboveGround\",void 0),o([a()],c.prototype,\"snowCover\",void 0),o([a()],c.prototype,\"hasColorTextureTransform\",void 0),o([a()],c.prototype,\"hasEmissionTextureTransform\",void 0),o([a()],c.prototype,\"hasNormalTextureTransform\",void 0),o([a()],c.prototype,\"hasOcclusionTextureTransform\",void 0),o([a()],c.prototype,\"hasMetallicRoughnessTextureTransform\",void 0),o([a({constValue:!0})],c.prototype,\"hasVvInstancing\",void 0),o([a({constValue:!1})],c.prototype,\"useCustomDTRExponentForWater\",void 0),o([a({constValue:!1})],c.prototype,\"supportsTextureAtlas\",void 0),o([a({constValue:!0})],c.prototype,\"useFillLights\",void 0);export{c as DefaultMaterialTechniqueConfiguration};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{NormalType as e}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{NormalsDoubleSidedMode as r}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{DefaultMaterialTechnique as a}from\"./DefaultMaterialTechnique.js\";import{R as s}from\"../../../../chunks/RealisticTree.glsl.js\";class t extends a{initializeConfiguration(i,a){super.initializeConfiguration(i,a),a.hasMetallicRoughnessTexture=!1,a.hasEmissionTexture=!1,a.hasOcclusionTexture=!1,a.hasNormalTexture=!1,a.hasModelTransformation=!1,a.normalType=e.Attribute,a.doubleSidedMode=r.WindingOrder,a.hasVertexTangents=!1}initializeProgram(e){return this._initializeProgram(e,t.shader)}}t.shader=new i(s,(()=>import(\"./RealisticTree.glsl.js\")));export{t as RealisticTreeTechnique};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{s as e,c as t,n as r,b as s,l as a,g as i,e as o,t as n}from\"../../../../chunks/vec3.js\";import{c as h,f as l}from\"../../../../chunks/vec3f64.js\";import{ViewingMode as c}from\"../../../ViewingMode.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as m}from\"../core/shaderLibrary/ShaderOutput.js\";import{NormalType as p}from\"../core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{NormalsDoubleSidedMode as d}from\"../core/shaderLibrary/shading/Normals.glsl.js\";import{PBRMode as f}from\"../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js\";import{CullFaceOptions as g}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as T}from\"../lib/GLTextureMaterial.js\";import{Material as _}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as x}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as S}from\"../lib/RenderSlot.js\";import{VertexAttribute as b}from\"../lib/VertexAttribute.js\";import{getVerticalOffsetObject3D as v}from\"../lib/verticalOffsetUtils.js\";import{DefaultBufferWriter as O}from\"./DefaultBufferWriter.js\";import{verticalOffsetAtDistance as w,intersectTriangleGeometry as M}from\"./internal/MaterialUtil.js\";import{DefaultMaterialTechnique as A,DefaultMaterialPassParameters as C}from\"../shaders/DefaultMaterialTechnique.js\";import{DefaultMaterialTechniqueConfiguration as y}from\"../shaders/DefaultMaterialTechniqueConfiguration.js\";import{RealisticTreeTechnique as R}from\"../shaders/RealisticTreeTechnique.js\";class I extends _{constructor(e){super(e,L),this.supportsEdges=!0,this._configuration=new y,this._vertexBufferLayout=j(this.parameters)}isVisibleForOutput(e){return e!==m.Shadow&&e!==m.ShadowExcludeHighlight&&e!==m.ShadowHighlight||this.parameters.castShadows}isVisible(){const e=this.parameters;if(!super.isVisible()||0===e.layerOpacity)return!1;const{hasInstancedColor:t,hasVertexColors:r,hasSymbolColors:s,vvColor:a}=e,i=\"replace\"===e.colorMixMode,o=e.opacity>0,n=e.externalColor&&e.externalColor[3]>0,h=t||a||s;return r&&h?i||o:r?i?n:o:h?i||o:i?n:o}getConfiguration(e,t){return this._configuration.output=e,this._configuration.hasNormalTexture=!!this.parameters.normalTextureId,this._configuration.hasColorTexture=!!this.parameters.textureId,this._configuration.hasVertexTangents=this.parameters.hasVertexTangents,this._configuration.instanced=this.parameters.isInstanced,this._configuration.instancedDoublePrecision=this.parameters.instancedDoublePrecision,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasSliceHighlight=this.parameters.hasSliceHighlight,this._configuration.alphaDiscardMode=this.parameters.textureAlphaMode,this._configuration.normalType=this.parameters.normalType,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,null!=this.parameters.customDepthTest&&(this._configuration.customDepthTest=this.parameters.customDepthTest),this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.cullFace=this.parameters.hasSlicePlane?g.None:this.parameters.cullFace,this._configuration.hasMultipassTerrain=t.multipassTerrain.enabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.hasModelTransformation=null!=this.parameters.modelTransformation,e!==m.Color&&e!==m.Alpha||(this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.hasSymbolColors=this.parameters.hasSymbolColors,this.parameters.treeRendering?this._configuration.doubleSidedMode=d.WindingOrder:this._configuration.doubleSidedMode=this.parameters.doubleSided&&\"normal\"===this.parameters.doubleSidedType?d.View:this.parameters.doubleSided&&\"winding-order\"===this.parameters.doubleSidedType?d.WindingOrder:d.None,this._configuration.instancedColor=this.parameters.hasInstancedColor,this._configuration.receiveShadows=this.parameters.receiveShadows&&this.parameters.shadowMappingEnabled,this._configuration.receiveAmbientOcclusion=!!t.ssaoHelper.active&&this.parameters.receiveSSAO,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.textureAlphaPremultiplied=!!this.parameters.textureAlphaPremultiplied,this._configuration.pbrMode=this.parameters.usePBR?this.parameters.isSchematic?f.Schematic:f.Normal:f.Disabled,this._configuration.hasMetallicRoughnessTexture=!!this.parameters.metallicRoughnessTextureId,this._configuration.hasEmissionTexture=!!this.parameters.emissiveTextureId,this._configuration.hasOcclusionTexture=!!this.parameters.occlusionTextureId,this._configuration.offsetBackfaces=!(!this.parameters.transparent||!this.parameters.offsetTransparentBackfaces),this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<x,this._configuration.snowCover=this.hasSnowCover(t),this._configuration.hasColorTextureTransform=!!this.parameters.colorTextureTransformMatrix,this._configuration.hasNormalTextureTransform=!!this.parameters.normalTextureTransformMatrix,this._configuration.hasEmissionTextureTransform=!!this.parameters.emissiveTextureTransformMatrix,this._configuration.hasOcclusionTextureTransform=!!this.parameters.occlusionTextureTransformMatrix,this._configuration.hasMetallicRoughnessTextureTransform=!!this.parameters.metallicRoughnessTextureTransformMatrix),this._configuration}hasSnowCover(e){return null!=e.weather&&e.weatherVisible&&\"snowy\"===e.weather.type&&\"enabled\"===e.weather.snowCover}intersect(h,l,u,m,p,d){if(null!=this.parameters.verticalOffset){const h=u.camera;e(z,l[12],l[13],l[14]);let d=null;switch(u.viewingMode){case c.Global:d=r(B,z);break;case c.Local:d=t(B,V)}let f=0;const g=s(G,z,h.eye),T=a(g),_=i(g,g,1/T);let x=null;this.parameters.screenSizePerspective&&(x=o(d,_)),f+=w(h,T,this.parameters.verticalOffset,x??0,this.parameters.screenSizePerspective),i(d,d,f),n(H,d,u.transform.inverseRotation),m=s(D,m,H),p=s(N,p,H)}M(h,u,m,p,v(u.verticalOffset),d)}requiresSlot(e,t){if(t===m.Color||t===m.Alpha||t===m.Depth||t===m.Normal||t===m.Shadow||t===m.ShadowHighlight||t===m.ShadowExcludeHighlight||t===m.Highlight||t===m.ObjectAndLayerIdColor){return e===(this.parameters.transparent?this.parameters.writeDepth?S.TRANSPARENT_MATERIAL:S.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:S.OPAQUE_MATERIAL)||e===S.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new P(e)}createBufferWriter(){return new O(this._vertexBufferLayout)}}class P extends T{constructor(e){super({...e,...e.material.parameters})}_updateShadowState(e){e.shadowMap.enabled!==this._material.parameters.shadowMappingEnabled&&this._material.setParameters({shadowMappingEnabled:e.shadowMap.enabled})}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(t){this._output!==m.Color&&this._output!==m.Alpha||(this._updateShadowState(t),this._updateOccludeeState(t));const r=this._material.parameters;this.updateTexture(r.textureId);const s=t.camera.viewInverseTransposeMatrix;return e(r.origin,s[3],s[7],s[11]),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(r.treeRendering?R:A,t)}}class E extends C{constructor(){super(...arguments),this.initTextureTransparent=!1,this.treeRendering=!1,this.hasVertexTangents=!1}}const L=new E;function j(e){const t=u().vec3f(b.POSITION);e.normalType===p.Compressed?t.vec2i16(b.NORMALCOMPRESSED,{glNormalized:!0}):t.vec3f(b.NORMAL),e.hasVertexTangents&&t.vec4f(b.TANGENT);return(e.textureId||e.normalTextureId||e.metallicRoughnessTextureId||e.emissiveTextureId||e.occlusionTextureId)&&t.vec2f(b.UV0),e.hasVertexColors&&t.vec4u8(b.COLOR),e.hasSymbolColors&&t.vec4u8(b.SYMBOLCOLOR),has(\"enable-feature:objectAndLayerId-rendering\")&&t.vec4u8(b.OBJECTANDLAYERIDCOLOR),t}const D=h(),N=h(),V=l(0,0,1),B=h(),H=h(),z=h(),G=h();export{P as DefaultGLMaterial,I as DefaultMaterial,E as DefaultMaterialParameters};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{result as t}from\"../../../../core/asyncUtils.js\";import{estimateNestedObjectSize as r}from\"../../../../core/byteSizeEstimations.js\";import n from\"../../../../core/Error.js\";import s from\"../../../../core/Logger.js\";import{NestedMap as a}from\"../../../../core/NestedMap.js\";import{throwIfAbortError as o}from\"../../../../core/promiseUtils.js\";import{Version as i}from\"../../../../core/Version.js\";import{g as l}from\"../../../../chunks/vec3f64.js\";import{empty as u,expandWithVec3 as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{requestImage as p}from\"../../../../support/requestImageUtils.js\";import{Attribute as m}from\"../../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as f,AlphaDiscardMode as d}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as g}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as y}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as b}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as w}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{TextureWrapMode as x}from\"../../../webgl/enums.js\";const h=s.getLogger(\"esri.views.3d.layers.graphics.objectResourceUtils\");async function v(e,t){const n=await A(e,t),s=await T(n.textureDefinitions??{},t);let a=0;for(const r in s)if(s.hasOwnProperty(r)){const e=s[r];a+=e?.image?e.image.width*e.image.height*4:0}return{resource:n,textures:s,size:a+r(n)}}async function A(r,n){const s=null!=n&&n.streamDataRequester;if(s)return j(r,s,n);const a=await t(e(r,n));if(!0===a.ok)return a.value.data;o(a.error),M(a.error)}async function j(e,r,n){const s=await t(r.request(e,\"json\",n));if(!0===s.ok)return s.value;o(s.error),M(s.error.details.url)}function M(e){throw new n(\"\",`Request for object resource failed: ${e}`)}function P(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(h.warn(\"Geometry must specify vertex attributes\"),n=!1),t.topology){case\"PerAttributeArray\":break;case\"Indexed\":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t&&t.values?(null!=t.valueType&&\"UInt32\"!==t.valueType&&(h.warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(h.warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(h.warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else h.warn(\"Indexed geometries must specify faces\"),n=!1;break}default:h.warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(h.warn(\"Geometry requires material\"),n=!1);const s=e.params.vertexAttributes;for(const a in s){s[a].values||(h.warn(\"Geometries with externally defined attributes are not yet supported\"),n=!1)}return n}function I(e,t){const r=new Array,n=new Array,s=new Array,o=new a,u=e.resource,c=i.parse(u.version||\"1.0\",\"wosr\");O.validate(c);const p=u.model.name,d=u.model.geometries,x=u.materialDefinitions??{},h=e.textures;let v=0;const A=new Map;for(let a=0;a<d.length;a++){const e=d[a];if(!P(e))continue;const i=k(e),u=e.params.vertexAttributes,c=[];for(const t in u){const e=u[t],r=e.values;c.push([t,new m(r,e.valuesPerElement,!0)])}const p=[];if(\"PerAttributeArray\"!==e.params.topology){const t=e.params.faces;for(const e in t)p.push([e,t[e].values])}const j=i.texture,M=h&&h[j];if(M&&!A.has(j)){const{image:e,parameters:t}=M,r=new y(e,t);n.push(r),A.set(j,r)}const I=A.get(j),U=I?I.id:void 0,T=i.material;let O=o.get(T,j);if(null==O){const e=x[T.substring(T.lastIndexOf(\"/\")+1)].params;1===e.transparency&&(e.transparency=0);const r=M&&M.alphaChannelUsage,n=e.transparency>0||\"transparency\"===r||\"maskAndTransparency\"===r,s=M?E(M.alphaChannelUsage):void 0,a={ambient:l(e.diffuse),diffuse:l(e.diffuse),opacity:1-(e.transparency||0),transparent:n,textureAlphaMode:s,textureAlphaCutoff:.33,textureId:U,initTextureTransparent:!0,doubleSided:!0,cullFace:f.None,colorMixMode:e.externalColorMixMode||\"tint\",textureAlphaPremultiplied:M?.parameters.preMultiplyAlpha??!1};null!=t&&t.materialParamsMixin&&Object.assign(a,t.materialParamsMixin),O=new w(a),o.set(T,j,O)}s.push(O);const q=new g(O,c,p);v+=p.find((e=>e[0]===b.POSITION))?.[1].length??0,r.push(q)}return{engineResources:[{name:p,stageResources:{textures:n,materials:s,geometries:r},pivotOffset:u.model.pivotOffset,numberOfVertices:v,lodThreshold:null}],referenceBoundingBox:U(r)}}function U(e){const t=u();return e.forEach((e=>{const r=e.boundingInfo;null!=r&&(c(t,r.bbMin),c(t,r.bbMax))})),t}async function T(e,t){const r=new Array;for(const a in e){const n=e[a],s=n.images[0].data;if(!s){h.warn(\"Externally referenced texture data is not yet supported\");continue}const o=n.encoding+\";base64,\"+s,i=\"/textureDefinitions/\"+a,l=\"rgba\"===n.channels?n.alphaChannelUsage||\"transparency\":\"none\",u={noUnpackFlip:!0,wrap:{s:x.REPEAT,t:x.REPEAT},preMultiplyAlpha:E(l)!==d.Opaque},c=null!=t&&t.disableTextures?Promise.resolve(null):p(o,t);r.push(c.then((e=>({refId:i,image:e,parameters:u,alphaChannelUsage:l}))))}const n=await Promise.all(r),s={};for(const a of n)s[a.refId]=a;return s}function E(e){switch(e){case\"mask\":return d.Mask;case\"maskAndTransparency\":return d.MaskBlend;case\"none\":return d.Opaque;default:return d.Blend}}function k(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const O=new i(1,2,\"wosr\");export{T as createTextureResources,v as load,I as processLoadResult};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{adjustStaticAGOUrl as e}from\"../../../../core/devEnvironmentUtils.js\";import{b as t}from\"../../../../chunks/mat3.js\";import{c as r}from\"../../../../chunks/mat3f64.js\";import{a as o}from\"../../../../chunks/mat4.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{m as i,b as n,D as l,l as u,n as a,h as c}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{empty as f,expandWithVec3 as d}from\"../../../../geometry/support/aaBoundingBox.js\";import{newFloatArray as p}from\"../../../../geometry/support/FloatArray.js\";import{BufferViewVec4f as g,BufferViewVec4u8 as x,BufferViewVec4u16 as b,BufferViewVec3f as h,BufferViewVec3u8 as T,BufferViewVec3u16 as y}from\"../../../../geometry/support/buffer/BufferView.js\";import{t as R,a as w,s as v}from\"../../../../chunks/vec32.js\";import{t as M,s as j}from\"../../../../chunks/vec42.js\";import{n as B}from\"../../../../chunks/vec22.js\";import{c as S}from\"../../../../chunks/vec33.js\";import{c as F}from\"../../../../chunks/vec43.js\";import{DefaultLoadingContext as L}from\"../../glTF/DefaultLoadingContext.js\";import{loadGLTF as O}from\"../../glTF/loader.js\";import{convertPrimitiveToTriangles as A}from\"../../glTF/internal/indexUtils.js\";import{isEncodedMeshTexture as I}from\"../../glTF/internal/resourceUtils.js\";import{getTransformMatrix as k}from\"../../glTF/internal/TextureTransformUtils.js\";import{ProcessedObjectResource as C}from\"./ProcessedObjectResource.js\";import{load as E,processLoadResult as N}from\"./wosrLoader.js\";import{NormalType as P}from\"../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js\";import{Attribute as U}from\"../../webgl-engine/lib/Attribute.js\";import{AlphaDiscardMode as V,DepthTestFunction as D,CullFaceOptions as _}from\"../../webgl-engine/lib/basicInterfaces.js\";import{Geometry as G}from\"../../webgl-engine/lib/Geometry.js\";import{Texture as H}from\"../../webgl-engine/lib/Texture.js\";import{VertexAttribute as q}from\"../../webgl-engine/lib/VertexAttribute.js\";import{DefaultMaterial as W}from\"../../webgl-engine/materials/DefaultMaterial.js\";import{COLOR_GAMMA as $}from\"../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\";import{defaultEsriSymbologyMRRFactors as z,defaultAdvancedMRRFactors as K,useSchematicPBR as Q,defaultSchematicMRRFactors as J}from\"../../webgl-engine/materials/pbrUtils.js\";async function X(t,r){const o=Y(e(t));if(\"wosr\"===o.fileType){const e=await(r.cache?r.cache.loadWOSR(o.url,r):E(o.url,r)),{engineResources:t,referenceBoundingBox:s}=N(e,r);return{lods:t,referenceBoundingBox:s,isEsriSymbolResource:!1,isWosr:!0}}const s=await(r.cache?r.cache.loadGLTF(o.url,r,!!r.usePBR):O(new L(r.streamDataRequester),o.url,r,r.usePBR)),i=s.model.meta?.ESRI_proxyEllipsoid,n=s.meta.isEsriSymbolResource&&null!=i&&s.meta.uri.includes(\"/RealisticTrees/\");n&&!s.customMeta.esriTreeRendering&&(s.customMeta.esriTreeRendering=!0,se(s,i));const l=!!r.usePBR,u=s.meta.isEsriSymbolResource?{usePBR:l,isSchematic:!1,treeRendering:n,mrrFactors:[...z]}:{usePBR:l,isSchematic:!1,treeRendering:!1,mrrFactors:[...K]},a={...r.materialParamsMixin,treeRendering:n},{engineResources:c,referenceBoundingBox:m}=Z(s,u,a,r.skipHighLods&&null==o.specifiedLodIndex?{skipHighLods:!0}:{skipHighLods:!1,singleLodIndex:o.specifiedLodIndex});return{lods:c,referenceBoundingBox:m,isEsriSymbolResource:s.meta.isEsriSymbolResource,isWosr:!1}}function Y(e){const t=e.match(/(.*\\.(gltf|glb))(\\?lod=([0-9]+))?$/);if(t)return{fileType:\"gltf\",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\\.(json|json\\.gz))$/)?{fileType:\"wosr\",url:e,specifiedLodIndex:null}:{fileType:\"unknown\",url:e,specifiedLodIndex:null}}function Z(e,t,r,o){const s=e.model,i=new Array,n=new Map,l=new Map,u=s.lods.length,a=f();return s.lods.forEach(((e,c)=>{const m=!0===o.skipHighLods&&(u>1&&0===c||u>3&&1===c)||!1===o.skipHighLods&&null!=o.singleLodIndex&&c!==o.singleLodIndex;if(m&&0!==c)return;const f=new C(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const o=m?new W({}):ee(s,e,f,t,r,n,l),{geometry:i,vertexCount:u}=te(e,null!=o?o:new W({})),p=i.boundingInfo;null!=p&&0===c&&(d(a,p.bbMin),d(a,p.bbMax)),null!=o&&(f.stageResources.geometries.push(i),f.numberOfVertices+=u)})),m||i.push(f)})),{engineResources:i,referenceBoundingBox:a}}function ee(e,t,r,o,s,i,n){const l=t.material+(t.attributes.normal?\"_normal\":\"\")+(t.attributes.color?\"_color\":\"\")+(t.attributes.texCoord0?\"_texCoord0\":\"\")+(t.attributes.tangent?\"_tangent\":\"\"),u=e.materials.get(t.material),a=null!=t.attributes.texCoord0,c=null!=t.attributes.normal;if(null==u)return null;const m=oe(u.alphaMode);if(!i.has(l)){if(a){const t=(t,r=!1)=>{if(null!=t&&!n.has(t)){const o=e.textures.get(t);if(null!=o){const e=o.data;n.set(t,new H(I(e)?e.data:e,{...o.parameters,preMultiplyAlpha:!I(e)&&r,encoding:I(e)&&null!=e.encoding?e.encoding:void 0}))}}};t(u.textureColor,m!==V.Opaque),t(u.textureNormal),t(u.textureOcclusion),t(u.textureEmissive),t(u.textureMetallicRoughness)}const r=u.color[0]**(1/$),f=u.color[1]**(1/$),d=u.color[2]**(1/$),p=u.emissiveFactor[0]**(1/$),g=u.emissiveFactor[1]**(1/$),x=u.emissiveFactor[2]**(1/$),b=null!=u.textureColor&&a?n.get(u.textureColor):null,h=Q({normalTexture:u.textureNormal,metallicRoughnessTexture:u.textureMetallicRoughness,metallicFactor:u.metallicFactor,roughnessFactor:u.roughnessFactor,emissiveTexture:u.textureEmissive,emissiveFactor:u.emissiveFactor,occlusionTexture:u.textureOcclusion});i.set(l,new W({...o,transparent:m===V.Blend,customDepthTest:D.Lequal,textureAlphaMode:m,textureAlphaCutoff:u.alphaCutoff,diffuse:[r,f,d],ambient:[r,f,d],opacity:u.opacity,doubleSided:u.doubleSided,doubleSidedType:\"winding-order\",cullFace:u.doubleSided?_.None:_.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:c?P.Attribute:P.ScreenDerivative,castShadows:!0,receiveSSAO:!0,textureId:null!=b?b.id:void 0,colorMixMode:u.colorMixMode,normalTextureId:null!=u.textureNormal&&a?n.get(u.textureNormal).id:void 0,textureAlphaPremultiplied:null!=b&&!!b.parameters.preMultiplyAlpha,occlusionTextureId:null!=u.textureOcclusion&&a?n.get(u.textureOcclusion).id:void 0,emissiveTextureId:null!=u.textureEmissive&&a?n.get(u.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=u.textureMetallicRoughness&&a?n.get(u.textureMetallicRoughness).id:void 0,emissiveFactor:[p,g,x],mrrFactors:h?[...J]:[u.metallicFactor,u.roughnessFactor,o.mrrFactors[2]],isSchematic:h,colorTextureTransformMatrix:k(u.colorTextureTransform),normalTextureTransformMatrix:k(u.normalTextureTransform),occlusionTextureTransformMatrix:k(u.occlusionTextureTransform),emissiveTextureTransformMatrix:k(u.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:k(u.metallicRoughnessTextureTransform),...s}))}const f=i.get(l);if(r.stageResources.materials.push(f),a){const e=e=>{null!=e&&r.stageResources.textures.push(n.get(e))};e(u.textureColor),e(u.textureNormal),e(u.textureOcclusion),e(u.textureEmissive),e(u.textureMetallicRoughness)}return f}function te(e,r){const o=e.attributes.position.count,s=A(e.indices||o,e.primitiveType),i=p(3*o),{typedBuffer:n,typedBufferStride:l}=e.attributes.position;R(i,n,e.transform,3,l);const u=[[q.POSITION,new U(i,3,!0)]],a=[[q.POSITION,s]];if(null!=e.attributes.normal){const r=p(3*o),{typedBuffer:i,typedBufferStride:n}=e.attributes.normal;t(re,e.transform),w(r,i,re,3,n),u.push([q.NORMAL,new U(r,3,!0)]),a.push([q.NORMAL,s])}if(null!=e.attributes.tangent){const r=p(4*o),{typedBuffer:i,typedBufferStride:n}=e.attributes.tangent;t(re,e.transform),M(r,i,re,4,n),u.push([q.TANGENT,new U(r,4,!0)]),a.push([q.TANGENT,s])}if(null!=e.attributes.texCoord0){const t=p(2*o),{typedBuffer:r,typedBufferStride:i}=e.attributes.texCoord0;B(t,r,2,i),u.push([q.UV0,new U(t,2,!0)]),a.push([q.UV0,s])}if(null!=e.attributes.color){const t=new Uint8Array(4*o);4===e.attributes.color.elementCount?e.attributes.color instanceof g?j(t,e.attributes.color,255):e.attributes.color instanceof x?F(t,e.attributes.color):e.attributes.color instanceof b&&j(t,e.attributes.color,1/256):(t.fill(255),e.attributes.color instanceof h?v(t,e.attributes.color,255,4):e.attributes.color instanceof T?S(t,e.attributes.color.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof y&&v(t,e.attributes.color,1/256,4)),u.push([q.COLOR,new U(t,4,!0)]),a.push([q.COLOR,s])}return{geometry:new G(r,u,a),vertexCount:o}}const re=r();function oe(e){switch(e){case\"BLEND\":return V.Blend;case\"MASK\":return V.Mask;case\"OPAQUE\":case null:case void 0:return V.Opaque}}function se(e,t){for(let r=0;r<e.model.lods.length;++r){const f=e.model.lods[r];for(const d of f.parts){const f=d.attributes.normal;if(null==f)return;const p=d.attributes.position,g=p.count,b=m(),T=m(),y=m(),R=new Uint8Array(4*g),w=new Float64Array(3*g),v=o(s(),d.transform);let M=0,j=0;for(let o=0;o<g;o++){p.getVec(o,T),f.getVec(o,b),i(T,T,d.transform),n(y,T,t.center),l(y,y,t.radius);const s=y[2],m=u(y),g=Math.min(.45+.55*m*m,1);l(y,y,t.radius),null!==v&&i(y,y,v),a(y,y),r+1!==e.model.lods.length&&e.model.lods.length>1&&c(y,y,b,s>-1?.2:Math.min(-4*s-3.8,1)),w[M]=y[0],w[M+1]=y[1],w[M+2]=y[2],M+=3,R[j]=255*g,R[j+1]=255*g,R[j+2]=255*g,R[j+3]=255,j+=4}d.attributes.normal=new h(w),d.attributes.color=new x(R)}}}export{X as fetch,Z as gltfToEngineResources,Y as parseUrl};\n"],
  "mappings": "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",
  "names": ["t", "n", "r", "f", "c", "l", "i", "u", "t", "m", "e", "s", "t", "e", "r", "o", "o", "i", "s", "c", "d", "l", "m", "u", "a", "f", "x", "t", "P", "A", "n", "v", "e", "r", "h", "j", "t", "n", "w", "t", "n", "o", "e", "O", "V", "s", "_", "M", "x", "j", "c", "r", "o", "a", "f", "g", "m", "h", "p", "j", "d", "i", "u", "l", "z", "w", "n", "s", "t", "r", "e", "n", "t", "e", "r", "l", "n", "o", "r", "t", "e", "i", "o", "h", "a", "s", "n", "p", "y", "u", "O", "c", "f", "v", "t", "s", "e", "_", "l", "o", "g", "t", "u", "e", "n", "s", "E", "m", "c", "T", "r", "i", "f", "h", "p", "_", "a", "G", "A", "L", "o", "s", "a", "i", "l", "e", "u", "c", "h", "m", "d", "p", "g", "D", "f", "w", "T", "_", "E", "r", "S", "L", "t", "n", "A", "M", "x", "R", "X", "b", "I", "v", "F", "w", "r", "t", "e", "n", "L", "H", "u", "C", "E", "_", "h", "s", "G", "a", "l", "m", "p", "d", "c", "E", "M", "t", "n", "s", "e", "i", "r", "a", "o", "v", "O", "z", "T", "_", "h", "f", "l", "m", "b", "c", "p", "u", "S", "j", "g", "x", "q", "V", "M", "j", "e", "u", "e", "t", "f", "o", "r", "s", "n", "i", "a", "c", "p", "b", "t", "f", "o", "r", "s", "n", "a", "i", "c", "l", "d", "u", "p", "y", "B", "g", "O", "h", "N", "S", "R", "A", "E", "L", "z", "e", "F", "v", "r", "t", "e", "O", "i", "o", "s", "A", "i", "s", "e", "f", "a", "O", "o", "P", "m", "u", "n", "r", "s", "o", "t", "c", "f", "f", "e", "n", "a", "r", "i", "o", "q", "e", "t", "l", "i", "E", "r", "o", "s", "h", "c", "A", "z", "a", "_", "f", "n", "Z", "s", "t", "r", "a", "c", "s", "h", "i", "n", "o", "a", "e", "r", "t", "q", "i", "a", "e", "I", "d", "e", "L", "c", "j", "h", "t", "r", "s", "a", "i", "o", "n", "S", "l", "u", "m", "p", "z", "V", "f", "g", "G", "T", "_", "x", "H", "D", "N", "E", "P", "q", "O", "h", "s", "v", "e", "t", "n", "A", "T", "a", "r", "j", "M", "P", "I", "o", "u", "c", "O", "p", "d", "x", "i", "k", "w", "U", "E", "q", "l", "t", "r", "o", "a", "e", "v", "s", "I", "l", "n", "i", "u", "c", "m", "Z", "P", "f", "p", "h", "w", "d", "g", "x", "b", "O", "E", "T", "y", "R", "M", "j", "A"]
}
