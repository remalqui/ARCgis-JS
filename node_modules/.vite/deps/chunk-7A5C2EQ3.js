import {
  c,
  m,
  n2 as n,
  r2 as r,
  s as s2,
  u
} from "./chunk-OYBXMT5R.js";
import {
  a as a2,
  a2 as a3,
  e2,
  o2 as o,
  o4 as o2,
  s3 as s5
} from "./chunk-CIDWM2UN.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import {
  p
} from "./chunk-DWOEYHKS.js";
import {
  s2 as s3,
  s3 as s4
} from "./chunk-W2N7YT6I.js";
import {
  a
} from "./chunk-I5JT24BO.js";
import {
  s
} from "./chunk-I4U7MQNO.js";

// node_modules/@arcgis/core/core/accessorSupport/write.js
function a4(r2, e4, t2, i2, o3) {
  var _a, _b;
  const n3 = {};
  return (_b = (_a = e4.write) == null ? void 0 : _a.writer) == null ? void 0 : _b.call(r2, i2, n3, t2, o3), n3;
}
function f(r2, i2, s8, u4, l2, a6) {
  if (!u4 || !u4.write)
    return false;
  const f3 = r2.get(s8);
  if (!l2 && u4.write.overridePolicy) {
    const e4 = u4.write.overridePolicy.call(r2, f3, s8, a6 ?? void 0);
    void 0 !== e4 && (l2 = e4);
  }
  if (l2 || (l2 = u4.write), !l2 || false === l2.enabled)
    return false;
  if ((null === f3 && !l2.allowNull && !l2.writerEnsuresNonNull || void 0 === f3) && l2.isRequired) {
    const i3 = new s4("web-document-write:property-required", `Missing value for required property '${s8}' on '${r2.declaredClass}'`, { propertyName: s8, target: r2 });
    return i3 && a6 && a6.messages ? a6.messages.push(i3) : i3 && !a6 && s3.getLogger("esri.core.accessorSupport.write").error(i3.name, i3.message), false;
  }
  if (void 0 === f3)
    return false;
  if (null === f3 && !l2.allowNull && !l2.writerEnsuresNonNull)
    return false;
  if (!l2.alwaysWriteDefaults && (!i2.store.multipleOriginsSupported || i2.store.originOf(s8) === r.DEFAULTS) && p2(r2, s8, a6, u4, f3))
    return false;
  if (!l2.ignoreOrigin && a6 && a6.origin && i2.store.multipleOriginsSupported) {
    if (i2.store.originOf(s8) < n(a6.origin))
      return false;
  }
  return true;
}
function p2(e4, t2, i2, o3, n3) {
  const s8 = o3.default;
  if (void 0 === s8)
    return false;
  if (null != o3.defaultEquals)
    return o3.defaultEquals(n3);
  if ("function" == typeof s8) {
    if (Array.isArray(n3)) {
      const o4 = s8.call(e4, t2, i2 ?? void 0);
      return s(o4, n3);
    }
    return false;
  }
  return s8 === n3;
}
function c2(r2, e4, t2, i2) {
  const o3 = e2(r2), n3 = o3.metadatas, u4 = a2(n3[e4], i2);
  return !!u4 && f(r2, o3, e4, u4, t2, i2);
}
function g(r2, e4, t2) {
  var _a, _b;
  if (r2 && "function" == typeof r2.toJSON && (!r2.toJSON.isDefaultToJSON || !r2.write))
    return o(e4, r2.toJSON(t2));
  const o3 = e2(r2), n3 = o3.metadatas;
  for (const s8 in n3) {
    const p3 = a2(n3[s8], t2);
    if (!f(r2, o3, s8, p3, void 0, t2))
      continue;
    const c4 = r2.get(s8), g2 = a4(r2, p3, p3.write && "string" == typeof p3.write.target ? p3.write.target : s8, c4, t2);
    Object.keys(g2).length > 0 && (e4 = o(e4, g2), ((_b = (_a = t2 == null ? void 0 : t2.resources) == null ? void 0 : _a.pendingOperations) == null ? void 0 : _b.length) && t2.resources.pendingOperations.push(Promise.all(t2.resources.pendingOperations).then(() => o(e4, g2, () => "replace-arrays"))), t2 && t2.writtenProperties && t2.writtenProperties.push({ target: r2, propName: s8, oldOrigin: c(o3.store.originOf(s8)), newOrigin: t2.origin }));
  }
  return e4;
}

// node_modules/@arcgis/core/core/accessorSupport/DefaultsStore.js
var s6 = class _s {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(e4) {
    const t2 = new _s();
    return this._values.forEach((s8, r2) => {
      e4 && e4.has(r2) || t2.set(r2, a(s8.value), s8.origin);
    }), t2;
  }
  get(i2, e4) {
    e4 = this._normalizeOrigin(e4);
    const s8 = this._values.get(i2);
    return null == e4 || (s8 == null ? void 0 : s8.origin) === e4 ? s8 == null ? void 0 : s8.value : void 0;
  }
  originOf(i2) {
    var _a;
    return ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) ?? r.USER;
  }
  keys(i2) {
    i2 = this._normalizeOrigin(i2);
    const e4 = [...this._values.keys()];
    return null == i2 ? e4 : e4.filter((e5) => {
      var _a;
      return ((_a = this._values.get(e5)) == null ? void 0 : _a.origin) === i2;
    });
  }
  set(i2, s8, r2) {
    if ((r2 = this._normalizeOrigin(r2)) === r.DEFAULTS) {
      const e4 = this._values.get(i2);
      if (e4 && null != e4.origin && e4.origin > r2)
        return;
    }
    this._values.set(i2, new t(s8, r2));
  }
  delete(i2, e4) {
    var _a;
    null != (e4 = this._normalizeOrigin(e4)) && ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) !== e4 || this._values.delete(i2);
  }
  has(i2, e4) {
    var _a;
    return null != (e4 = this._normalizeOrigin(e4)) ? ((_a = this._values.get(i2)) == null ? void 0 : _a.origin) === e4 : this._values.has(i2);
  }
  forEach(i2) {
    this._values.forEach(({ value: e4 }, s8) => i2(e4, s8));
  }
  _normalizeOrigin(i2) {
    if (null != i2)
      return i2 === r.DEFAULTS ? i2 : r.USER;
  }
};
var t = class {
  constructor(i2, e4) {
    this.value = i2, this.origin = e4;
  }
};

// node_modules/@arcgis/core/core/accessorSupport/defaultsStoreUtils.js
function e3(e4, r2, n3) {
  r2.keys().forEach((e5) => {
    n3.set(e5, r2.get(e5), r.DEFAULTS);
  });
  const o3 = e4.metadatas;
  Object.keys(o3).forEach((r3) => {
    e4.internalGet(r3) && n3.set(r3, e4.internalGet(r3), r.DEFAULTS);
  });
}

// node_modules/@arcgis/core/core/accessorSupport/read.js
function s7(e4, r2, o3) {
  if (!e4 || !e4.read || false === e4.read.enabled || !e4.read.source)
    return false;
  const n3 = e4.read.source;
  if ("string" == typeof n3) {
    if (n3 === r2)
      return true;
    if (n3.includes(".") && 0 === n3.indexOf(r2) && s2(n3, o3))
      return true;
  } else
    for (const s8 of n3) {
      if (s8 === r2)
        return true;
      if (s8.includes(".") && 0 === s8.indexOf(r2) && s2(s8, o3))
        return true;
    }
  return false;
}
function i(e4) {
  return e4 && (!e4.read || false !== e4.read.enabled && !e4.read.source);
}
function f2(e4, t2, r2, n3, f3) {
  let a6 = s5(t2[r2], f3);
  i(a6) && (e4[r2] = true);
  for (const i2 of Object.getOwnPropertyNames(t2))
    a6 = s5(t2[i2], f3), s7(a6, r2, n3) && (e4[i2] = true);
}
function a5(e4, t2, r2, o3) {
  const s8 = r2.metadatas, i2 = o2(s8[t2], o3), f3 = i2 == null ? void 0 : i2.default;
  if (void 0 === f3)
    return;
  const a6 = "function" == typeof f3 ? f3.call(e4, t2, o3) : f3;
  void 0 !== a6 && r2.set(t2, a6);
}
var c3 = { origin: "service" };
function u2(t2, n3, s8 = c3) {
  if (!n3 || "object" != typeof n3)
    return;
  const i2 = e2(t2), u4 = i2.metadatas, d2 = {};
  for (const e4 of Object.getOwnPropertyNames(n3))
    f2(d2, u4, e4, n3, s8);
  i2.setDefaultOrigin(s8.origin);
  for (const r2 of Object.getOwnPropertyNames(d2)) {
    const f3 = s5(u4[r2], s8).read, a6 = f3 && f3.source;
    let c4;
    c4 = a6 && "string" == typeof a6 ? u(n3, a6) : n3[r2], f3 && f3.reader && (c4 = f3.reader.call(t2, c4, n3, s8)), void 0 !== c4 && i2.set(r2, c4);
  }
  if (!s8 || !s8.ignoreDefaults) {
    i2.setDefaultOrigin("defaults");
    for (const e4 of Object.getOwnPropertyNames(u4))
      d2[e4] || a5(t2, e4, i2, s8);
  }
  i2.setDefaultOrigin("user");
}
function d(e4, t2, r2, o3 = c3) {
  var _a;
  const n3 = { ...o3, messages: [] };
  r2(n3), (_a = n3.messages) == null ? void 0 : _a.forEach((t3) => {
    "warning" !== t3.type || e4.loaded ? o3 && o3.messages && o3.messages.push(t3) : e4.loadWarnings.push(t3);
  });
}

// node_modules/@arcgis/core/core/JSONSupport.js
var u3 = (t2) => {
  let u4 = class extends t2 {
    constructor(...r2) {
      super(...r2);
      const t3 = p(e2(this)), i2 = t3.store, p3 = new s6();
      t3.store = p3, e3(t3, i2, p3);
    }
    read(r2, t3) {
      u2(this, r2, t3);
    }
    write(r2, t3) {
      return g(this, r2 ?? {}, t3);
    }
    toJSON(r2) {
      return this.write({}, r2);
    }
    static fromJSON(r2, t3) {
      return n2.call(this, r2, t3);
    }
  };
  return u4 = e([a3("esri.core.JSONSupport")], u4), u4.prototype.toJSON.isDefaultToJSON = true, u4;
};
function n2(r2, t2) {
  if (!r2)
    return null;
  if (r2.declaredClass)
    throw new Error("JSON object is already hydrated");
  const s8 = new this();
  return s8.read(r2, t2), s8;
}
var l = class extends u3(m) {
};
l = e([a3("esri.core.JSONSupport")], l);

export {
  e3 as e,
  u2 as u,
  d,
  c2 as c,
  g,
  u3 as u2,
  l
};
//# sourceMappingURL=chunk-7A5C2EQ3.js.map
