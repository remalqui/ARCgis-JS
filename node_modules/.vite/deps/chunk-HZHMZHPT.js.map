{
  "version": 3,
  "sources": ["../../@arcgis/core/support/timeUtils.js", "../../@arcgis/core/layers/support/commonProperties.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{eachAlways as n}from\"../core/promiseUtils.js\";import{offsetDate as i}from\"../core/timeUtils.js\";function r(t){return void 0!==t.timeInfo}async function o(i,o){if(0===i.length)return t.allTime;const m=i.filter(r);await Promise.all(m.map((t=>t.load({signal:o}))));const s=[],l=[];for(const t of m)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?l.push(t):s.push(t);const f=t=>null==t||t.isAllTime,a=l.map((t=>t.timeInfo?.fullTimeExtent));if(a.some(f))return t.allTime;const u=s.map((async t=>{const{timeExtent:e}=await t.fetchRecomputedExtents({signal:o});return e||t.timeInfo?.fullTimeExtent})),c=(await n(u)).map((t=>t.value));if(c.some(f))return t.allTime;return[...c,...a].filter(e).reduce(((t,e)=>t.union(e)))}function m(e){if(!e)return e;const{start:n,end:r}=e;return new t({start:null!=n?i(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=r?i(r,-r.getTimezoneOffset(),\"minutes\"):r})}function s(e){if(!e)return e;const{start:n,end:r}=e;return new t({start:null!=n?i(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=r?i(r,r.getTimezoneOffset(),\"minutes\"):r})}export{o as getTimeExtentFromLayers,s as toLocalTimeExtent,m as toUTCTimeExtent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../TimeExtent.js\";import r from\"../../geometry/Extent.js\";import i from\"../../geometry/SpatialReference.js\";import{w as n}from\"../../chunks/persistableUrlUtils.js\";import{toLocalTimeExtent as t,toUTCTimeExtent as o}from\"../../support/timeUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import{transparencyToOpacity as s}from\"../../webdoc/support/opacityUtils.js\";const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:!0}},p={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n}}},c={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={write:!0,read:!0},u={type:Number,json:{origins:{\"web-document\":w,\"portal-item\":{write:!0}}}},g={...u,json:{...u.json,origins:{\"web-document\":{...w,write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?s(r.layerDefinition.drawingInfo.transparency):void 0:s(r.drawingInfo.transparency)}}},b={type:e,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:e,timeOffset:r,useViewTime:i}=this.layer,n=this.view?.timeExtent;let a=this.layer.timeExtent;e&&(a=t(a));let s=i?n&&a?n.intersection(a):n||a:a;if(!s||s.isEmpty||s.isAllTime)return s;r&&(s=s.offset(-r.value,r.unit)),e&&(s=o(s));const l=this._get(\"timeExtent\");return s.equals(l)?l:s}},j={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,n)=>{const t=r.fromJSON(e);return null!=n.spatialReference&&\"object\"==typeof n.spatialReference&&(t.spatialReference=i.fromJSON(n.spatialReference)),t}}}},read:!1}},v={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},I={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},D={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}},S={json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}};export{b as combinedViewLayerTimeExtentProperty,d as elevationInfo,v as id,m as labelsVisible,c as legendEnabled,S as listMode,D as maxScale,I as minScale,u as opacity,g as opacityDrawingInfo,p as popupEnabled,y as readOnlyService,j as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n"],
  "mappings": "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",
  "names": ["n", "r", "p", "r", "m", "f", "c", "n", "s", "l", "j"]
}
