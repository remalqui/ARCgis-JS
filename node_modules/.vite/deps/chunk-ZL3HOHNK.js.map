{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/cim/utils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return\"function\"==typeof e}function t(t,r,n,o){return e(t)?t(r,n,o):t}function r(e){return[e.r,e.g,e.b,e.a]}const n=\" /-,\\n\";function o(e){let t=e.length;for(;t--;)if(!n.includes(e.charAt(t)))return!1;return!0}function i(e,t){const r=[];let n=0,i=-1;do{if(i=e.indexOf(\"[\",n),i>=n){if(i>n){const t=e.substr(n,i-n);r.push([t,null,o(t)])}if(n=i+1,i=e.indexOf(\"]\",n),i>=n){if(i>n){const o=t[e.substr(n,i-n)];o&&r.push([null,o,!1])}n=i+1}}}while(-1!==i);if(n<e.length-1){const t=e.substr(n);r.push([t,null,o(t)])}return r}function l(e,t,r){let n=\"\",o=null;for(const i of t){const[t,r,l]=i;if(t)l?o=t:(o&&(n+=o,o=null),n+=t);else{const t=e.attributes[r];t&&(o&&(n+=o,o=null),n+=t)}}return s(n,r)}function c(e,t,r){const n=i(t,e);return e=>l(e,n,r)}function s(e,t){switch(\"string\"!=typeof e&&(e=String(e)),t){case\"LowerCase\":return e.toLowerCase();case\"Allcaps\":return e.toUpperCase();default:return e}}function a(e,t,r,n,o,i,l=!0){const c=t/o,s=r/i,a=Math.ceil(c/2),u=Math.ceil(s/2);for(let f=0;f<i;f++)for(let r=0;r<o;r++){const y=4*(r+(l?i-f-1:f)*o);let M=0,C=0,m=0,b=0,p=0,d=0,I=0;const h=(f+.5)*s;for(let n=Math.floor(f*s);n<(f+1)*s;n++){const o=Math.abs(h-(n+.5))/u,i=(r+.5)*c,l=o*o;for(let s=Math.floor(r*c);s<(r+1)*c;s++){let r=Math.abs(i-(s+.5))/a;const o=Math.sqrt(l+r*r);o>=-1&&o<=1&&(M=2*o*o*o-3*o*o+1,M>0&&(r=4*(s+n*t),I+=M*e[r+3],m+=M,e[r+3]<255&&(M=M*e[r+3]/250),b+=M*e[r],p+=M*e[r+1],d+=M*e[r+2],C+=M))}}n[y]=b/C,n[y+1]=p/C,n[y+2]=d/C,n[y+3]=I/m}}function u(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function f(e){return e.data?.symbol??null}function y(e){return\"CIMVectorMarker\"===e.type||\"CIMPictureMarker\"===e.type||\"CIMBarChartMarker\"===e.type||\"CIMCharacterMarker\"===e.type||\"CIMPieChartMarker\"===e.type||\"CIMStackedBarChartMarker\"===e.type}function M(e){return\"CIMGradientStroke\"===e.type||\"CIMPictureStroke\"===e.type||\"CIMSolidStroke\"===e.type}function C(e){return null!=e&&(\"CIMGradientFill\"===e.type||\"CIMHatchFill\"===e.type||\"CIMPictureFill\"===e.type||\"CIMSolidFill\"===e.type||\"CIMWaterFill\"===e.type)}function m(e){return null!=e&&(\"CIMMarkerPlacementAlongLineRandomSize\"===e.type||\"CIMMarkerPlacementAlongLineSameSize\"===e.type||\"CIMMarkerPlacementAlongLineVariableSize\"===e.type||\"CIMMarkerPlacementAtExtremities\"===e.type||\"CIMMarkerPlacementAtMeasuredUnits\"===e.type||\"CIMMarkerPlacementAtRatioPositions\"===e.type||\"CIMMarkerPlacementOnLine\"===e.type||\"CIMMarkerPlacementOnVertices\"===e.type)}const b=(e,t=0)=>null==e||isNaN(e)?t:e,p=e=>e.tintColor?u(e.tintColor):{r:255,g:255,b:255,a:1},d=e=>{if(!e)return!1;for(const t of e)switch(t.type){case\"CIMGeometricEffectBuffer\":case\"CIMGeometricEffectOffset\":case\"CIMGeometricEffectDonut\":return!0}return!1};function I(){return import(\"../../geometry/geometryEngineJSON.js\")}function h(e){if(!e)return\"normal\";switch(e.toLowerCase()){case\"italic\":return\"italic\";case\"oblique\":return\"oblique\";default:return\"normal\"}}function g(e){if(!e)return\"normal\";switch(e.toLowerCase()){case\"bold\":return\"bold\";case\"bolder\":return\"bolder\";case\"lighter\":return\"lighter\";default:return\"normal\"}}function S(e){let t=\"normal\",r=\"normal\";if(e){const n=e.toLowerCase();n.includes(\"italic\")?t=\"italic\":n.includes(\"oblique\")&&(t=\"oblique\"),n.includes(\"bold\")?r=\"bold\":n.includes(\"light\")&&(r=\"lighter\")}return{style:t,weight:r}}function k(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function P(e){if(!e)return null;switch(e.type){case\"CIMPolygonSymbol\":if(e.symbolLayers)for(const t of e.symbolLayers){const e=P(t);if(null!=e)return e}break;case\"CIMTextSymbol\":return P(e.symbol);case\"CIMSolidFill\":return e.color}}function w(e){if(e)switch(e.type){case\"CIMPolygonSymbol\":case\"CIMLineSymbol\":{const t=e.symbolLayers;if(t)for(const e of t){const t=w(e);if(null!=t)return t}break}case\"CIMTextSymbol\":return w(e.symbol);case\"CIMSolidStroke\":return e.color}}function L(e){if(e)switch(e.type){case\"CIMPolygonSymbol\":case\"CIMLineSymbol\":if(e.symbolLayers)for(const t of e.symbolLayers){const e=L(t);if(void 0!==e)return e}break;case\"CIMTextSymbol\":return L(e.symbol);case\"CIMSolidStroke\":case\"CIMGradientStroke\":case\"CIMPictureStroke\":return e.width}}function x(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":case\"Justify\":return\"center\"}}function G(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function A(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:\"string\"==typeof e[t]?\"esriFieldTypeString\":\"esriFieldTypeDouble\"})))}const F=e=>e.includes(\"data:image/svg+xml\");function O(e){if(!e)return null;switch(e.type){case\"CIMPointSymbol\":case\"CIMTextSymbol\":return\"esriGeometryPoint\";case\"CIMLineSymbol\":return\"esriGeometryPolyline\";case\"CIMPolygonSymbol\":return\"esriGeometryPolygon\";default:return null}}export{s as adjustTextCase,i as analyzeTextParts,l as assignTextValuesFromFeature,A as attributesToFields,r as colorToArray,c as createLabelOverrideFunction,t as evaluateValueOrFunction,u as fromCIMColor,k as fromCIMFontDecoration,S as fromCIMFontStyle,x as fromCIMHorizontalAlignment,G as fromCIMVerticalAlignment,P as getFillColor,h as getFontStyle,g as getFontWeight,w as getStrokeColor,L as getStrokeWidth,p as getTintColor,b as getValue,I as importGeometryEngine,C as isCIMFill,y as isCIMMarker,m as isCIMMarkerStrokePlacement,M as isCIMStroke,e as isFeatureValueFn,d as isGeometryEngineRequired,F as isSVGImage,O as mapCIMSymbolToGeometryType,a as resampleHermite,f as toCIMSymbolJSON};\n"],
  "mappings": "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",
  "names": ["e", "t", "r", "n", "o", "i", "l", "c", "s", "a", "u", "f", "y", "M", "m", "b", "p", "d", "I", "h", "e", "t", "r", "n"]
}
