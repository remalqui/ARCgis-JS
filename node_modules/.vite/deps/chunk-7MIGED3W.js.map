{
  "version": 3,
  "sources": ["../../@arcgis/core/support/collectionUtils.js", "../../@arcgis/core/support/LayersMixin.js", "../../@arcgis/core/support/TablesMixin.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../core/CollectionFlattener.js\";function t(t){return new e({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return\"tables\"in e&&t.push(e.tables),\"layers\"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&\"tables\"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}export{t as createFlattenedTablesCollection,n as destroyMap};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function l(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if(\"group\"===s?.type&&(o=l(s.layers,r,t),o))return o}}const d=d=>{let y=class extends d{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(\"before-add\",(e=>t(e.item))),this.layers.on(\"after-add\",(e=>o(e.item))),this.layers.on(\"after-remove\",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):s.getLogger(this).error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return l(this.layers,\"id\",e)}findLayerByUid(e){return l(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([a()],y.prototype,\"layers\",null),y=e([i(\"esri.support.LayersMixin\")],y),y};export{d as LayersMixin};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if(\"group\"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const l=l=>{let n=class extends l{constructor(...t){super(...t),this.tables=new e,this.addHandles([this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.removeAll();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return a(this.tables,\"id\",t)}findTableByUid(t){return a(this.tables,\"uid\",t)}};return t([o()],n.prototype,\"tables\",null),n=t([i(\"esri.support.TablesMixin\")],n),n};export{l as TablesMixin};\n"],
  "mappings": "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",
  "names": ["t", "n", "e", "e", "t", "s", "a", "d", "y", "a", "t", "e", "s", "o", "l", "n"]
}
