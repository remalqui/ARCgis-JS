{
  "version": 3,
  "sources": ["../../@arcgis/core/core/accessorSupport/diffUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../Accessor.js\";import t from\"../Collection.js\";import{getProperties as n}from\"./utils.js\";const o=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function r(t){return t instanceof e}function f(e){return e instanceof t?Object.keys(e.items):r(e)?n(e).keys():e?Object.keys(e):[]}function l(e,n){return e instanceof t?e.items[n]:e[n]}function i(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function u(e){return e?e.declaredClass:null}function c(e,t){const n=e.diff;if(n&&\"function\"==typeof n)return n(e,t);const s=f(e),p=f(t);if(0===s.length&&0===p.length)return;if(!s.length||!p.length||i(e,t))return{type:\"complete\",oldValue:e,newValue:t};const a=p.filter((e=>!s.includes(e))),y=s.filter((e=>!p.includes(e))),d=s.filter((n=>p.includes(n)&&l(e,n)!==l(t,n))).concat(a,y).sort(),m=u(e);if(m&&o.includes(m)&&d.length)return{type:\"complete\",oldValue:e,newValue:t};let h;const b=r(e)&&r(t);for(const o of d){const r=l(e,o),f=l(t,o);let i;if((b||\"function\"!=typeof r&&\"function\"!=typeof f)&&(r!==f&&(null!=r||null!=f))){if(n&&n[o]&&\"function\"==typeof n[o])i=n[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;i={type:\"complete\",oldValue:r,newValue:f}}else i=\"object\"==typeof r&&\"object\"==typeof f&&u(r)===u(f)?c(r,f):{type:\"complete\",oldValue:r,newValue:f};null!=i&&(null!=h?h.diff[o]=i:h={type:\"partial\",diff:{[o]:i}})}}return h}function s(e,t){if(null==e)return!1;const n=t.split(\".\");let o=e;for(const r of n){if(\"complete\"===o.type)return!0;if(\"partial\"!==o.type)return!1;{const e=o.diff[r];if(!e)return!1;o=e}}return!0}function p(e,t){for(const n of t)if(s(e,n))return!0;return!1}function a(e,t){if(\"function\"!=typeof e&&\"function\"!=typeof t&&(null!=e||null!=t))return null==e||null==t||\"object\"==typeof e&&\"object\"==typeof t&&u(e)!==u(t)?{type:\"complete\",oldValue:e,newValue:t}:c(e,t)}function y(e){if(null==e)return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!y(e))return!1;for(const e of t.removed)if(!y(e))return!1;for(const e of t.changed)if(!y(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!y(e.diff[t]))return!1}return!0}}export{a as diff,s as hasDiff,p as hasDiffAny,y as isEmpty};\n"],
  "mappings": "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",
  "names": ["e", "s", "p", "a", "n", "m", "o", "r", "f", "i"]
}
