{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryAttachments.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIwP,SAAS,EAAEA,IAAE;AAAC,QAAM,IAAEA,GAAE,OAAO;AAAE,SAAO,EAAE,oBAAkB,EAAE,kBAAgB,EAAE,gBAAgB,KAAK,GAAG,IAAG,EAAE,aAAW,EAAE,WAAS,EAAE,SAAS,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,cAAY,EAAE,YAAU,EAAE,UAAU,KAAK,GAAG,IAAG,EAAE,SAAO,EAAE,OAAK,EAAE,KAAK,KAAK,GAAG,IAAG;AAAC;AAAC,SAAS,EAAE,GAAE,GAAE;AAAC,QAAMC,KAAE,CAAC;AAAE,aAAUC,MAAK,GAAE;AAAC,UAAK,EAAC,gBAAeC,IAAE,gBAAeC,IAAE,iBAAgBC,GAAC,IAAEH;AAAE,eAAUA,MAAKG,IAAE;AAAC,YAAK,EAAC,IAAGA,GAAC,IAAEH,IAAE,IAAE,EAAE,EAAE,GAAG,EAAE,IAAI,IAAIC,EAAC,gBAAgBE,EAAC,EAAE,CAAC,GAAEC,KAAE,EAAE,SAASJ,EAAC;AAAE,MAAAI,GAAE,IAAI,EAAC,KAAI,GAAE,gBAAeH,IAAE,gBAAeC,GAAC,CAAC,GAAEH,GAAEE,EAAC,IAAEF,GAAEE,EAAC,EAAE,KAAKG,EAAC,IAAEL,GAAEE,EAAC,IAAE,CAACG,EAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAOL;AAAC;AAAC,SAAS,EAAED,IAAE,GAAE,GAAE;AAAC,MAAIE,KAAE,EAAC,OAAM,EAAE,EAAC,GAAGF,GAAE,OAAM,GAAE,QAAO,GAAG,EAAE,CAAC,EAAC,CAAC,EAAC;AAAE,SAAO,MAAIE,KAAE,EAAC,GAAG,GAAE,GAAGA,IAAE,OAAM,EAAC,GAAG,EAAE,OAAM,GAAGA,GAAE,MAAK,EAAC,IAAG,EAAEF,GAAE,OAAK,qBAAoBE,EAAC,EAAE,KAAM,CAAAF,OAAGA,GAAE,KAAK,gBAAiB;AAAC;AAAC,eAAe,EAAEA,IAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAU,EAAC,IAAE,GAAEC,KAAE,CAAC;AAAE,aAAUC,MAAK;AAAE,IAAAD,GAAE,KAAK,EAAED,GAAE,OAAK,MAAIE,KAAE,gBAAe,CAAC,CAAC;AAAE,SAAO,QAAQ,IAAID,EAAC,EAAE,KAAM,CAAAD,OAAG,EAAE,IAAK,CAAC,GAAEO,QAAK,EAAC,gBAAe,GAAE,iBAAgBP,GAAEO,EAAC,EAAE,KAAK,gBAAe,EAAG,CAAE;AAAC;",
  "names": ["t", "s", "a", "n", "c", "m", "i", "e"]
}
