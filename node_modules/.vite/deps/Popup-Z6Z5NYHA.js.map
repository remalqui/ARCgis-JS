{
  "version": 3,
  "sources": ["../../@arcgis/core/core/unitFormatUtils.js", "../../@arcgis/core/widgets/Feature/support/featureUtils.js", "../../@arcgis/core/widgets/Attachments/AttachmentsViewModel.js", "../../@arcgis/core/widgets/Attachments/support/attachmentUtils.js", "../../@arcgis/core/widgets/Attachments.js", "../../@arcgis/core/widgets/Feature/FeatureAttachments/FeatureAttachmentsViewModel.js", "../../@arcgis/core/widgets/support/Heading.js", "../../@arcgis/core/widgets/Feature/support/FeatureElementInfo.js", "../../@arcgis/core/widgets/Feature/FeatureAttachments.js", "../../@arcgis/core/widgets/Feature/FeatureContent/FeatureContentViewModel.js", "../../@arcgis/core/widgets/Feature/FeatureContent.js", "../../@arcgis/core/widgets/Feature/FeatureFields/FeatureFieldsViewModel.js", "../../@arcgis/core/widgets/support/uriUtils.js", "../../@arcgis/core/widgets/Feature/FeatureFields.js", "../../@arcgis/core/core/a11yUtils.js", "../../@arcgis/core/renderers/support/numberUtils.js", "../../@arcgis/core/widgets/Legend/support/utils.js", "../../@arcgis/core/widgets/Legend/support/colorRampUtils.js", "../../@arcgis/core/widgets/Legend/support/heatmapRampUtils.js", "../../@arcgis/core/renderers/support/utils.js", "../../@arcgis/core/widgets/Feature/support/relatedFeatureUtils.js", "../../@arcgis/core/widgets/Feature/FeatureMedia/FeatureMediaViewModel.js", "../../@arcgis/core/widgets/Feature/FeatureMedia.js", "../../@arcgis/core/widgets/Feature/support/arcadeFeatureUtils.js", "../../@arcgis/core/widgets/Feature/FeatureExpression/FeatureExpressionViewModel.js", "../../@arcgis/core/widgets/Feature/FeatureExpression.js", "../../@arcgis/core/widgets/FeatureForm/featureFormUtils.js", "../../@arcgis/core/widgets/Feature/FeatureRelationship/FeatureRelationshipViewModel.js", "../../@arcgis/core/widgets/Feature/FeatureRelationship.js", "../../@arcgis/core/arcade/featureset/support/FeatureSetQueryInterceptor.js", "../../@arcgis/core/widgets/Feature/FeatureViewModel.js", "../../@arcgis/core/widgets/Feature/resources.js", "../../@arcgis/core/widgets/Feature/support/FeatureContentMixin.js", "../../@arcgis/core/widgets/Feature.js", "../../@arcgis/core/widgets/support/AnchorElementViewModel.js", "../../@arcgis/core/widgets/Spinner/SpinnerViewModel.js", "../../@arcgis/core/widgets/Spinner.js", "../../@arcgis/core/widgets/Popup/actions.js", "../../@arcgis/core/widgets/Popup/actionUtils.js", "../../@arcgis/core/widgets/Popup/css.js", "../../@arcgis/core/layers/LayerConstants.js", "../../@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js", "../../@arcgis/core/symbols/support/symbolUtils.js", "../../@arcgis/core/views/support/layerViewUtils.js", "../../@arcgis/core/widgets/Popup/PopupViewModel.js", "../../@arcgis/core/widgets/Popup.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{ByteSizeUnit as t}from\"./ByteSizeUnit.js\";import{cyclicalDegrees as n}from\"./Cyclical.js\";import{clamp as r}from\"./mathUtils.js\";import{replace as i}from\"./string.js\";import{preferredMetricLengthUnit as e,convertUnit as o,preferredMetricVerticalLengthUnit as u,preferredImperialLengthUnit as s,preferredImperialVerticalLengthUnit as c,preferredMetricAreaUnit as a,preferredImperialAreaUnit as m}from\"./unitUtils.js\";import{formatNumber as f}from\"../intl/number.js\";function l(t,n,r){return t.units[n][r]}function b(t,n,r,i=2,e=\"abbr\"){return`${f(n,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:n>0?\"never\":\"exceptZero\"})} ${l(t,r,e)}`}function g(t,n,r,i=2,e=\"abbr\"){return`${f(n,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:\"exceptZero\"})} ${l(t,r,e)}`}function p(t,n,r,i=2,u=\"abbr\"){const s=e(n,r);return b(t,o(n,r,s),s,i,u)}function D(t,n,r,i=2,u=\"abbr\"){const s=e(n,r);return g(t,o(n,r,s),s,i,u)}function x(t,n,r,i=2,e=\"abbr\"){const s=u(n,r);return b(t,o(n,r,s),s,i,e)}function F(t,n,r,i=2,e=\"abbr\"){const s=u(n,r);return g(t,o(n,r,s),s,i,e)}function y(t,n,r,i=2,e=\"abbr\"){const u=s(n,r);return b(t,o(n,r,u),u,i,e)}function h(t,n,r,i=2,e=\"abbr\"){const u=s(n,r);return g(t,o(n,r,u),u,i,e)}function d(t,n,r,i=2,e=\"abbr\"){const u=c(n,r);return b(t,o(n,r,u),u,i,e)}function B(t,n,r,i=2,e=\"abbr\"){const u=c(n,r);return g(t,o(n,r,u),u,i,e)}function M(t,n,r,i=2,e=\"abbr\"){const u=a(n,r);return b(t,o(n,r,u),u,i,e)}function $(t,n,r,i=2,e=\"abbr\"){const u=m(n,r);return b(t,o(n,r,u),u,i,e)}function j(t,n,r=2){let i=o(t,n,\"degrees\"),e=i-Math.floor(i);i-=e,e*=60;let u=e-Math.floor(e);return e-=u,u*=60,`${i.toFixed()}Â° ${e.toFixed()}' ${u.toFixed(r)}\"`}function S(t,r,i,e,u){u=u??2;let s=n.normalize(z(o(t,r,\"degrees\"),i,e),0,!0);const c={style:\"unit\",unitDisplay:\"narrow\",unit:\"degree\",maximumFractionDigits:u,minimumFractionDigits:u,signDisplay:s>0?\"never\":\"exceptZero\"};return s=Z(s,c),f(s,c)}function w(t,n,r,i,e){r!==i&&(t=-t);const u={style:\"unit\",unitDisplay:\"narrow\",unit:\"degree\",maximumFractionDigits:e=e??2,minimumFractionDigits:e,signDisplay:\"exceptZero\"};let s=o(t,n,\"degrees\")%360;return s=Z(s,u),f(s,u)}const U=new Map;function Z(t,n){const r=JSON.stringify(n);let i=U.get(r);return i||(i=new Intl.NumberFormat(\"en-US\",n),U.set(r,i)),/\\-?\\+?360/.test(i.format(t))?0:t}function z(t,n,r){if(n===r)return t;switch(r){case\"arithmetic\":return I(t);case\"geographic\":return O(t)}}function I(t){return 90-t}function O(t){return-t-90}const T=[\"B\",\"kB\",\"MB\",\"GB\",\"TB\"];function v(n,e){let o=0===e?0:Math.floor(Math.log(e)/Math.log(t.KILOBYTES));o=r(o,0,T.length-1);const u=f(e/t.KILOBYTES**o,{maximumFractionDigits:2});return i(n.units.bytes[T[o]],{fileSize:u})}export{S as formatAngleDegrees,j as formatDMS,b as formatDecimal,v as formatFileSize,$ as formatImperialArea,y as formatImperialLength,h as formatImperialRelativeLength,B as formatImperialRelativeVerticalLength,d as formatImperialVerticalLength,M as formatMetricArea,p as formatMetricLength,D as formatMetricRelativeLength,F as formatMetricRelativeVerticalLength,x as formatMetricVerticalLength,w as formatRelativeAngleDegrees,g as formatRelativeDecimal,l as unitName};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{replace as t}from\"../../../core/string.js\";import{formatDate as r,formatTimestamp as n,formatTimeOnly as i,formatDateOnly as o,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{formatNumber as l,convertNumberFormatToIntlOptions as u}from\"../../../intl/number.js\";import{isRasterPixelValueField as s,featureHasFields as f}from\"../../../layers/support/fieldUtils.js\";import{isFeatureLayer as c,getEffectiveLayerCapabilities as d}from\"../../../layers/support/layerUtils.js\";import p from\"../../../popup/support/FieldInfoFormat.js\";import{loadArcade as y}from\"../../../support/arcadeOnDemand.js\";const m=\"esri.widgets.Feature.support.featureUtils\",g=e.getLogger(m),h=/href=(\"\"|'')/gi,I=/(\\{([^\\{\\r\\n]+)\\})/g,b=/\\'/g,F=/^\\s*expression\\//i,w=/(\\n)/gi,N=/[\\u00A0-\\u9999<>\\&]/gim,j=/href\\s*=\\s*(?:\\\"([^\\\"]+)\\\"|\\'([^\\']+)\\')/gi,E=/^(?:mailto:|tel:)/,T=\"relationships/\",x=a(\"short-date-short-time\");function C(e){if(null!=e)return e.get(\"sourceLayer\")||e.get(\"layer\")}async function q(e,t){return\"function\"==typeof e?e(t):e}function A(e=\"\"){if(e)return!E.test(e.trim().toLowerCase())}function M(e){return!!e&&F.test(e)}function R(e,t){if(!M(t)||!e)return null;const r=t.replace(F,\"\").toLowerCase();let n=null;return e.some((e=>e.name.toLowerCase()===r&&(n=e,!0))),n}function L(e,t){const r=R(t,e?.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function D(e,t){const r=t.get(e.toLowerCase());return`{${r&&r.fieldName||e}}`}function v(e){return e.replaceAll(h,\"\")}function U(e,t){const r=O(t,e);return r?r.name:e}function $(e,t){return e&&e.map((e=>U(e,t)))}function O(e,t){return e&&\"function\"==typeof e.getField&&t?e.getField(t)??null:null}function S(e){return`${e}`.trim()}function G({attributes:e,globalAttributes:t,layer:r,text:n,expressionAttributes:i,fieldInfoMap:o}){return n?k({formattedAttributes:t,template:H(n,{...t,...i,...e},r),fieldInfoMap:o}):\"\"}function k({formattedAttributes:e,template:r,fieldInfoMap:n}){return S(v(t(t(r,(e=>D(e,n))),e)))}function P(e,t,r=!1){const n=t[e];if(\"string\"==typeof n){const i=\"%27\",o=(r?encodeURIComponent(n):n).replaceAll(b,i);t[e]=o}}function Q(e,t=!1){const r={...e};return Object.keys(r).forEach((e=>P(e,r,t))),r}function _(e,r,n){const i=(r=S(r))&&\"{\"!==r[0];return t(e,Q(n,i||!1))}function z(e,t){return e.replaceAll(I,((e,r,n)=>{const i=O(t,n);return i?`{${i.name}}`:r}))}function H(e,t,r){const n=z(e,r);return n?n.replaceAll(j,((e,r,n)=>_(e,r||n,t))):n}function V(e,t){if(\"string\"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}function Z(e){return null!=e&&\"object\"==typeof e&&\"layer\"in e&&!!e.layer}function B(e){return null!=e&&\"object\"==typeof e&&\"type\"in e&&\"map-image\"===e.type}function J(e){return null!=e&&\"object\"==typeof e&&\"fieldsIndex\"in e&&\"geometryType\"in e&&\"getField\"in e&&\"load\"in e&&\"loaded\"in e&&\"objectIdField\"in e&&\"spatialReference\"in e&&\"type\"in e&&\"feature\"===e.type&&\"when\"in e}function K(e){return null!=e&&\"object\"==typeof e&&\"createQuery\"in e&&\"queryFeatureCount\"in e&&\"queryObjectIds\"in e&&\"queryRelatedFeatures\"in e&&\"queryRelatedFeaturesCount\"in e&&\"relationships\"in e}function W(e){return J(e)&&K(e)}function X(e){return!!e&&\"object\"==typeof e&&\"sourceLayer\"in e&&W(e.sourceLayer)}function Y(e,t){const{fieldInfos:r,fieldName:n,preventPlacesFormatting:i,layer:o}=t,a=ee(r,n),f=a?.clone(),d=O(o,n);if(f&&!s(n)){const t=d?.type;if(\"date\"===t||\"date-only\"===t||\"time-only\"===t||\"timestamp-offset\"===t||f.format?.dateFormat){const r=f.format??new p;if(r.dateFormat??=\"date-only\"===t?\"short-date\":\"short-date-short-time\",\"number\"==typeof e){const t=!Z(o)&&c(o)&&o.datesInUnknownTimezone||Z(o)&&B(o.layer)&&o.layer.datesInUnknownTimezone;return r.formatDate(e,t)}switch(t){case\"date-only\":return r.formatDateOnly(e);case\"time-only\":return r.formatTimeOnly(e);case\"timestamp-offset\":return r.formatTimestamp(e)}}}const y=f?.format;return\"string\"==typeof e&&s(n)&&y?y.formatRasterPixelValue(e):\"string\"==typeof(e=V(e,y))||null==e||null==y?le(e):i?l(e,{...u(y),minimumFractionDigits:0,maximumFractionDigits:20}):y.formatNumber(e)}function ee(e,t){if(e&&e.length&&t)return e.find((e=>e.fieldName?.toLowerCase()===t.toLowerCase()))}function te({fieldName:e,graphic:t,layer:r}){if(pe(e))return null;if(!r||\"function\"!=typeof r.getFeatureType)return null;const{typeIdField:n}=r;if(!n||e!==n)return null;const i=r.getFeatureType(t);return i?i.name:null}function re({fieldName:e,value:t,graphic:r,layer:n}){if(pe(e))return null;if(!n||\"function\"!=typeof n.getFieldDomain)return null;const i=r&&n.getFieldDomain(e,{feature:r});return i&&\"coded-value\"===i.type?i.getName(t):null}function ne(e,t){const{creatorField:n,creationDateField:i,editorField:o,editDateField:a}=e;if(!t)return;const l=t[a];if(\"number\"==typeof l){const e=t[o];return{type:\"edit\",date:r(l,x),user:e}}const u=t[i];if(\"number\"==typeof u){const e=t[n];return{type:\"create\",date:r(u,x),user:e}}return null}function ie(e,t){const r=new Map;return e?(e.forEach((e=>{const n=U(e.fieldName,t);e.fieldName=n,r.set(n.toLowerCase(),e)})),r):r}function oe(e){const t=[];if(!e)return t;const{fieldInfos:r,content:n}=e;return r&&t.push(...r),n&&Array.isArray(n)?(n.forEach((e=>{if(\"fields\"===e.type){const r=e&&e.fieldInfos;r&&t.push(...r)}})),t):t}function ae(e){return e.replaceAll(N,(e=>`&#${e.charCodeAt(0)};`))}function le(e){return\"string\"==typeof e?e.replaceAll(w,'<br class=\"esri-text-new-line\" />'):e}function ue(e){const{value:t,fieldName:a,fieldInfos:l,fieldInfoMap:u,layer:s,graphic:f}=e;if(null==t)return\"\";const c=re({fieldName:a,value:t,graphic:f,layer:s});if(c)return c;const d=te({fieldName:a,graphic:f,layer:s});if(d)return d;if(u.get(a.toLowerCase()))return Y(t,{fieldInfos:l||Array.from(u.values()),fieldName:a,layer:s});switch(s?.fieldsIndex?.get(a)?.type){case\"date\":return r(t);case\"date-only\":return o(t);case\"time-only\":return i(t);case\"timestamp-offset\":return n(t)}return le(t)}function se({fieldInfos:e,attributes:t,layer:r,graphic:n,fieldInfoMap:i,relatedInfos:o}){const a={};return o?.forEach((t=>ge({attributes:a,relatedInfo:t,fieldInfoMap:i,fieldInfos:e,layer:r}))),t&&Object.keys(t).forEach((o=>{const l=t[o];a[o]=ue({fieldName:o,fieldInfos:e,fieldInfoMap:i,layer:r,value:l,graphic:n})})),a}async function fe(e,t){const{layer:r,graphic:n,outFields:i,objectIds:o,returnGeometry:a,spatialReference:l}=e,u=o[0];if(\"number\"!=typeof u&&\"string\"!=typeof u){const e=\"Could not query required fields for the specified feature. The feature's ID is invalid.\",t={layer:r,graphic:n,objectId:u,requiredFields:i};return g.warn(e,t),null}if(!d(r)?.operations?.supportsQuery){const e=\"The specified layer cannot be queried. The following fields will not be available.\",t={layer:r,graphic:n,requiredFields:i,returnGeometry:a};return g.warn(e,t),null}const s=r.createQuery();s.objectIds=o,s.outFields=i?.length?i:[r.objectIdField],s.returnGeometry=!!a,s.returnZ=!!a,s.returnM=!!a,s.outSpatialReference=l;return(await r.queryFeatures(s,t)).features[0]}async function ce(e){if(!e.expressionInfos?.length)return!1;const t=await y(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}async function de({graphic:e,popupTemplate:t,layer:r,spatialReference:n},i){if(!r||!t)return;if(\"function\"==typeof r.load&&await r.load(i),!e.attributes)return;const o=e.attributes[r.objectIdField];if(null==o)return;const a=[o],l=await t.getRequiredFields(r.fieldsIndex),u=f(l,e),s=u?[]:l,c=t.returnGeometry||await ce(t);if(u&&!c)return;const d=await fe({layer:r,graphic:e,outFields:s,objectIds:a,returnGeometry:c,spatialReference:n},i);d&&(d.geometry&&(e.geometry=d.geometry),d.attributes&&(e.attributes={...e.attributes,...d.attributes}))}function pe(e=\"\"){return!!e&&e.includes(T)}function ye(e){return e?`${T}${e.layerId}/${e.fieldName}`:\"\"}function me({attributes:e,graphic:t,relatedInfo:r,fieldInfos:n,fieldInfoMap:i,layer:o}){e&&t&&r&&Object.keys(t.attributes).forEach((a=>{const l=ye({layerId:r.relation.id.toString(),fieldName:a}),u=t.attributes[a];e[l]=ue({fieldName:l,fieldInfos:n,fieldInfoMap:i,layer:o,value:u,graphic:t})}))}function ge({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i}){e&&t&&(t.relatedFeatures&&t.relatedFeatures&&t.relatedFeatures.forEach((o=>me({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i}))),t.relatedStatsFeatures&&t.relatedStatsFeatures&&t.relatedStatsFeatures.forEach((o=>me({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:r,fieldInfos:n,layer:i}))))}const he=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes(\"CURRENT_TIMESTAMP\")||t.includes(\"CURRENT_DATE\")||t.includes(\"CURRENT_TIME\")},Ie=({layer:e,method:t,query:r,definitionExpression:n})=>{if(!e.capabilities?.query?.supportsCacheHint||\"attachments\"===t)return;const i=null!=r.where?r.where:null,o=null!=r.geometry?r.geometry:null;he(n)||he(i)||\"extent\"===o?.type||\"tile\"===r.resultType||(r.cacheHint=!0)},be=({query:e,layer:t,method:r})=>{Ie({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})},Fe=({queryPayload:e,layer:t,method:r})=>{Ie({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression}`})};function we(e,t,r){return e&&t&&r?Ne(e.allLayers,t,r)||Ne(e.allTables,t,r):null}function Ne(e,t,r){return e.filter(W).find((e=>e!==t&&e.url===t.url&&e.layerId===r.relatedTableId))}export{le as applyTextFormattingHTML,ie as createfieldInfoMap,we as findRelatedLayer,z as fixTokens,se as formatAttributes,ne as formatEditInfo,Y as formatValueToFieldInfo,oe as getAllFieldInfos,ee as getFieldInfo,L as getFieldInfoLabel,U as getFixedFieldName,$ as getFixedFieldNames,C as getSourceLayer,q as graphicCallback,ae as htmlEntities,M as isExpressionField,J as isFeatureSupportedLayer,X as isGraphicForRelatableFeatureSupportedLayer,W as isRelatableFeatureSupportedLayer,K as isRelatableLayer,pe as isRelatedField,be as preLayerQueryCallback,Fe as preRequestCallback,fe as querySourceLayer,de as queryUpdatedFeature,A as shouldOpenInNewTab,k as substituteAttributes,G as substituteFieldsInLinksAndAttributes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Graphic.js\";import a from\"../../core/Accessor.js\";import i from\"../../core/Collection.js\";import n from\"../../core/Error.js\";import{watch as r,initial as s}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../rest/query/support/AttachmentInfo.js\";import d from\"../../rest/support/AttachmentQuery.js\";import{getSourceLayer as p}from\"../Feature/support/featureUtils.js\";const m={editing:!1,operations:{add:!0,update:!0,delete:!0}},f=i.ofType(l);let u=class extends a{constructor(t){super(t),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...m},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new f,this.fileInfos=new i,this.graphic=null,this.mode=\"view\",this.filesEnabled=!1,this.addHandles(r((()=>this.graphic),(()=>this._graphicChanged()),s))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(t){return{...m,...t}}get state(){return this._getAttachmentsPromise?\"loading\":this.graphic?\"ready\":\"disabled\"}get supportsResizeAttachments(){const{graphic:t}=this;if(!t)return!1;const e=t.layer||t.sourceLayer;return e?.loaded&&\"capabilities\"in e&&e.capabilities&&\"operations\"in e.capabilities&&\"supportsResizeAttachments\"in e.capabilities.operations&&e.capabilities.operations.supportsResizeAttachments||!1}async getAttachments(){const{_attachmentLayer:t,attachmentInfos:e}=this;if(!t||\"function\"!=typeof t.queryAttachments)throw new n(\"invalid-layer\",\"getAttachments(): A valid layer is required.\");const a=this._getObjectId(),i=new d({objectIds:[a],returnMetadata:!0}),r=[],s=t.queryAttachments(i).then((t=>t[a]||r)).catch((()=>r));this._getAttachmentsPromise=s,this.notifyChange(\"state\");const o=await s;return e.removeAll(),o.length&&e.addMany(o),this._getAttachmentsPromise=null,this.notifyChange(\"state\"),o}async addAttachment(t,e=this.graphic){const{_attachmentLayer:a,attachmentInfos:i,capabilities:r}=this;if(!e)throw new n(\"invalid-graphic\",\"addAttachment(): A valid graphic is required.\",{graphic:e});if(!t)throw new n(\"invalid-attachment\",\"addAttachment(): An attachment is required.\",{attachment:t});if(!r.operations?.add)throw new n(\"invalid-capabilities\",\"addAttachment(): add capabilities are required.\");if(!a||\"function\"!=typeof a.addAttachment)throw new n(\"invalid-layer\",\"addAttachment(): A valid layer is required.\");const s=a.addAttachment(e,t).then((t=>this._queryAttachment(t.objectId,e))),o=await s;return i.add(o),o}async deleteAttachment(t){const{_attachmentLayer:e,attachmentInfos:a,graphic:i,capabilities:r}=this;if(!t)throw new n(\"invalid-attachment-info\",\"deleteAttachment(): An attachmentInfo is required.\",{attachmentInfo:t});if(!r.operations?.delete)throw new n(\"invalid-capabilities\",\"deleteAttachment(): delete capabilities are required.\");if(!e||\"function\"!=typeof e.deleteAttachments)throw new n(\"invalid-layer\",\"deleteAttachment(): A valid layer is required.\");if(!i)throw new n(\"invalid-graphic\",\"deleteAttachment(): A graphic is required.\");const s=e.deleteAttachments(i,[t.id]).then((()=>t)),o=await s;return a.remove(o),o}async updateAttachment(t,e=this.activeAttachmentInfo){const{_attachmentLayer:a,attachmentInfos:i,graphic:r,capabilities:s}=this;if(!t)throw new n(\"invalid-attachment\",\"updateAttachment(): An attachment is required.\",{attachment:t});if(!e)throw new n(\"invalid-attachment-info\",\"updateAttachment(): An attachmentInfo is required.\",{attachmentInfo:e});if(!s.operations?.update)throw new n(\"invalid-capabilities\",\"updateAttachment(): Update capabilities are required.\");const o=i.findIndex((t=>t===e));if(!a||\"function\"!=typeof a.updateAttachment)throw new n(\"invalid-layer\",\"updateAttachment(): A valid layer is required.\");if(!r)throw new n(\"invalid-graphic\",\"updateAttachment(): A graphic is required.\");const c=a.updateAttachment(r,e.id,t).then((t=>this._queryAttachment(t.objectId))),h=await c;return i.splice(o,1,h),h}async commitFiles(){return await Promise.all(this.fileInfos.items.map((t=>this.addAttachment(t.form)))),this.fileInfos.removeAll(),this.getAttachments()}addFile(t,e){if(!t||!e)return null;const a={file:t,form:e};return this.fileInfos.add(a),a}updateFile(t,e,a=this.activeFileInfo){if(!t||!e||!a)return null;const i=this.fileInfos.findIndex((t=>a===t));return i>-1&&this.fileInfos.splice(i,1,{file:t,form:e}),this.fileInfos.items[i]}deleteFile(t){const e=this.fileInfos.find((e=>e.file===t));return e?(this.fileInfos.remove(e),e):null}async _queryAttachment(t,e){const{_attachmentLayer:a}=this;if(!t||!a?.queryAttachments)throw new n(\"invalid-attachment-id\",\"Could not query attachment.\");const i=this._getObjectId(e),r=new d({objectIds:[i],attachmentsWhere:`AttachmentId=${t}`,returnMetadata:!0});return a.queryAttachments(r).then((t=>t[i][0]))}_getObjectId(t=this.graphic){return t?.getObjectId()??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((()=>{})))}_setAttachmentLayer(){const{graphic:t}=this,e=p(t);this._attachmentLayer=e?\"scene\"===e.type&&null!=e.associatedLayer?e.associatedLayer:e:null}};t([o()],u.prototype,\"capabilities\",void 0),t([c(\"capabilities\")],u.prototype,\"castCapabilities\",null),t([o()],u.prototype,\"activeAttachmentInfo\",void 0),t([o()],u.prototype,\"activeFileInfo\",void 0),t([o({readOnly:!0,type:f})],u.prototype,\"attachmentInfos\",void 0),t([o()],u.prototype,\"fileInfos\",void 0),t([o({type:e})],u.prototype,\"graphic\",void 0),t([o()],u.prototype,\"mode\",void 0),t([o({readOnly:!0})],u.prototype,\"state\",null),t([o()],u.prototype,\"filesEnabled\",void 0),t([o({readOnly:!0})],u.prototype,\"supportsResizeAttachments\",null),u=t([h(\"esri.widgets.Attachments.AttachmentsViewModel\")],u);const y=u;export{y as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as i}from\"../../../assets.js\";function e(i){const e=i.toLowerCase();return\"image/bmp\"===e||\"image/emf\"===e||\"image/exif\"===e||\"image/gif\"===e||\"image/x-icon\"===e||\"image/jpeg\"===e||\"image/png\"===e||\"image/tiff\"===e||\"image/x-wmf\"===e}function p(e){const p=i(\"esri/themes/base/images/files/\");return e?\"text/plain\"===e?`${p}text-32.svg`:\"application/pdf\"===e?`${p}pdf-32.svg`:\"text/csv\"===e?`${p}csv-32.svg`:\"application/gpx+xml\"===e?`${p}gpx-32.svg`:\"application/x-dwf\"===e?`${p}cad-32.svg`:\"application/postscript\"===e||\"application/json\"===e||\"text/xml\"===e||\"model/vrml\"===e?`${p}code-32.svg`:\"application/x-zip-compressed\"===e||\"application/x-7z-compressed\"===e||\"application/x-gzip\"===e||\"application/x-tar\"===e||\"application/x-gtar\"===e||\"application/x-bzip2\"===e||\"application/gzip\"===e||\"application/x-compress\"===e||\"application/x-apple-diskimage\"===e||\"application/x-rar-compressed\"===e||\"application/zip\"===e?`${p}zip-32.svg`:e.includes(\"image/\")?`${p}image-32.svg`:e.includes(\"audio/\")?`${p}sound-32.svg`:e.includes(\"video/\")?`${p}video-32.svg`:e.includes(\"msexcel\")||e.includes(\"ms-excel\")||e.includes(\"spreadsheetml\")?`${p}excel-32.svg`:e.includes(\"msword\")||e.includes(\"ms-word\")||e.includes(\"wordprocessingml\")?`${p}word-32.svg`:e.includes(\"powerpoint\")||e.includes(\"presentationml\")?`${p}report-32.svg`:`${p}generic-32.svg`:`${p}generic-32.svg`}export{p as getIconPath,e as isSupportedImage};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Error.js\";import{on as s,watch as i,initial as a}from\"../core/reactiveUtils.js\";import{formatFileSize as n}from\"../core/unitFormatUtils.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{cast as l}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"./Widget.js\";import c from\"./Attachments/AttachmentsViewModel.js\";import{getIconPath as m,isSupportedImage as h}from\"./Attachments/support/attachmentUtils.js\";import{loadCalciteComponents as u}from\"./support/componentsUtils.js\";import{storeNode as p,discardNode as g,isRTL as b}from\"./support/widgetUtils.js\";import{messageBundle as f}from\"./support/decorators/messageBundle.js\";import{tsx as _}from\"./support/jsxFactory.js\";const v={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},y=\"esri-attachments\",w=\"esri-button\",A={base:y,loaderContainer:`${y}__loader-container`,loader:`${y}__loader`,fadeIn:`${y}--fade-in`,container:`${y}__container`,containerList:`${y}__container--list`,containerPreview:`${y}__container--preview`,actions:`${y}__actions`,deleteButton:`${y}__delete-button`,addAttachmentButton:`${y}__add-attachment-button`,errorMessage:`${y}__error-message`,items:`${y}__items`,item:`${y}__item`,itemButton:`${y}__item-button`,itemMask:`${y}__item-mask`,itemMaskIcon:`${y}__item-mask--icon`,itemImage:`${y}__image`,itemImageResizable:`${y}__image--resizable`,itemLabel:`${y}__label`,itemFilename:`${y}__filename`,itemChevronIcon:`${y}__item-chevron-icon`,itemLink:`${y}__item-link`,itemLinkOverlay:`${y}__item-link-overlay`,itemLinkOverlayIcon:`${y}__item-link-overlay-icon`,itemEditIcon:`${y}__item-edit-icon`,itemAddIcon:`${y}__item-add-icon`,itemAddButton:`${y}__item-add-button`,formNode:`${y}__form-node`,fileFieldset:`${y}__file-fieldset`,fileLabel:`${y}__file-label`,fileName:`${y}__file-name`,fileInput:`${y}__file-input`,metadata:`${y}__metadata`,metadataFieldset:`${y}__metadata-fieldset`,progressBar:`${y}__progress-bar`,esriWidget:\"esri-widget\",esriButton:w,buttonDisabled:`${w}--disabled`,esriButtonSecondary:`${w}--secondary`,esriButtonTertiary:`${w}--tertiary`,esriButtonThird:`${w}--third`,esriButtonSmall:`${w}--small`,esriButtonHalf:`${w}--half`,empty:\"esri-widget__content--empty\",iconExternalLink:\"esri-icon-link-external\",iconEdit:\"esri-icon-edit\",iconRight:\"esri-icon-right\",iconLeft:\"esri-icon-left\",iconPlus:\"esri-icon-plus\"},k=window.CSS;let F=class extends d{constructor(e,t){super(e,t),this.displayType=\"auto\",this.messages=null,this.messagesUnits=null,this.selectedFile=null,this.submitting=!1,this.viewModel=null,this.visibleElements={...v},this._supportsImageOrientation=k&&k.supports&&k.supports(\"image-orientation\",\"from-image\"),this._addAttachmentForm=null,this._updateAttachmentForm=null}initialize(){this.viewModel||(this.viewModel=new c),this.addHandles([s((()=>this.viewModel?.attachmentInfos),\"change\",(()=>this.scheduleRender())),s((()=>this.viewModel?.fileInfos),\"change\",(()=>this.scheduleRender())),i((()=>this.viewModel?.mode),(()=>this._modeChanged()),a)])}loadDependencies(){return u({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\")})}get capabilities(){return this.viewModel.capabilities}set capabilities(e){this.viewModel.capabilities=e}get effectiveDisplayType(){const{displayType:e}=this;return e&&\"auto\"!==e?e:this.viewModel.supportsResizeAttachments?\"preview\":\"list\"}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}castVisibleElements(e){return{...v,...e}}addAttachment(){const{_addAttachmentForm:e,viewModel:s}=this;return this._set(\"submitting\",!0),this._set(\"error\",null),s.addAttachment(e).then((e=>(this._set(\"submitting\",!1),this._set(\"error\",null),s.mode=\"view\",e))).catch((e=>{throw this._set(\"submitting\",!1),this._set(\"error\",new t(\"attachments:add-attachment\",this.messages.addErrorMessage,e)),e}))}deleteAttachment(e){const{viewModel:s}=this;return this._set(\"submitting\",!0),this._set(\"error\",null),s.deleteAttachment(e).then((e=>(this._set(\"submitting\",!1),this._set(\"error\",null),s.mode=\"view\",e))).catch((e=>{throw this._set(\"submitting\",!1),this._set(\"error\",new t(\"attachments:delete-attachment\",this.messages.deleteErrorMessage,e)),e}))}updateAttachment(){const{viewModel:e}=this,{_updateAttachmentForm:s}=this;return this._set(\"submitting\",!0),this._set(\"error\",null),e.updateAttachment(s).then((t=>(this._set(\"submitting\",!1),this._set(\"error\",null),e.mode=\"view\",t))).catch((e=>{throw this._set(\"submitting\",!1),this._set(\"error\",new t(\"attachments:update-attachment\",this.messages.updateErrorMessage,e)),e}))}addFile(){const e=this.viewModel.addFile(this.selectedFile,this._addAttachmentForm);return this.viewModel.mode=\"view\",e}updateFile(){const{viewModel:e}=this,t=e.updateFile(this.selectedFile,this._updateAttachmentForm,e.activeFileInfo);return e.mode=\"view\",t}deleteFile(e){const t=this.viewModel.deleteFile(e||this.viewModel.activeFileInfo?.file);return this.viewModel.mode=\"view\",t}render(){const{submitting:e,viewModel:t}=this,{state:s}=t;return _(\"div\",{class:this.classes(A.base,A.esriWidget)},e?this.renderProgressBar():null,\"loading\"===s?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())}renderErrorMessage(){const{error:e,visibleElements:t}=this;return e&&t.errorMessage?_(\"div\",{key:\"error-message\",class:A.errorMessage},e.message):null}renderAttachments(){const{activeFileInfo:e,mode:t,activeAttachmentInfo:s}=this.viewModel;return\"add\"===t?this.renderAddForm():\"edit\"===t?this.renderDetailsForm(s||e):this.renderAttachmentContainer()}renderLoading(){return _(\"div\",{class:A.loaderContainer,key:\"loader\"},_(\"div\",{class:A.loader}))}renderProgressBar(){return this.visibleElements.progressBar?_(\"div\",{class:A.progressBar,key:\"progress-bar\"}):null}renderAddForm(){const{submitting:e,selectedFile:t}=this,s=e||!t,i=this.visibleElements.cancelAddButton?_(\"button\",{type:\"button\",bind:this,disabled:e,onclick:this._cancelForm,class:this.classes(A.esriButton,A.esriButtonTertiary,A.esriButtonSmall,A.esriButtonHalf,e&&A.buttonDisabled)},this.messages.cancel):null,a=this.visibleElements.addSubmitButton?_(\"button\",{type:\"submit\",disabled:s,class:this.classes(A.esriButton,A.esriButtonSecondary,A.esriButtonSmall,A.esriButtonHalf,{[A.buttonDisabled]:s})},this.messages.add):null,n=t?_(\"span\",{key:\"file-name\",class:A.fileName},t.name):null,r=_(\"form\",{bind:this,afterCreate:p,afterRemoved:g,\"data-node-ref\":\"_addAttachmentForm\",onsubmit:this._submitAddAttachment},_(\"fieldset\",{class:A.fileFieldset},n,_(\"label\",{class:this.classes(A.fileLabel,A.esriButton,A.esriButtonSecondary)},t?this.messages.changeFile:this.messages.selectFile,_(\"input\",{class:A.fileInput,type:\"file\",name:\"attachment\",bind:this,onchange:this._handleFileInputChange}))),a,i);return _(\"div\",{key:\"add-form-container\",class:A.formNode},r)}renderDetailsForm(e){const{visibleElements:t,viewModel:s,selectedFile:i,submitting:a}=this,{capabilities:r}=s,l=a||!i;let o,d,c,m;i?(o=i.type,d=i.name,c=i.size):e&&\"file\"in e?(o=e.file.type,d=e.file.name,c=e.file.size):e&&\"contentType\"in e&&(o=e.contentType,d=e.name,c=e.size,m=e.url);const h=r.editing&&r.operations?.delete&&t.deleteButton?_(\"button\",{key:\"delete-button\",type:\"button\",disabled:a,bind:this,onclick:t=>this._submitDeleteAttachment(t,e),class:this.classes(A.esriButton,A.esriButtonSmall,A.esriButtonTertiary,A.deleteButton,{[A.buttonDisabled]:a})},this.messages.delete):void 0,u=r.editing&&r.operations?.update&&t.updateButton?_(\"button\",{disabled:l,key:\"update-button\",type:\"submit\",class:this.classes(A.esriButton,A.esriButtonSmall,A.esriButtonThird,{[A.buttonDisabled]:l})},this.messages.update):void 0,b=this.visibleElements.cancelUpdateButton?_(\"button\",{disabled:a,key:\"cancel-button\",type:\"button\",bind:this,onclick:this._cancelForm,class:this.classes(A.esriButton,A.esriButtonSmall,A.esriButtonTertiary,A.esriButtonThird,{[A.buttonDisabled]:a})},this.messages.cancel):void 0,f=r.editing&&r.operations?.update?_(\"fieldset\",{key:\"file\",class:A.fileFieldset},_(\"span\",{key:\"file-name\",class:A.fileName},d),_(\"label\",{class:this.classes(A.fileLabel,A.esriButton,A.esriButtonSecondary)},this.messages.changeFile,_(\"input\",{class:A.fileInput,type:\"file\",name:\"attachment\",bind:this,onchange:this._handleFileInputChange}))):void 0,v=_(\"fieldset\",{key:\"size\",class:A.metadataFieldset},_(\"label\",null,n(this.messagesUnits,c??0))),y=_(\"fieldset\",{key:\"content-type\",class:A.metadataFieldset},_(\"label\",null,o)),w=null!=m?_(\"a\",{class:A.itemLink,href:m,rel:\"noreferrer\",target:\"_blank\"},this.renderImageMask(e,400),_(\"div\",{class:A.itemLinkOverlay},_(\"span\",{class:A.itemLinkOverlayIcon},_(\"calcite-icon\",{icon:\"launch\"})))):this.renderImageMask(e,400),k=_(\"form\",{bind:this,afterCreate:p,afterRemoved:g,\"data-node-ref\":\"_updateAttachmentForm\",onsubmit:t=>this._submitUpdateAttachment(t,e)},_(\"div\",{class:A.metadata},v,y),f,_(\"div\",{class:A.actions},h,b,u));return _(\"div\",{key:\"edit-form-container\",class:A.formNode},w,k)}renderImageMask(e,t){return e?\"file\"in e?this.renderGenericImageMask(e.file.name,e.file.type):this.renderImageMaskForAttachment(e,t):null}renderGenericImageMask(e,t){const{supportsResizeAttachments:s}=this.viewModel,i=m(t),a={[A.itemImageResizable]:s};return _(\"div\",{key:i,class:this.classes(A.itemMaskIcon,A.itemMask)},_(\"img\",{title:e,alt:e,src:i,class:this.classes(a,A.itemImage)}))}renderImageMaskForAttachment(e,t){const{supportsResizeAttachments:s}=this.viewModel;if(!e)return null;const{contentType:i,name:a,url:n}=e;if(!s||!h(i))return this.renderGenericImageMask(a,i);const r=this._getCSSTransform(e),l=r?{transform:r,\"image-orientation\":\"none\"}:{},o=`${n}${n?.includes(\"?\")?\"&\":\"?\"}w=${t}`,d={[A.itemImageResizable]:s};return _(\"div\",{key:o,class:this.classes(A.itemMask)},_(\"img\",{styles:l,alt:a,title:a,src:o,class:this.classes(d,A.itemImage)}))}renderFile(e){const{file:t}=e;return _(\"li\",{class:A.item,key:t},_(\"button\",{key:\"details-button\",bind:this,class:A.itemButton,title:this.messages.attachmentDetails,\"aria-label\":this.messages.attachmentDetails,onclick:()=>this._startEditFile(e),type:\"button\"},this.renderImageMask(e),_(\"label\",{class:A.itemLabel},_(\"span\",{class:A.itemFilename},t.name||this.messages.noTitle),_(\"span\",{\"aria-hidden\":\"true\",class:this.classes(A.itemChevronIcon,b(this.container)?A.iconLeft:A.iconRight)}))))}renderAttachmentInfo({attachmentInfo:e,displayType:t}){const{viewModel:s,effectiveDisplayType:i}=this,{capabilities:a,supportsResizeAttachments:n}=s,{contentType:r,name:l,url:o}=e,d=this.renderImageMask(e,\"list\"===t?48:400),c=a.editing?_(\"span\",{\"aria-hidden\":\"true\",class:this.classes(A.itemChevronIcon,b(this.container)?A.iconLeft:A.iconRight)}):null,m=[d,\"preview\"===i&&n&&h(r)?null:_(\"label\",{class:A.itemLabel},_(\"span\",{class:A.itemFilename},l||this.messages.noTitle),c)],u=a.editing?_(\"button\",{key:\"details-button\",bind:this,class:A.itemButton,title:this.messages.attachmentDetails,\"aria-label\":this.messages.attachmentDetails,\"data-attachment-info-id\":e.id,onclick:()=>this._startEditAttachment(e),type:\"button\"},m):_(\"a\",{key:\"details-link\",class:A.itemButton,href:o??void 0,target:\"_blank\"},m);return _(\"li\",{class:A.item,key:e},u)}renderAttachmentContainer(){const{effectiveDisplayType:e,viewModel:t,visibleElements:s}=this,{attachmentInfos:i,capabilities:a,fileInfos:n}=t,r=!!i?.length,l=!!n?.length,o={[A.containerList]:\"preview\"!==e,[A.containerPreview]:\"preview\"===e},d=a.editing&&a.operations?.add&&s.addButton?_(\"button\",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes(A.esriButton,A.esriButtonTertiary,A.addAttachmentButton),type:\"button\"},_(\"span\",{\"aria-hidden\":\"true\",class:this.classes(A.itemAddIcon,A.iconPlus)}),this.messages.add):void 0,c=r?_(\"ul\",{key:\"attachments-list\",class:A.items},i.toArray().map((t=>this.renderAttachmentInfo({attachmentInfo:t,displayType:e})))):void 0,m=l?_(\"ul\",{key:\"file-list\",class:A.items},n.toArray().map((e=>this.renderFile(e)))):void 0,h=l||r?void 0:_(\"div\",{class:A.empty},this.messages.noAttachments);return _(\"div\",{key:\"attachments-container\",class:this.classes(A.container,o)},c,m,h,d)}_modeChanged(){this._set(\"error\",null),this._set(\"selectedFile\",null)}_handleFileInputChange(e){const t=e.target,s=t&&t.files&&t.files.item(0);this._set(\"selectedFile\",s)}_submitDeleteAttachment(e,t){e.preventDefault(),t&&(\"file\"in t?this.deleteFile(t.file):t&&this.deleteAttachment(t))}_submitAddAttachment(e){e.preventDefault(),this.viewModel.filesEnabled?this.addFile():this.addAttachment()}_submitUpdateAttachment(e,t){e.preventDefault(),t&&\"file\"in t?this.updateFile():this.updateAttachment()}_startEditAttachment(e){const{viewModel:t}=this;t.activeFileInfo=null,t.activeAttachmentInfo=e,t.mode=\"edit\"}_startEditFile(e){const{viewModel:t}=this;t.activeAttachmentInfo=null,t.activeFileInfo=e,t.mode=\"edit\"}_startAddAttachment(){this.viewModel.mode=\"add\"}_cancelForm(e){e.preventDefault(),this.viewModel.mode=\"view\"}_getCSSTransform(e){const{orientationInfo:t}=e;return!this._supportsImageOrientation&&t?[t.rotation?`rotate(${t.rotation}deg)`:\"\",t.mirrored?\"scaleX(-1)\":\"\"].join(\" \"):\"\"}};e([r()],F.prototype,\"capabilities\",null),e([r()],F.prototype,\"displayType\",void 0),e([r({readOnly:!0})],F.prototype,\"effectiveDisplayType\",null),e([r()],F.prototype,\"graphic\",null),e([r()],F.prototype,\"label\",null),e([r(),f(\"esri/widgets/Attachments/t9n/Attachments\")],F.prototype,\"messages\",void 0),e([r(),f(\"esri/core/t9n/Units\")],F.prototype,\"messagesUnits\",void 0),e([r({readOnly:!0})],F.prototype,\"selectedFile\",void 0),e([r({readOnly:!0})],F.prototype,\"submitting\",void 0),e([r({readOnly:!0})],F.prototype,\"error\",void 0),e([r({type:c})],F.prototype,\"viewModel\",void 0),e([r()],F.prototype,\"visibleElements\",void 0),e([l(\"visibleElements\")],F.prototype,\"castVisibleElements\",null),F=e([o(\"esri.widgets.Attachments\")],F);const B=F;export{B as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../Attachments/AttachmentsViewModel.js\";let o=class extends s{constructor(t){super(t),this.description=null,this.title=null}};t([e()],o.prototype,\"description\",void 0),t([e()],o.prototype,\"title\",void 0),o=t([r(\"esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel\")],o);const c=o;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{classes as r}from\"./widgetUtils.js\";import{tsx as e}from\"./jsxFactory.js\";const i={heading:\"esri-widget__heading\"};function n({level:t,class:n,...s},a){const c=o(t);return e(`h${c}`,{...s,class:r(i.heading,n),role:\"heading\",\"aria-level\":String(c)},a)}function o(r){return t(Math.ceil(r),1,6)}function s(t,r=1){return o(t+r)}export{i as CSS,n as Heading,s as incrementHeadingLevel};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../Widget.js\";import{Heading as o}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{tsx as i}from\"../../support/jsxFactory.js\";const p=\"esri-feature-element-info\",n={base:p,title:`${p}__title`,description:`${p}__description`};let c=class extends s{constructor(e,t){super(e,t),this.description=null,this.headingLevel=2,this.title=null}render(){return i(\"div\",{class:n.base},this.renderTitle(),this.renderDescription())}renderTitle(){const{title:e}=this;return e?i(o,{level:this.headingLevel,class:n.title},e):null}renderDescription(){const{description:e}=this;return e?i(\"div\",{key:\"description\",class:n.description},e):null}};e([t()],c.prototype,\"description\",void 0),e([t()],c.prototype,\"headingLevel\",void 0),e([t()],c.prototype,\"title\",void 0),c=e([r(\"esri.widgets.Feature.support.FeatureElementInfo\")],c);const l=c;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{watch as t,initial as i}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Attachments.js\";import a from\"../Widget.js\";import n from\"./FeatureAttachments/FeatureAttachmentsViewModel.js\";import p from\"./support/FeatureElementInfo.js\";import\"../support/widgetUtils.js\";import{tsx as l}from\"../support/jsxFactory.js\";const d={base:\"esri-feature-attachments\"};let c=class extends a{constructor(e,t){super(e,t),this._featureElementInfo=null,this.attachmentsWidget=new o,this.headingLevel=2,this.viewModel=new n}initialize(){this._featureElementInfo=new p,this.addHandles([t((()=>[this.viewModel?.description,this.viewModel?.title,this.headingLevel]),(()=>this._setupFeatureElementInfo()),i),t((()=>this.viewModel),(e=>this.attachmentsWidget.viewModel=e),i)])}destroy(){this.attachmentsWidget.viewModel=null,this.attachmentsWidget.destroy(),this._featureElementInfo?.destroy()}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get displayType(){return this.attachmentsWidget.displayType}set displayType(e){this.attachmentsWidget.displayType=e}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){const{attachmentsWidget:e}=this;return l(\"div\",{class:d.base},this._featureElementInfo?.render(),e?.render())}_setupFeatureElementInfo(){const{description:e,title:t,headingLevel:i}=this;this._featureElementInfo?.set({description:e,title:t,headingLevel:i})}};e([s({readOnly:!0})],c.prototype,\"attachmentsWidget\",void 0),e([s()],c.prototype,\"description\",null),e([s()],c.prototype,\"displayType\",null),e([s()],c.prototype,\"graphic\",null),e([s()],c.prototype,\"headingLevel\",void 0),e([s()],c.prototype,\"title\",null),e([s({type:n})],c.prototype,\"viewModel\",void 0),c=e([r(\"esri.widgets.Feature.FeatureAttachments\")],c);const h=c;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Graphic.js\";import e from\"../../../core/Accessor.js\";import{HandleOwnerMixin as o}from\"../../../core/HandleOwner.js\";import{watch as s,initial as i}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{graphicCallback as n}from\"../support/featureUtils.js\";let p=class extends(o(e)){constructor(t){super(t),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.handles.add(s((()=>this.creator),(t=>{this._destroyContent(),this._createContent(t)}),i))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?\"loading\":\"ready\"}_destroyContent(){const{created:t,graphic:r,destroyer:e}=this;t&&r&&(n(e,{graphic:r}).catch((()=>null)),this._set(\"created\",null))}async _createContent(t){const r=this.graphic;if(!r||!t)return;const e=n(t,{graphic:r}).catch((()=>null));this._loadingPromise=e,this.notifyChange(\"state\");const o=await e;e===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange(\"state\"),this._set(\"created\",o))}};t([a({readOnly:!0})],p.prototype,\"created\",void 0),t([a()],p.prototype,\"creator\",void 0),t([a()],p.prototype,\"destroyer\",void 0),t([a({type:r})],p.prototype,\"graphic\",void 0),t([a({readOnly:!0})],p.prototype,\"state\",null),p=t([c(\"esri.widgets.Feature.FeatureContent.FeatureContentViewModel\")],p);const l=p;export{l as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import s from\"./FeatureContent/FeatureContentViewModel.js\";import{shouldOpenInNewTab as a}from\"./support/featureUtils.js\";import{isWidget as i}from\"../support/widget.js\";import{tsx as d}from\"../support/jsxFactory.js\";const n=\"esri-feature-content\",c={base:n,loaderContainer:`${n}__loader-container`,loader:`${n}__loader`};let l=class extends o{constructor(e,r){super(e,r),this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll(\"a\")).forEach((e=>{a(e.href)&&!e.hasAttribute(\"target\")&&e.setAttribute(\"target\",\"_blank\")}))}}get creator(){return this.viewModel?.creator}set creator(e){this.viewModel&&(this.viewModel.creator=e)}get graphic(){return this.viewModel?.graphic}set graphic(e){this.viewModel&&(this.viewModel.graphic=e)}renderLoading(){return d(\"div\",{class:c.loaderContainer,key:\"loader\"},d(\"div\",{class:c.loader}))}renderCreated(){const e=this.viewModel?.created;return e?e instanceof HTMLElement?d(\"div\",{key:e,bind:e,afterCreate:this._attachToNode}):i(e)?d(\"div\",{key:e},!e.destroyed&&e.render()):d(\"div\",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null}render(){const e=this.viewModel?.state;return d(\"div\",{class:c.base},\"loading\"===e?this.renderLoading():this.renderCreated())}_attachToNode(e){const r=this;e.appendChild(r)}};e([r()],l.prototype,\"creator\",null),e([r()],l.prototype,\"graphic\",null),e([r({type:s})],l.prototype,\"viewModel\",void 0),l=e([t(\"esri.widgets.Feature.FeatureContent\")],l);const p=l;export{p as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"../../../popup/ExpressionInfo.js\";import i from\"../../../popup/FieldInfo.js\";import{getFieldInfoLabel as p}from\"../support/featureUtils.js\";let l=class extends e{constructor(o){super(o),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:o,fieldInfos:e}=this,s=[];return e?.forEach((e=>{if(!(!e.hasOwnProperty(\"visible\")||e.visible))return;const t=e.clone();t.label=p(t,o),s.push(t)})),s}};o([s()],l.prototype,\"attributes\",void 0),o([s({type:[r]})],l.prototype,\"expressionInfos\",void 0),o([s()],l.prototype,\"description\",void 0),o([s({type:[i]})],l.prototype,\"fieldInfos\",void 0),o([s({readOnly:!0})],l.prototype,\"formattedFieldInfos\",null),o([s()],l.prototype,\"title\",void 0),l=o([t(\"esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel\")],l);const n=l;export{n as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{replace as e}from\"../../core/string.js\";const s=[{pattern:/^\\s*(https?:\\/\\/([^\\s]+))\\s*$/i,target:\"_blank\",label:\"{messages.view}\"},{pattern:/^\\s*(tel:([^\\s]+))\\s*$/i,label:\"{hierPart}\"},{pattern:/^\\s*(mailto:([^\\s]+))\\s*$/i,label:\"{hierPart}\"},{pattern:/^\\s*(arcgis-appstudio-player:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"App Studio Player\"},{pattern:/^\\s*(arcgis-collector:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Collector\"},{pattern:/^\\s*(arcgis-explorer:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Explorer\"},{pattern:/^\\s*(arcgis-navigator:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Navigator\"},{pattern:/^\\s*(arcgis-survey123:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Survey123\"},{pattern:/^\\s*(arcgis-trek2there:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Trek2There\"},{pattern:/^\\s*(arcgis-workforce:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Workforce\"},{pattern:/^\\s*(iform:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"iForm\"},{pattern:/^\\s*(flow:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"FlowFinity\"},{pattern:/^\\s*(lfmobile:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Laserfische\"},{pattern:/^\\s*(mspbi:\\/\\/([^\\s]+))\\s*$/i,label:\"{messages.openInApp}\",appName:\"Microsoft Power Bi\"}];function a(e){let a=null;return s.some((s=>(s.pattern.test(e)&&(a=s),!!a))),a}function p(s,p){if(\"string\"!=typeof p||!p)return p;const r=a(p);if(!r)return p;const t=p.match(r.pattern),n=t&&t[2],l=e(e(r.label,{messages:s,hierPart:n}),{appName:r.appName}),i=r.target?` target=\"${r.target}\"`:\"\",o=\"_blank\"===r.target?' rel=\"noreferrer\"':\"\";return p.replace(r.pattern,`<a${i} href=\"$1\"${o}>${l}</a>`)}export{p as autoLink};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{watch as t,initial as s}from\"../../core/reactiveUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../Widget.js\";import l from\"./FeatureFields/FeatureFieldsViewModel.js\";import n from\"./support/FeatureElementInfo.js\";import{autoLink as d}from\"../support/uriUtils.js\";import\"../support/widgetUtils.js\";import{messageBundle as a}from\"../support/decorators/messageBundle.js\";import{tsx as p}from\"../support/jsxFactory.js\";const f=\"esri-feature-fields\",u={base:f,fieldHeader:`${f}__field-header`,fieldData:`${f}__field-data`,fieldDataDate:`${f}__field-data--date`,esriTable:\"esri-widget__table\"};let m=class extends o{constructor(e,t){super(e,t),this._featureElementInfo=null,this.viewModel=new l,this.messages=null,this.messagesURIUtils=null}initialize(){this._featureElementInfo=new n,this.addHandles(t((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),s))}destroy(){this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get expressionInfos(){return this.viewModel.expressionInfos}set expressionInfos(e){this.viewModel.expressionInfos=e}get fieldInfos(){return this.viewModel.fieldInfos}set fieldInfos(e){this.viewModel.fieldInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}renderFieldInfo(e,t){const{attributes:s}=this.viewModel,i=e.fieldName,r=e.label||i,o=s?null==s[i]?\"\":s[i]:\"\",l=!(!e.format||!e.format.dateFormat),n=\"number\"==typeof o&&!l?this._forceLTR(o):d(this.messagesURIUtils,o),a={[u.fieldDataDate]:l};return p(\"tr\",{key:`fields-element-info-row-${i}-${t}`},p(\"th\",{key:`fields-element-info-row-header-${i}-${t}`,class:u.fieldHeader,innerHTML:r}),p(\"td\",{key:`fields-element-info-row-data-${i}-${t}`,class:this.classes(u.fieldData,a),innerHTML:n}))}renderFields(){const{formattedFieldInfos:e}=this.viewModel;return e?.length?p(\"table\",{class:u.esriTable,summary:this.messages.fieldsSummary},p(\"tbody\",null,e.map(((e,t)=>this.renderFieldInfo(e,t))))):null}render(){return p(\"div\",{class:u.base},this._featureElementInfo?.render(),this.renderFields())}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo?.set({description:e,title:t})}_forceLTR(e){return`&lrm;${e}`}};e([i()],m.prototype,\"attributes\",null),e([i()],m.prototype,\"description\",null),e([i()],m.prototype,\"expressionInfos\",null),e([i()],m.prototype,\"fieldInfos\",null),e([i()],m.prototype,\"title\",null),e([i({type:l,nonNullable:!0})],m.prototype,\"viewModel\",void 0),e([i(),a(\"esri/widgets/Feature/t9n/Feature\")],m.prototype,\"messages\",void 0),e([i(),a(\"esri/widgets/support/t9n/uriUtils\")],m.prototype,\"messagesURIUtils\",void 0),m=e([r(\"esri.widgets.Feature.FeatureFields\")],m);const c=m;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=()=>window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;export{e as prefersReducedMotion};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().includes(\"e\")){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../symbols.js\";import{formatDate as A,convertDateFormatToIntlOptions as l}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";import i from\"../../../symbols/SimpleLineSymbol.js\";const a=\"<\",o=\">\",r=l(\"short-date\");function n(l,i,n,s){let e=\"\";0===i?e=`${a} `:i===n&&(e=`${o} `);let u=null;return u=s?A(l,r):t(l),e+u}const s=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];async function e(A){if(!(\"visualVariables\"in A)||!A.visualVariables)return null;const l=A.visualVariables.find((A=>\"color\"===A.type));if(!l)return null;let t=null,i=null;if(l.stops){if(1===l.stops.length)return l.stops[0].color;t=l.stops[0].value,i=l.stops[l.stops.length-1].value}const a=null!=t&&null!=i?t+(i-t)/2:0,{getColor:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(l,a)??null}async function u(A,l){const t=A.trailCap,a=A.trailWidth||1,o=l||await e(A)||A.color;return new i({cap:t,color:o,width:a})}function p(A){return null!=A&&\"object\"==typeof A&&\"min\"in A&&\"max\"in A}export{s as RGB_IMG_SOURCE,o as SPECIAL_CHARS_GREATER_THAN,a as SPECIAL_CHARS_LESS_THAN,n as createStopLabel,e as getMedianColor,u as getSymbolForFlowRenderer,p as isRasterBandStatistics};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.includes(t)?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o??!1);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c?.[n]??\"\"}))))).reverse()}async function t(e,n,r){const t=new l(r??o),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label??\"\")));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s?.[n]??\"\"}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach(((r,t)=>{0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){if(!r.colorStops)return[];const e=[...r.colorStops].filter((o=>o.color?.a>0));let t=e.length-1;if(e&&e[0]){const r=e[t];r&&1!==r.ratio&&(e.push(new o({ratio:1,color:r.color})),t++)}return e.map(((o,e)=>{let l=\"\";return 0===e?l=r.legendOptions?.minLabel||\"low\":e===t&&(l=r.legendOptions?.maxLabel||\"high\"),{color:o.color,label:l,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{unique as e,isSome as l}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{getOrCreateMapValue as i}from\"../../core/MapUtils.js\";import{convertDateFormatToIntlOptions as o,formatDate as a}from\"../../intl/date.js\";import{format as n,round as s}from\"./numberUtils.js\";import r from\"../visualVariables/support/ColorStop.js\";import{getColorFromSymbol as u}from\"../../symbols/support/utils.js\";import{getRampStops as f}from\"../../widgets/Legend/support/colorRampUtils.js\";import{getHeatmapRampStops as d}from\"../../widgets/Legend/support/heatmapRampUtils.js\";const p=t.getLogger(\"esri.renderers.support.utils\"),m={lte:\"<=\",gte:\">=\",lt:\"<\",gt:\">\",pct:\"%\",ld:\"â\"},c={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},y={millisecond:\"long-month-day-year-long-time\",second:\"long-month-day-year-long-time\",minute:\"long-month-day-year-short-time\",hour:\"long-month-day-year-short-time\",day:\"long-month-day-year\",month:\"long-month-day-year\",year:\"year\"},g=o(\"short-date\");async function h(e,l,t){i(e,l,(()=>[])).push(...t)}async function b(l){const t=new Map;if(!l)return t;if(\"visualVariables\"in l&&l.visualVariables){const e=l.visualVariables.filter((e=>\"color\"===e.type));for(const l of e){const e=(await f(l)??[]).map((e=>e.color));await h(t,l.field||l.valueExpression,e)}}if(\"heatmap\"===l.type){const e=d(l).map((e=>e.color));await h(t,l.field||l.valueExpression,e)}else if(\"pie-chart\"===l.type){for(const e of l.attributes)await h(t,e.field||e.valueExpression,[e.color]);await h(t,\"default\",[l?.othersCategory?.color,u(l.backgroundFillSymbol,null)])}else if(\"dot-density\"===l.type){for(const e of l.attributes)await h(t,e.field||e.valueExpression,[e.color]);await h(t,\"default\",[l.backgroundColor])}else if(\"unique-value\"===l.type)if(\"predominance\"===l.authoringInfo?.type)for(const e of l.uniqueValueInfos??[])await h(t,e.value.toString(),[u(e.symbol,null)]);else{const e=(l.uniqueValueInfos??[]).map((e=>u(e.symbol,null))),{field:i,field2:o,field3:a,valueExpression:n}=l;(i||n)&&await h(t,i||n,e),o&&await h(t,o,e),a&&await h(t,a,e)}else if(\"class-breaks\"===l.type){const e=l.classBreakInfos.map((e=>u(e.symbol,null))),{field:i,valueExpression:o}=l;await h(t,i??o,e)}else\"simple\"===l.type&&await h(t,\"default\",[u(l.symbol,null)]);return\"defaultSymbol\"in l&&l.defaultSymbol&&await h(t,\"default\",[u(l.defaultSymbol,null)]),t.forEach(((l,i)=>{const o=e(l.filter(Boolean),((e,l)=>JSON.stringify(e)===JSON.stringify(l)));t.set(i,o)})),t}async function v(e,l,t){const o=i(e,l,(()=>new Map));for(const i of t)o.set(i.value,i.color)}async function w(e){const l=new Map;if(!e)return l;if(\"unique-value\"!==e.type||e.authoringInfo?.type)if(\"class-breaks\"===e.type){const t=e.classBreakInfos.map((e=>({value:e.minValue,color:u(e.symbol,null)}))).reverse(),{field:i,valueExpression:o}=e;await v(l,i??o,t)}else\"simple\"===e.type&&await v(l,\"default\",[{value:\"default\",color:u(e.symbol,null)}]);else{const t=(e.uniqueValueInfos??[]).map((e=>({value:e.value,color:u(e.symbol,null)}))),{field:i,field2:o,field3:a,valueExpression:n,fieldDelimiter:s}=e,r=[i,o,a].filter(Boolean).join(s||\"\");(r||n)&&await v(l,r||n,t)}if(\"defaultSymbol\"in e&&e.defaultSymbol&&await v(l,\"default\",[{value:\"default\",color:u(e.defaultSymbol,null)}]),\"visualVariables\"in e&&e.visualVariables){const t=e.visualVariables.filter((e=>\"color\"===e.type));for(const e of t){const t=await f(e)??[];await v(l,e.field||e.valueExpression,t)}}return l}function V(e,l,t){let i=\"\";return 0===l?i=m.lt+\" \":l===t&&(i=m.gt+\" \"),i+e}function x(e){const{values:l,colors:t,labelIndexes:i,isDate:o,dateFormatOptions:s}=e;return l.map(((e,u)=>{let f=null;if(!i||i.includes(u)){let t;t=o?a(e,s):n(e),t&&(f=V(t,u,l.length-1))}return new r({value:e,color:t[u],label:f})}))}function E(e){let l=e.minValue,t=e.maxValue;const i=e.isFirstBreak?\"\":m.gt+\" \",o=\"percent-of-total\"===e.normalizationType?m.pct:\"\";return l=null==l?\"\":n(l),t=null==t?\"\":n(t),i+l+o+\" \"+m.ld+\" \"+t+o}function F(e){const l=e.classBreakInfos,t=e.normalizationType;let i=[];if(l&&l.length)if(\"standard-deviation\"!==e.classificationMethod)if(e.round){i.push(l[0].minValue);for(const e of l)i.push(e.maxValue);i=s(i),l.forEach(((e,l)=>{e.label=E({minValue:0===l?i[0]:i[l],maxValue:i[l+1],isFirstBreak:0===l,normalizationType:t})}))}else l.forEach(((e,l)=>{e.label=E({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===l,normalizationType:t})}));else p.warn(\"setLabelsForClassBreaks\",\"cannot set labels for class breaks generated using 'standard-deviation' method.\")}function z(e){const l=e.map((e=>new Date(e))),t=l.length;let i=1/0,o=null;for(let a=0;a<t-1;a++){const e=l[a];let n=1/0,s=null;for(let i=a+1;i<t;i++){const t=l[i],o=(e.getFullYear()!==t.getFullYear()?\"year\":e.getMonth()!==t.getMonth()&&\"month\")||e.getDate()!==t.getDate()&&\"day\"||e.getHours()!==t.getHours()&&\"hour\"||e.getMinutes()!==t.getMinutes()&&\"minute\"||e.getSeconds()!==t.getSeconds()&&\"second\"||\"millisecond\",a=c[o];a<n&&(n=a,s=o)}n<i&&(i=n,o=s)}return o}function I(e){const{value:l,domain:t,fieldInfo:i,dateFormatInterval:s}=e;let r=String(l);const u=t&&\"codedValues\"in t&&t.codedValues?t.getName(l):null;return u?r=u:\"number\"==typeof l&&(r=i&&\"date\"===i.type?a(l,s&&o(y[s])):n(l)),r}function S(e,l){return\"normalizationField\"in e&&e.normalizationField?j(e.field,e.normalizationField):\"field\"in e&&e.field?k(e.field):\"valueExpression\"in e&&e.valueExpression?B(e.valueExpression,e.valueExpressionTitle,l):null}function k(e){return{type:\"field\",field:e}}function j(e,l){return{type:\"normalized-field\",field:e,normalizationField:l}}function B(e,l,t){return{type:\"expression\",expression:e,title:l,returnType:t}}function M(t,i){const o=[];if(\"class-breaks\"===t.type||\"heatmap\"===t.type)o.push(S(t,\"number\"));else if(\"unique-value\"===t.type){const e=t.authoringInfo;if(e&&\"relationship\"===e.type){if(e.field1&&e.field2){const l=e.field1.field,t=e.field2.field,i=e.field1.normalizationField,a=e.field2.normalizationField;o.push(S({field:l,normalizationField:i})),o.push(S({field:t,normalizationField:a}))}}else{const e=t.uniqueValueInfos?.[0];let l=null;if(e&&e.value){const e=typeof t.uniqueValueInfos[0].value;\"string\"!==e&&\"number\"!==e||(l=e)}o.push(S(t,l)),[t.field2,t.field3].forEach((e=>e&&o.push(k(e))))}}else\"attributes\"in t&&t.attributes?.forEach((e=>o.push(S(e,\"number\"))));const a=i?i(t):\"visualVariables\"in t?t.visualVariables:null;return a&&a.forEach((e=>o.push(S(e,\"number\")))),e(o.filter(l),((e,l)=>\"field\"===e.type&&\"field\"===l.type?e.field===l.field:\"normalized-field\"===e.type&&\"normalized-field\"===l.type?e.field===l.field&&e.normalizationField===l.normalizationField:\"expression\"===e.type&&\"expression\"===l.type&&e.expression===l.expression))}export{z as calculateDateFormatInterval,E as createClassBreakLabel,x as createColorStops,I as createUniqueValueLabel,S as getAttribute,M as getAttributes,w as getColorsForRendererValues,b as getColorsFromRenderer,F as setLabelsForClassBreaks,g as timelineDateFormatOptions};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import t from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{whenOrAbort as s,eachAlways as o}from\"../../../core/promiseUtils.js\";import{isNumericField as i}from\"../../../layers/support/fieldUtils.js\";import\"../../../core/has.js\";import\"../../../layers/support/source/DataLayerSource.js\";import{executeQueryJSON as n}from\"../../../rest/query/executeQueryJSON.js\";import\"../../../config.js\";import\"../../../kernel.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/urlUtils.js\";import\"../../../core/unitUtils.js\";import\"../../../geometry/support/spatialReferenceUtils.js\";import\"../../../layers/graphics/featureConversionUtils.js\";import\"../../../geometry/Extent.js\";import\"../../../geometry/Geometry.js\";import\"../../../geometry/Multipoint.js\";import\"../../../geometry/Point.js\";import\"../../../geometry/Polygon.js\";import\"../../../geometry/Polyline.js\";import\"../../../geometry/support/normalizeUtils.js\";import\"../../../core/pbf.js\";import\"../../../rest/support/FeatureSet.js\";import a from\"../../../rest/support/Query.js\";import\"../../../rest/query/support/AttachmentInfo.js\";import\"../../../rest/support/AttachmentQuery.js\";import\"../../../geometry.js\";import l from\"../../../rest/support/RelationshipQuery.js\";import\"../../../rest/support/TopFeaturesQuery.js\";import u from\"../../../rest/support/StatisticDefinition.js\";import{isRelatedField as p}from\"./featureUtils.js\";const c=\"esri.widgets.Feature.support.relatedFeatureUtils\",f=r.getLogger(c),d=new Map;function m(e){if(!p(e))return null;const[t,r]=e.split(\"/\").slice(1);return{layerId:t,fieldName:r}}function y(e,t){if(!t.relationships)return null;let r=null;const{relationships:s}=t;return s.some((t=>t.id===parseInt(e,10)&&(r=t,!0))),r}function j({originRelationship:e,relationships:t,layerId:r}){let s=null;return t&&t.some((t=>(`${t.relatedTableId}`===r&&t.id===e?.id&&(s=t),!!s))),s}function h(e,t){const r=t.toLowerCase();for(const s in e)if(s.toLowerCase()===r)return e[s];return null}function g(e,t){const r=y(e,t);if(!r)return;return{url:`${t.url}/${r.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:r,relatedFields:[],outStatistics:[]}}function F(e,t){if(!t)return;if(!e)return;const{features:r,statsFeatures:s}=e,o=r&&r.value;t.relatedFeatures=o?o.features:[];const i=s&&s.value;t.relatedStatsFeatures=i?i.features:[]}function I(e,t,r,s){const o=new l;return o.outFields=[\"*\"],o.relationshipId=\"number\"==typeof t.id?t.id:parseInt(t.id,10),o.objectIds=[e.attributes[r.objectIdField]],r.queryRelatedFeatures?.(o,s)??Promise.resolve({})}function S(e,t,r){let s=0;const o=[];for(;s<t.length;)o.push(`${e} IN (${t.slice(s,r+s)})`),s+=r;return o.join(\" OR \")}async function w(e,t,r,s){const l=r.layerId.toString(),{layerInfo:u,relation:p,relatedFields:c,outStatistics:f,url:d,sourceSpatialReference:m}=t;if(!u||!p)return null;const y=j({originRelationship:p,relationships:u.relationships,layerId:l});if(y?.relationshipTableId&&y.keyFieldInRelationshipTable){const t=(await I(e,y,r,s))[e.attributes[r.objectIdField]];if(!t)return null;const i=t.features.map((e=>e.attributes[u.objectIdField]));if(f?.length&&u.supportsStatistics){const e=new a;e.where=S(u.objectIdField,i,1e3),e.outFields=c,e.outStatistics=f,e.sourceSpatialReference=m;const r={features:Promise.resolve(t),statsFeatures:n(d,e)};return o(r)}}const g=y?.keyField;if(g){const r=i(T(u.fields,g)),l=h(e.attributes,p.keyField),c=r?`${g}=${l}`:`${g}='${l}'`,f=n(d,new a({where:c,outFields:t.relatedFields,sourceSpatialReference:m}),s),y=t.outStatistics&&t.outStatistics.length>0&&u.supportsStatistics?n(d,new a({where:c,outFields:t.relatedFields,outStatistics:t.outStatistics,sourceSpatialReference:m}),s):null,j={features:f};return y&&(j.statsFeatures=y),o(j)}return null}function b(t,r){return e(t,{query:{f:\"json\"},signal:r&&r.signal})}function R({relatedInfos:e,layer:r},i){const n={};return e.forEach(((e,s)=>{const{relation:o}=e;if(!o){const e=new t(\"relation-required\",\"A relation is required on a layer to retrieve related records.\");throw f.error(e),e}const{relatedTableId:i}=o;if(\"number\"!=typeof i){const e=new t(\"A related table ID is required on a layer to retrieve related records.\");throw f.error(e),e}const a=`${r.url}/${i}`,l=d.get(a),u=l??b(a);l||d.set(a,u),n[s]=u})),s(o(n),i)}function $({graphic:e,relatedInfos:t,layer:r},s){const i={};return t.forEach(((t,o)=>{t.layerInfo&&(i[o]=w(e,t,r,s))})),o(i)}function U({relatedInfo:e,fieldName:t,fieldInfo:r}){if(e.relatedFields?.push(t),r.statisticType){const s=new u({statisticType:r.statisticType,onStatisticField:t,outStatisticFieldName:t});e.outStatistics?.push(s)}}function T(e,t){if(null!=e){t=t.toLowerCase();for(const r of e)if(r&&r.name.toLowerCase()===t)return r}return null}export{g as createRelatedInfo,j as getDestinationRelation,m as getRelatedFieldInfo,R as queryLayerInfos,$ as queryRelatedFeatures,F as setRelatedFeatures,U as updateRelatedInfo};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as r}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../popup/FieldInfo.js\";import l from\"../../../popup/content/support/ChartMediaInfoValueSeries.js\";import{substituteFieldsInLinksAndAttributes as n,fixTokens as p,substituteAttributes as d,getFixedFieldNames as u,getFixedFieldName as f,isRelatedField as m,isExpressionField as c,getFieldInfo as h,getFieldInfoLabel as b}from\"../support/featureUtils.js\";import{getRelatedFieldInfo as y}from\"../support/relatedFeatureUtils.js\";const I={chartAnimation:!0};let v=class extends e{constructor(t){super(t),this.abilities={...I},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(t){return{...I,...t}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(t){this._setContentElementMedia(t)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(t){const{formattedMediaInfoCount:e}=this,i=(t+e)%e;this.activeMediaInfoIndex=i}_pageContentElementMedia(t){const{activeMediaInfoIndex:e}=this,i=e+t;this._setContentElementMedia(i)}_formatMediaInfos(){const{mediaInfos:t,layer:e}=this,o=this.attributes??{},r=this.formattedAttributes??{},a=this.expressionAttributes??{},s=this.fieldInfoMap??new Map;return t?.map((t=>{const i=t?.clone();if(!i)return null;if(i.title=n({attributes:o,fieldInfoMap:s,globalAttributes:r,expressionAttributes:a,layer:e,text:i.title}),i.caption=n({attributes:o,fieldInfoMap:s,globalAttributes:r,expressionAttributes:a,layer:e,text:i.caption}),i.altText=n({attributes:o,fieldInfoMap:s,globalAttributes:r,expressionAttributes:a,layer:e,text:i.altText}),\"image\"===i.type){const{value:t}=i;return this._setImageValue({value:t,formattedAttributes:r,layer:e}),i.value.sourceURL?i:void 0}if(\"pie-chart\"===i.type||\"line-chart\"===i.type||\"column-chart\"===i.type||\"bar-chart\"===i.type){const{value:t}=i;return this._setChartValue({value:t,chartType:i.type,attributes:o,formattedAttributes:r,layer:e,expressionAttributes:a}),i}return null})).filter(i)??[]}_setImageValue(t){const e=this.fieldInfoMap??new Map,{value:i,formattedAttributes:o,layer:r}=t,{linkURL:a,sourceURL:s}=i;if(s){const t=p(s,r);i.sourceURL=d({formattedAttributes:o,template:t,fieldInfoMap:e})}if(a){const t=p(a,r);i.linkURL=d({formattedAttributes:o,template:t,fieldInfoMap:e})}}_setChartValue(t){const{value:e,attributes:i,formattedAttributes:o,chartType:r,layer:a,expressionAttributes:s}=t,{popupTemplate:l,relatedInfos:n}=this,{fields:p,normalizeField:d}=e,c=a;e.fields=u(p,c),d&&(e.normalizeField=f(d,c));if(!p.some((t=>!!(null!=o[t]||m(t)&&n?.size))))return;const h=l?.fieldInfos??[];p.forEach((t=>{if(m(t))return void(e.series=[...e.series,...this._getRelatedChartInfos({fieldInfos:h,fieldName:t,formattedAttributes:o,chartType:r,value:e})]);const a=this._getChartOption({value:e,attributes:i,chartType:r,formattedAttributes:o,expressionAttributes:s,fieldName:t,fieldInfos:h});e.series.push(a)}))}_getRelatedChartInfos(t){const{fieldInfos:e,fieldName:i,formattedAttributes:o,chartType:r,value:a}=t,s=[],l=y(i),n=l&&this.relatedInfos?.get(l.layerId.toString());if(!n)return s;const{relatedFeatures:p,relation:d}=n;if(!d||!p)return s;const{cardinality:u}=d;p.forEach((t=>{const{attributes:n}=t;n&&Object.keys(n).forEach((t=>{t===l.fieldName&&s.push(this._getChartOption({value:a,attributes:n,formattedAttributes:o,fieldName:i,chartType:r,relatedFieldName:t,hasMultipleRelatedFeatures:p?.length>1,fieldInfos:e}))}))}));return\"one-to-many\"===u||\"many-to-many\"===u?s:[s[0]]}_getTooltip({label:t,value:e,chartType:i}){return\"pie-chart\"===i?`${t}`:`${t}: ${e}`}_getChartOption(t){const{value:e,attributes:i,formattedAttributes:o,expressionAttributes:r,fieldName:a,relatedFieldName:n,fieldInfos:p,chartType:d,hasMultipleRelatedFeatures:u}=t,I=this.layer,v=this.fieldInfoMap??new Map,{normalizeField:M,tooltipField:A}=e,g=M?m(M)?i[y(M).fieldName]:i[M]:null,x=c(a)&&r&&void 0!==r[a]?r[a]:n&&void 0!==i[n]?i[n]:void 0!==i[a]?i[a]:o[a],_=new l({fieldName:a,value:void 0===x?null:x&&g?x/g:x});if(m(a)){const t=v.get(a.toLowerCase()),e=A&&v.get(A.toLowerCase()),r=t?.fieldName??a,s=u&&A?y(A).fieldName:e?.fieldName??A,l=u&&s?i[s]:o[s]??t?.label??t?.fieldName??n,p=u&&n?i[n]:o[r];return _.tooltip=this._getTooltip({label:l,value:p,chartType:d}),_}const C=h(p,a),T=f(a,I),N=A&&void 0!==o[A]?o[A]:b(C||new s({fieldName:T}),this.popupTemplate?.expressionInfos),F=o[T];return _.tooltip=this._getTooltip({label:N,value:F,chartType:d}),_}};t([o()],v.prototype,\"abilities\",void 0),t([r(\"abilities\")],v.prototype,\"castAbilities\",null),t([o()],v.prototype,\"activeMediaInfoIndex\",void 0),t([o({readOnly:!0})],v.prototype,\"activeMediaInfo\",null),t([o()],v.prototype,\"attributes\",void 0),t([o()],v.prototype,\"description\",void 0),t([o()],v.prototype,\"fieldInfoMap\",void 0),t([o()],v.prototype,\"formattedAttributes\",void 0),t([o()],v.prototype,\"expressionAttributes\",void 0),t([o({readOnly:!0})],v.prototype,\"formattedMediaInfos\",null),t([o()],v.prototype,\"isAggregate\",void 0),t([o()],v.prototype,\"layer\",void 0),t([o({readOnly:!0})],v.prototype,\"formattedMediaInfoCount\",null),t([o()],v.prototype,\"mediaInfos\",void 0),t([o()],v.prototype,\"popupTemplate\",void 0),t([o()],v.prototype,\"relatedInfos\",void 0),t([o()],v.prototype,\"title\",void 0),v=t([a(\"esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel\")],v);const M=v;export{M as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import{prefersReducedMotion as t}from\"../../core/a11yUtils.js\";import{eventKey as i}from\"../../core/events.js\";import{watch as r,initial as a}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{getColorsFromRenderer as n}from\"../../renderers/support/utils.js\";import l from\"../Widget.js\";import d from\"./FeatureMedia/FeatureMediaViewModel.js\";import m from\"./support/FeatureElementInfo.js\";import{shouldOpenInNewTab as c}from\"./support/featureUtils.js\";import{esriChartColorSet as p}from\"../support/chartUtilsAm5.js\";import{loadCalciteComponents as h}from\"../support/componentsUtils.js\";import{isRTL as u}from\"../support/widgetUtils.js\";import{messageBundle as f}from\"../support/decorators/messageBundle.js\";import{tsx as v}from\"../support/jsxFactory.js\";import{isDarkTheme as _}from\"../../support/themeUtils.js\";import{substitute as M}from\"../../intl/substitute.js\";const g=\"esri-feature-media\",w={base:g,mediaContainer:`${g}__container`,mediaItemContainer:`${g}__item-container`,mediaItem:`${g}__item`,mediaItemText:`${g}__item-text`,mediaItemTitle:`${g}__item-title`,mediaItemCaption:`${g}__item-caption`,mediaNavigation:`${g}__item-navigation`,mediaPagination:`${g}__pagination`,mediaPaginationText:`${g}__pagination-text`,mediaPrevious:`${g}__previous`,mediaPreviousIconLTR:`${g}__previous-icon`,mediaPreviousIconRTL:`${g}__previous-icon--rtl`,mediaNext:`${g}__next`,mediaNextIconLTR:`${g}__next-icon`,mediaNextIconRTL:`${g}__next-icon--rtl`,mediaChart:`${g}__chart`,mediaPaginationButton:`${g}__pagination-button`,mediaPaginationIcon:`${g}__pagination-icon`,mediaChartRendered:`${g}__chart--rendered`},I=15,A=\"category\",y=\"value\",x=\"rgba(50, 50, 50, 1)\",C=250,T=500,b=200;let R=class extends l{constructor(e,t){super(e,t),this._refreshTimer=null,this._refreshIntervalInfo=null,this._featureElementInfo=null,this._chartRootMap=new WeakMap,this.viewModel=new d,this.messages=null,this._disposeChart=e=>{this._chartRootMap.get(e)?.dispose(),this._chartRootMap.delete(e)},this._createChart=async e=>{const{destroyed:t,viewModel:i}=this;if(t||!i||!e)return;const{createRoot:r}=await import(\"../support/chartUtilsAm5.js\"),a=await r(e);this._chartRootMap.set(e,a),this._renderChart({mediaInfo:i.activeMediaInfo,root:a})}}initialize(){this._featureElementInfo=new m,this.addHandles([r((()=>[this.viewModel?.activeMediaInfo,this.viewModel?.activeMediaInfoIndex]),(()=>this._setupMediaRefreshTimer()),a),r((()=>[this.viewModel?.description,this.viewModel?.title]),(()=>this._setupFeatureElementInfo()),a)])}loadDependencies(){return h({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\")})}destroy(){this._clearMediaRefreshTimer(),this._featureElementInfo?.destroy()}get attributes(){return this.viewModel.attributes}set attributes(e){this.viewModel.attributes=e}get activeMediaInfoIndex(){return this.viewModel.activeMediaInfoIndex}set activeMediaInfoIndex(e){this.viewModel.activeMediaInfoIndex=e}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get fieldInfoMap(){return this.viewModel.fieldInfoMap}set fieldInfoMap(e){this.viewModel.fieldInfoMap=e}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get mediaInfos(){return this.viewModel.mediaInfos}set mediaInfos(e){this.viewModel.mediaInfos=e}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(e){this.viewModel.popupTemplate=e}get relatedInfos(){return this.viewModel.relatedInfos}set relatedInfos(e){this.viewModel.relatedInfos=e}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}render(){return v(\"div\",{bind:this,class:w.base,onkeyup:this._handleMediaKeyup},this._featureElementInfo?.render(),this.renderMedia())}renderMedia(){const{formattedMediaInfoCount:e,activeMediaInfoIndex:t}=this.viewModel,i=this.renderMediaText();return e?v(\"div\",{key:\"media-element-container\",class:w.mediaContainer},this.renderMediaInfo(),v(\"div\",{class:w.mediaNavigation},i,v(\"div\",{class:w.mediaPagination},this.renderMediaPageButton(\"previous\"),v(\"span\",{class:w.mediaPaginationText},M(this.messages.pageText,{index:t+1,total:e})),this.renderMediaPageButton(\"next\")))):null}renderMediaText(){const{activeMediaInfo:e}=this.viewModel;if(!e)return null;const t=e&&e.title?v(\"div\",{key:\"media-title\",class:w.mediaItemTitle,innerHTML:e.title}):null,i=e&&e.caption?v(\"div\",{key:\"media-caption\",class:w.mediaItemCaption,innerHTML:e.caption}):null;return t||i?v(\"div\",{key:\"media-text\",class:w.mediaItemText},t,i):null}renderImageMediaInfo(e){const{_refreshIntervalInfo:t}=this,{activeMediaInfoIndex:i,formattedMediaInfoCount:r}=this.viewModel,{value:a,refreshInterval:s,altText:o,title:n,type:l}=e,{sourceURL:d,linkURL:m}=a,p=c(m??void 0)?\"_blank\":\"_self\",h=\"_blank\"===p?\"noreferrer\":\"\",u=s?t:null,f=u?u.timestamp:0,_=u?u.sourceURL:d,M=v(\"img\",{alt:o||n,key:`media-${l}-${i}-${r}-${f}`,src:_??void 0});return(m?v(\"a\",{title:n,href:m,rel:h,target:p},M):null)??M}renderChartMediaInfo(e){const{activeMediaInfoIndex:t,formattedMediaInfoCount:i}=this.viewModel;return v(\"div\",{key:`media-${e.type}-${t}-${i}`,bind:this,class:w.mediaChart,afterCreate:this._createChart,afterRemoved:this._disposeChart})}renderMediaInfoType(){const{activeMediaInfo:e}=this.viewModel;return e?\"image\"===e.type?this.renderImageMediaInfo(e):e.type.includes(\"chart\")?this.renderChartMediaInfo(e):null:null}renderMediaInfo(){const{activeMediaInfo:e}=this.viewModel;return e?v(\"div\",{key:\"media-container\",class:w.mediaItemContainer},v(\"div\",{key:\"media-item-container\",class:w.mediaItem},this.renderMediaInfoType())):null}renderMediaPageButton(e){if(this.viewModel.formattedMediaInfoCount<2)return null;const t=\"previous\"===e,i=t?this.messages.previous:this.messages.next,r=t?\"chevron-left\":\"chevron-right\",a=t?\"media-previous\":\"media-next\",s=t?this._previous:this._next;return v(\"button\",{type:\"button\",key:a,title:i,\"aria-label\":i,tabIndex:0,class:w.mediaPaginationButton,bind:this,onclick:s},v(\"calcite-icon\",{class:w.mediaPaginationIcon,scale:\"s\",icon:r}))}_setupFeatureElementInfo(){const{description:e,title:t}=this;this._featureElementInfo?.set({description:e,title:t})}_next(){this.viewModel.next()}_previous(){this.viewModel.previous()}_getRenderer(){if(!this.viewModel)return;const{isAggregate:e,layer:t}=this.viewModel;return e&&t?.featureReduction&&\"renderer\"in t.featureReduction?t.featureReduction.renderer:t?.renderer}async _getRendererColors(){const{colorAm5:e}=await import(\"./FeatureMedia/chartCommon.js\"),t=new Map,i=this._getRenderer(),r=\"default\";if(!i)return t;const a=await n(i);a.delete(r);return Array.from(a.values()).every((e=>1===e?.length))?(Array.from(a.keys()).forEach((i=>{const r=a.get(i)?.[0]?.toCss(!0);r&&t.set(i,e(r))})),t):t}_handleMediaKeyup(e){const t=i(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.viewModel.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.viewModel.next())}_canAnimateChart(){return!!this.viewModel&&(!!this.viewModel.abilities.chartAnimation&&!t())}_getChartAnimationMS(){return this._canAnimateChart()?C:0}_getChartSeriesAnimationMS(){return this._canAnimateChart()?T:0}async _renderChart(e){const{root:t,mediaInfo:i}=e,{value:r,type:a}=i,{ResponsiveThemeAm5:s,DarkThemeAm5:o,AnimatedThemeAm5:n,ColorSetAm5:l,ThemeAm5:d}=await import(\"./FeatureMedia/chartCommon.js\"),m=d.new(t);m.rule(\"ColorSet\").set(\"colors\",p);const c=[s.new(t),m];_()&&c.push(o.new(t)),this._canAnimateChart()&&c.push(n.new(t)),t.setThemes(c);const h=await this._getRendererColors(),u=l.new(t,{}),f=r.series.map(((e,t)=>{const i=h.get(e.fieldName)||u.getIndex(t);return{[A]:e.tooltip,[y]:e.value,columnSettings:{fill:i,stroke:i}}})).filter((e=>\"pie-chart\"!==a||null!=e.value&&e.value>0));\"pie-chart\"===a?this._createPieChart(e,f):this._createXYChart(e,f)}_getDirection(){return u(this.container)?\"rtl\":\"ltr\"}_isInversed(){return!!u(this.container)}async _customizeChartTooltip(e,t=\"horizontal\"){const{colorAm5:i}=await import(\"./FeatureMedia/chartCommon.js\");e.setAll({pointerOrientation:t}),e.get(\"background\")?.setAll({stroke:i(x)}),e.label.setAll({direction:this._getDirection(),oversizedBehavior:\"wrap\",maxWidth:b})}async _createPieChart(e,t){const{TooltipAm5:i}=await import(\"./FeatureMedia/chartCommon.js\"),{PieChartAm5:r,PieSeriesAm5:a}=await import(\"./FeatureMedia/pieChart.js\"),{mediaInfo:s,root:o}=e,{title:n}=s,l=5,d=s?.altText||s?.title||\"\",m=o.container.children.push(r.new(o,{ariaLabel:d,focusable:!0,paddingBottom:l,paddingTop:l,paddingLeft:l,paddingRight:l})),c=\"{category}: {valuePercentTotal.formatNumber('0.00')}%\\n ({value})\",p=i.new(o,{labelText:c}),h=m.series.push(a.new(o,{name:n,valueField:y,categoryField:A,tooltip:p}));h.ticks.template.set(\"forceHidden\",!0),h.labels.template.set(\"forceHidden\",!0),h.slices.template.states.create(\"active\",{shiftRadius:l}),this._customizeChartTooltip(p),h.slices.template.setAll({ariaLabel:c,focusable:!0,templateField:\"columnSettings\"}),h.data.setAll(t),h.appear(this._getChartSeriesAnimationMS()),m.appear(this._getChartAnimationMS()),m.root.dom.classList.toggle(w.mediaChartRendered,!0)}_getMinSeriesValue(e){let t=0;return e.forEach((e=>t=Math.min(e.value,t))),t}async _createColumnChart(e,t,i){const{TooltipAm5:r,ScrollbarAm5:a}=await import(\"./FeatureMedia/chartCommon.js\"),{CategoryAxisAm5:s,AxisRendererXAm5:o,ValueAxisAm5:n,AxisRendererYAm5:l,ColumnSeriesAm5:d}=await import(\"./FeatureMedia/xyChart.js\"),{mediaInfo:m,root:c}=t,{value:p,title:h}=m;e.setAll({wheelX:\"panX\",wheelY:\"zoomX\"});const u=e.xAxes.push(s.new(c,{renderer:o.new(c,{inversed:this._isInversed()}),categoryField:A}));u.get(\"renderer\").labels.template.setAll({forceHidden:!0});const f=e.yAxes.push(n.new(c,{renderer:l.new(c,{inside:!1}),min:this._getMinSeriesValue(p.series)}));f.get(\"renderer\").labels.template.setAll({direction:this._getDirection()});const v=\"{categoryX}\",_=r.new(c,{labelText:v}),M=e.series.push(d.new(c,{name:h,xAxis:u,yAxis:f,valueYField:y,categoryXField:A,tooltip:_}));this._customizeChartTooltip(_),M.columns.template.setAll({ariaLabel:v,focusable:!0,templateField:\"columnSettings\"}),p.series.length>I&&e.set(\"scrollbarX\",a.new(c,{orientation:\"horizontal\"})),u.data.setAll(i),M.data.setAll(i),M.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createBarChart(e,t,i){const{TooltipAm5:r,ScrollbarAm5:a}=await import(\"./FeatureMedia/chartCommon.js\"),{CategoryAxisAm5:s,AxisRendererXAm5:o,ValueAxisAm5:n,AxisRendererYAm5:l,ColumnSeriesAm5:d}=await import(\"./FeatureMedia/xyChart.js\"),{mediaInfo:m,root:c}=t,{value:p,title:h}=m;e.setAll({wheelX:\"panY\",wheelY:\"zoomY\"});const u=e.yAxes.push(s.new(c,{renderer:l.new(c,{inversed:!0}),categoryField:A}));u.get(\"renderer\").labels.template.setAll({forceHidden:!0});const f=e.xAxes.push(n.new(c,{renderer:o.new(c,{inside:!1,inversed:this._isInversed()}),min:this._getMinSeriesValue(p.series)}));f.get(\"renderer\").labels.template.setAll({direction:this._getDirection()});const v=\"{categoryY}\",_=r.new(c,{labelText:v}),M=e.series.push(d.new(c,{name:h,xAxis:f,yAxis:u,valueXField:y,categoryYField:A,tooltip:_}));this._customizeChartTooltip(_,\"vertical\"),M.columns.template.setAll({ariaLabel:v,focusable:!0,templateField:\"columnSettings\"}),p.series.length>I&&e.set(\"scrollbarY\",a.new(c,{orientation:\"vertical\"})),u.data.setAll(i),M.data.setAll(i),M.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createLineChart(e,t,i){const{TooltipAm5:r,ScrollbarAm5:a}=await import(\"./FeatureMedia/chartCommon.js\"),{CategoryAxisAm5:s,AxisRendererXAm5:o,ValueAxisAm5:n,AxisRendererYAm5:l,LineSeriesAm5:d}=await import(\"./FeatureMedia/xyChart.js\"),{root:m,mediaInfo:c}=t,{value:p,title:h}=c;e.setAll({wheelX:\"panX\",wheelY:\"zoomX\"});const u=e.xAxes.push(s.new(m,{renderer:o.new(m,{inversed:this._isInversed()}),categoryField:A}));u.get(\"renderer\").labels.template.setAll({forceHidden:!0});const f=e.yAxes.push(n.new(m,{renderer:l.new(m,{inside:!1}),min:this._getMinSeriesValue(p.series)}));f.get(\"renderer\").labels.template.setAll({direction:this._getDirection()});const v=\"{categoryX}\",_=r.new(m,{labelText:v}),M=e.series.push(d.new(m,{name:h,xAxis:u,yAxis:f,valueYField:y,categoryXField:A,tooltip:_}));this._customizeChartTooltip(_,\"vertical\"),p.series.length>I&&e.set(\"scrollbarX\",a.new(m,{orientation:\"horizontal\"})),u.data.setAll(i),M.data.setAll(i),M.appear(this._getChartSeriesAnimationMS()),e.appear(this._getChartAnimationMS())}async _createXYChart(e,t){const{XYChartAm5:i,XYCursorAm5:r}=await import(\"./FeatureMedia/xyChart.js\"),{root:a,mediaInfo:s}=e,{type:o}=s,n=s?.altText||s?.title||\"\",l=a.container.children.push(i.new(a,{ariaLabel:n,focusable:!0,panX:!0,panY:!0}));l.set(\"cursor\",r.new(a,{})),\"column-chart\"===o&&await this._createColumnChart(l,e,t),\"bar-chart\"===o&&await this._createBarChart(l,e,t),\"line-chart\"===o&&await this._createLineChart(l,e,t),l.root.dom.classList.toggle(w.mediaChartRendered,!0)}_clearMediaRefreshTimer(){const{_refreshTimer:e}=this;e&&(clearTimeout(e),this._refreshTimer=null)}_updateMediaInfoTimestamp(e){const t=Date.now();this._refreshIntervalInfo={timestamp:t,sourceURL:e&&this._getImageSource(e,t)}}_setupMediaRefreshTimer(){this._clearMediaRefreshTimer();const{activeMediaInfo:e}=this.viewModel;e&&\"image\"===e.type&&e.refreshInterval&&this._setRefreshTimeout(e)}_setRefreshTimeout(e){const{refreshInterval:t,value:i}=e;if(!t)return;const r=6e4*t;this._updateMediaInfoTimestamp(i.sourceURL);const a=setInterval((()=>{this._updateMediaInfoTimestamp(i.sourceURL)}),r);this._refreshTimer=a}_getImageSource(e,t){const i=e.includes(\"?\")?\"&\":\"?\",[r,a=\"\"]=e.split(\"#\");return`${r}${i}timestamp=${t}${a?\"#\":\"\"}${a}`}};e([s()],R.prototype,\"_refreshIntervalInfo\",void 0),e([s()],R.prototype,\"attributes\",null),e([s()],R.prototype,\"activeMediaInfoIndex\",null),e([s()],R.prototype,\"description\",null),e([s()],R.prototype,\"fieldInfoMap\",null),e([s()],R.prototype,\"layer\",null),e([s()],R.prototype,\"mediaInfos\",null),e([s()],R.prototype,\"popupTemplate\",null),e([s()],R.prototype,\"relatedInfos\",null),e([s()],R.prototype,\"title\",null),e([s({type:d})],R.prototype,\"viewModel\",void 0),e([s(),f(\"esri/widgets/Feature/t9n/Feature\")],R.prototype,\"messages\",void 0),R=e([o(\"esri.widgets.Feature.FeatureMedia\")],R);const j=R;export{j as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{eachAlways as r}from\"../../../core/promiseUtils.js\";import t from\"../../../layers/FeatureLayer.js\";import{applyTextFormattingHTML as a,htmlEntities as i}from\"./featureUtils.js\";const n=[\"$datastore\",\"$map\",\"$layer\",\"$aggregatedfeatures\"],s=\"esri.widgets.Feature.support.arcadeFeatureUtils\",o=e.getLogger(s);function c(e){return\"string\"==typeof e?a(i(e)):Array.isArray(e)?p(e):\"esri.arcade.Dictionary\"===e?.declaredClass?l(e):e}function p(e){return`<ul class=\"esri-widget__list\">${e.map((e=>`<li>${\"string\"==typeof e?a(i(e)):e}</li>`)).join(\"\")}</ul>`}function l(e){return`<table class=\"esri-widget__table\">${e.keys().map((r=>{const t=e.field(r);return`<tr><th>${r}</th><td>${\"string\"==typeof t?a(i(t)):t}</td></tr>`})).join(\"\")}</table>`}function u({aggregatedFeatures:e,arcadeUtils:r,featureSetVars:a,context:i,viewInfo:n,map:s,graphic:o,interceptor:c}){a.forEach((a=>{const p=a.toLowerCase(),l=n.sr,u={map:s,spatialReference:l,interceptor:c};if(\"$map\"===p&&(i.vars[p]=r.convertMapToFeatureSetCollection(u)),\"$layer\"===p&&(i.vars[p]=r.convertFeatureLayerToFeatureSet({layer:o.sourceLayer,spatialReference:l,interceptor:c})),\"$datastore\"===p&&(i.vars[p]=r.convertServiceUrlToWorkspace({url:o.sourceLayer.url,spatialReference:l,interceptor:c})),\"$aggregatedfeatures\"===p){const a=o.layer,{fields:n,objectIdField:s,geometryType:l,spatialReference:u,displayField:f}=a,g=new t({fields:n,objectIdField:s,geometryType:l,spatialReference:u,displayField:f,...\"feature\"===a.type?{templates:a.templates,typeIdField:a.typeIdField,types:a.types}:null,source:e});i.vars[p]=r.convertFeatureLayerToFeatureSet({layer:g,spatialReference:u,interceptor:c})}}))}function f(){return import(\"../../../support/arcadeUtils.js\")}function g(e){return\"createQuery\"in e&&\"queryFeatures\"in e}async function y({graphic:e,view:r}){const{isAggregate:t,layer:a}=e;if(!t||!a||\"2d\"!==r?.type)return[];const i=await r.whenLayerView(a);if(!g(i))return[];const n=i.createQuery(),s=e.getObjectId();n.aggregateIds=null!=s?[s]:[];const{features:o}=await i.queryFeatures(n);return o}async function d({expressionInfo:e,arcadeUtils:r,interceptor:t,spatialReference:a,map:i,graphic:s,view:c}){if(!e||!e.expression)return null;const p=r.createSyntaxTree(e.expression),l=n.filter((e=>r.hasVariable(p,e))),[f]=await Promise.all([y({graphic:s,view:c}),r.loadScriptDependencies(p,!0,l)]),g=r.getViewInfo({spatialReference:a}),d=r.createExecContext(s,g);d.interceptor=t,d.useAsync=!0,u({aggregatedFeatures:f,arcadeUtils:r,featureSetVars:l,context:d,viewInfo:g,map:i,graphic:s,interceptor:t});const m=r.createFunction(p,d);return r.executeAsyncFunction(m,d).catch((r=>o.error(\"arcade-execution-error\",{error:r,graphic:s,expressionInfo:e})))}async function m({expressionInfos:e,spatialReference:t,graphic:a,interceptor:i,map:n,view:s}){if(!e||!e.length)return{};const o=await f(),p={};for(const r of e)p[`expression/${r.name}`]=d({expressionInfo:r,arcadeUtils:o,interceptor:i,spatialReference:t,map:n,graphic:a,view:s});const l=await r(p),u={};for(const r in l)u[r]=c(l[r].value);return u}export{d as createCompiledExpression,m as createCompiledExpressions,f as loadArcadeUtils};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../Graphic.js\";import o from\"../../../core/Accessor.js\";import{HandleOwnerMixin as r}from\"../../../core/HandleOwner.js\";import{watch as n,initial as s}from\"../../../core/reactiveUtils.js\";import{throttle as i}from\"../../../core/throttle.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../popup/content/AttachmentsContent.js\";import\"../../../popup/content/Content.js\";import\"../../../popup/content/CustomContent.js\";import\"../../../popup/content/ExpressionContent.js\";import a from\"../../../popup/content/FieldsContent.js\";import c from\"../../../popup/content/MediaContent.js\";import\"../../../popup/content/RelationshipContent.js\";import m from\"../../../popup/content/TextContent.js\";import h from\"../../../popup/ElementExpressionInfo.js\";import d from\"../FeatureContent/FeatureContentViewModel.js\";import u from\"../FeatureFields/FeatureFieldsViewModel.js\";import f from\"../FeatureMedia/FeatureMediaViewModel.js\";import{loadArcadeUtils as y,createCompiledExpression as _}from\"../support/arcadeFeatureUtils.js\";const w=1;let j=class extends(r(o)){constructor(t){super(t),this._abortController=null,this.expressionInfo=null,this.graphic=null,this.contentElement=null,this.contentElementViewModel=null,this.interceptor=null,this.view=null,this._cancelQuery=()=>{const{_abortController:t}=this;t&&t.abort(),this._abortController=null},this._createVM=()=>{const t=this.contentElement?.type;this.contentElementViewModel?.destroy();const e=\"fields\"===t?new u:\"media\"===t?new f:\"text\"===t?new d:null;this._set(\"contentElementViewModel\",e)},this._compile=async()=>{this._cancelQuery();const t=new AbortController;this._abortController=t,await this._compileExpression(),this._abortController===t&&(this._abortController=null)},this._compileThrottled=i(this._compile,w,this),this._compileExpression=async()=>{const{expressionInfo:t,graphic:e,interceptor:o,spatialReference:r,map:n,view:s,_abortController:i}=this;if(!(t&&e&&r&&n))return void this._set(\"contentElement\",null);const l=await y();if(i!==this._abortController)return;const p=await _({arcadeUtils:l,expressionInfo:t,graphic:e,interceptor:o,map:n,spatialReference:r,view:s});if(!p||\"esri.arcade.Dictionary\"!==p.declaredClass)return void this._set(\"contentElement\",null);const h=await p.castAsJsonAsync(i?.signal),d=h?.type,u=\"media\"===d?c.fromJSON(h):\"text\"===d?m.fromJSON(h):\"fields\"===d?a.fromJSON(h):null;this._set(\"contentElement\",u)},this.handles.add([n((()=>[this.expressionInfo,this.graphic,this.map,this.spatialReference,this.view]),(()=>this._compileThrottled()),s),n((()=>[this.contentElement]),(()=>this._createVM()),s)])}initialize(){this.addHandles(this._compileThrottled)}destroy(){this._cancelQuery(),this.contentElementViewModel?.destroy(),this._set(\"contentElementViewModel\",null),this._set(\"contentElement\",null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(t){this._override(\"spatialReference\",t)}get state(){const{_abortController:t,contentElement:e,contentElementViewModel:o}=this;return t?\"loading\":e||o?\"ready\":\"disabled\"}get map(){return this.view?.map??null}set map(t){this._override(\"map\",t)}};t([l()],j.prototype,\"_abortController\",void 0),t([l({type:h})],j.prototype,\"expressionInfo\",void 0),t([l({type:e})],j.prototype,\"graphic\",void 0),t([l({readOnly:!0})],j.prototype,\"contentElement\",void 0),t([l({readOnly:!0})],j.prototype,\"contentElementViewModel\",void 0),t([l()],j.prototype,\"interceptor\",void 0),t([l()],j.prototype,\"spatialReference\",null),t([l({readOnly:!0})],j.prototype,\"state\",null),t([l()],j.prototype,\"map\",null),t([l()],j.prototype,\"view\",void 0),j=t([p(\"esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel\")],j);const C=j;export{C as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{watch as t,initial as s}from\"../../core/reactiveUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../Widget.js\";import n from\"./FeatureContent.js\";import d from\"./FeatureFields.js\";import a from\"./FeatureMedia.js\";import l from\"./FeatureExpression/FeatureExpressionViewModel.js\";import\"../support/widgetUtils.js\";import{tsx as p}from\"../support/jsxFactory.js\";const c={iconLoading:\"esri-icon-loading-indicator esri-rotating\",base:\"esri-feature-expression\",loadingSpinnerContainer:\"esri-feature__loading-container\",spinner:\"esri-feature__loading-spinner\"};let u=class extends r{constructor(e,t){super(e,t),this._contentWidget=null,this.viewModel=new l}initialize(){this.addHandles(t((()=>this.viewModel?.contentElementViewModel),(()=>this._setupExpressionWidget()),s))}destroy(){this._destroyContentWidget()}renderLoading(){return p(\"div\",{key:\"loading-container\",class:c.loadingSpinnerContainer},p(\"span\",{class:this.classes(c.iconLoading,c.spinner)}))}render(){const{state:e}=this.viewModel;return p(\"div\",{class:c.base},\"loading\"===e?this.renderLoading():\"disabled\"===e?null:this._contentWidget?.render())}_destroyContentWidget(){const{_contentWidget:e}=this;e&&(e.viewModel=null,e.destroy()),this._contentWidget=null}_setupExpressionWidget(){const{contentElementViewModel:e,contentElement:t}=this.viewModel,s=t?.type;this._destroyContentWidget();const o=e?\"fields\"===s?new d({viewModel:e}):\"media\"===s?new a({viewModel:e}):\"text\"===s?new n({viewModel:e}):null:null;this._contentWidget=o,this.scheduleRender()}};e([o({type:l})],u.prototype,\"viewModel\",void 0),u=e([i(\"esri.widgets.Feature.FeatureExpression\")],u);const m=u;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{isSome as e}from\"../../core/arrayUtils.js\";import{templateHasKey as t,replace as n}from\"../../core/string.js\";import{formatTimestamp as r,formatTimeOnly as i,formatDateOnly as o,formatDate as a}from\"../../intl/date.js\";import{DomainValidationError as s,getDomainRange as l}from\"../../layers/support/domainUtils.js\";import{isDateField as p,NumericRangeValidationError as m,getFieldRange as u,TypeValidationError as d}from\"../../layers/support/fieldUtils.js\";import{substitute as c}from\"../../intl/substitute.js\";const f=e=>\"field\"===e?.type,y=e=>\"group\"===e?.type,T=e=>\"relationship\"===e?.type,E=e=>!y(e)&&null!=e.group,O=e=>\"field\"===e.type,b=e=>\"group\"===e.type,g=e=>\"relationship\"===e.type,v=e=>e.reduce(((e,t)=>y(t)?[...e,...t.inputs]:[...e,t]),[]),h=e=>v(e).filter(f),j=e=>v(e).filter(T),x=(e,t)=>null!=e&&e.input?.type===t,N=e=>null!=e&&(x(e,\"text-box\")||x(e,\"text-area\")),_=({domain:e,inputType:t=\"text-box\",dataType:n})=>\"number\"===n&&\"text-box\"===t&&(!e||\"coded-value\"!==e.type),U=e=>\"items\"in e,A={typeFieldName:null,types:[]};function L(n,r,i){const o=Object.keys(r).filter((e=>t(n,e))),a=o.map((e=>r[e])),s=o.map((e=>i.get(e))).filter(e);return R(n,F(a,s))}function F(e,t){const n=t.map(((t,n)=>{let r=e[n];if(t.domain&&\"coded-value\"===t.domain.type){const e=t.domain.codedValues.find((e=>e.code===r));e?.name&&(r=e.name)}return p(t)&&(r=I(t,r)),[t.name,r]}));return Object.fromEntries(n)}function I(e,t){if(!e||null==t)return null;switch(e.type){case\"date\":return a(t);case\"date-only\":return o(t);case\"time-only\":return i(t);case\"timestamp-offset\":return r(t);default:return null}}const D=new Set([\"date-only\",\"time-only\",\"timestamp-offset\"]);function R(e,t){return n(n(e,(e=>`{${e.toLowerCase()}}`)),Object.fromEntries(Object.entries(t).map((([e,t])=>[e.toLowerCase(),t]))))}const V=e=>e?\"subtype-sublayer\"===e.type?{typeFieldName:e.parent?.subtypeField,types:e.parent?.subtypes??[]}:\"types\"in e&&e.types?{typeFieldName:e.typeIdField,types:e.types.map((({id:e,name:t,domains:n})=>({code:e,name:t,domains:n})))}:A:A,w=(e,t)=>{if(!e)return!0;const{operations:n}=e;switch(t){case\"INSERT\":return n.supportsAdd;case\"UPDATE\":case\"DELETE\":return n.supportsUpdate;default:return!0}};var S;!function(e){e.TOO_SHORT=\"length-validation-error::too-short\"}(S||(S={}));const C={type:\"number\"},G={type:\"number\",intlOptions:{notation:\"scientific\"}},H={type:\"date\",intlOptions:{day:\"2-digit\",month:\"2-digit\",year:\"numeric\",hour:\"numeric\",minute:\"numeric\",second:\"numeric\"}};function P(e){return e>=1e7||e<=-1e7}const k=(e,t)=>{const{dataType:n,domain:r,error:i,field:o,minLength:a,value:p,required:f}=e;if(!t||!i)return null;if(f&&null===p)return t.validationErrors.cannotBeNull;if(i===s.VALUE_OUT_OF_RANGE||i===m.OUT_OF_RANGE){const e=l(r)||u(o);return c(t.validationErrors.outsideRange,e,{format:{max:\"date\"===n?H:P(e.max)?G:C,min:\"date\"===n?H:P(e.min)?G:C}})}return i===s.INVALID_CODED_VALUE?t.validationErrors.invalidCodedValue:i===d.INVALID_TYPE?t.validationErrors.invalidType:i===S.TOO_SHORT?c(t.validationErrors.tooShort,{min:a}):null},q=e=>{if(!e)return;const t=e.layer,n=t&&\"geometryType\"in t?t.geometryType:void 0,r=e.geometry?.type;return\"polyline\"===r||\"polyline\"===n?\"line\":r||n||\"table\"},B=e=>{const n=[];if(e.formTemplate){const{description:r,title:i}=e.formTemplate;e.fields?.forEach((e=>{const o=i&&t(i,e.name),a=r&&t(r,e.name);(o||a)&&n.push(e.name)}))}return n};function Y(e){if(\"formTemplate\"in e&&e.formTemplate){return(e.formTemplate.elements?.filter(O)??[]).some((({fieldName:t})=>!e.fieldsIndex.get(t)))}return!1}export{S as LengthValidationError,w as capabilitiesAllowEditType,h as flattenFieldInputs,v as flattenInputs,j as flattenRelationshipInputs,Y as formTemplateHasInvalidFields,I as formatDateFieldValue,F as getComputedAttributes,k as getErrorMessageForFieldInput,B as getFieldsInTitleAndDesc,q as getIconForFeature,V as getNormalizedFeatureTypeInfo,O as isFieldElement,x as isFieldElementWithInputType,N as isFieldElementWithTextInput,f as isFieldInput,b as isGroupElement,y as isGroupInput,E as isInputInGroupInput,_ as isNumberFieldInput,g as isRelationshipElement,T as isRelationshipInput,U as isTemplateItemGroup,L as parseFormTemplateString,R as substituteFieldTemplatesInString,D as unsupportedDateFieldTypes};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{isSome as o}from\"../../../core/arrayUtils.js\";import{ClonableMixin as l}from\"../../../core/Clonable.js\";import a from\"../../../core/Collection.js\";import{HandleOwnerMixin as s}from\"../../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../../core/Identifiable.js\";import{ignoreAbortErrors as n,debounce as u}from\"../../../core/promiseUtils.js\";import{watch as d,initial as y}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../rest/support/RelationshipQuery.js\";import{getFixedFieldName as C,findRelatedLayer as b}from\"../support/featureUtils.js\";import{getComputedAttributes as g,parseFormTemplateString as _,getFieldsInTitleAndDesc as F}from\"../../FeatureForm/featureFormUtils.js\";const f=100;let m=class extends(l(i(s(r)))){constructor(e){super(e),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:e}=this;e&&e.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:e}=this;e&&e.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:e}=this;e&&e.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const e=new AbortController;this._queryAbortController=e,await n(this._query()),this._queryAbortController===e&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const e=new AbortController;this._queryFeatureCountAbortController=e,await n(this._queryFeatureCount()),this._queryFeatureCountAbortController===e&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryPageController=async()=>{const e=new AbortController;this._queryPageAbortController=e,await n(this._queryPage()),this._queryPageAbortController===e&&(this._queryPageAbortController=null)},this._queryDebounced=u(this._queryController,f),this._queryFeatureCountDebounced=u(this._queryFeatureCountController,f),this._queryPageDebounced=u(this._queryPageController,f),this._query=async()=>{const{_queryAbortController:e,relatedFeatures:t}=this;this.featureCount&&(this._destroyRelatedFeatureViewModels(),this.featurePage=1,t.removeAll(),this.destroyed||t.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:e?.signal}))))},this.handles.add([d((()=>[this.displayCount,this.graphic,this.layer,this.layer?.loaded,this.map,this.orderByFields,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount]),(()=>this._queryDebounced()),y),d((()=>[this.featurePage,this.showAllEnabled]),(()=>this._queryPageDebounced())),d((()=>[this.layer,this.relationshipId,this.objectId,this.canQuery]),(()=>this._queryFeatureCountDebounced()))])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.removeAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(e){const{featuresPerPage:t,featureCount:r}=this,o=1,l=Math.ceil(r/t)||1;this._set(\"featurePage\",Math.min(Math.max(e,o),l))}get featurePage(){return this._get(\"featurePage\")}get orderByFieldsFixedCasing(){const{orderByFields:e,relatedLayer:t}=this;return e&&t?.loaded?e.map((e=>{const r=e.clone();return r.field=C(e.field,t),r})):e??[]}get supportsCacheHint(){return!!this.layer?.capabilities?.queryRelated?.supportsCacheHint}get canLoad(){return!!this.map&&\"number\"==typeof this.relationshipId&&\"number\"==typeof this.objectId}get canQuery(){const e=this.layer?.capabilities?.queryRelated;return!!(this.relatedLayer&&this.relationship&&\"number\"==typeof this.relationshipId&&\"number\"==typeof this.objectId&&e?.supportsCount&&e?.supportsPagination)}get itemDescriptionFieldName(){return this.orderByFieldsFixedCasing[0]?.field||null}set displayCount(e){const t=0,r=10;this._set(\"displayCount\",Math.min(Math.max(e,t),r))}get displayCount(){return this._get(\"displayCount\")}get objectId(){return(this.objectIdField&&this.graphic?.attributes?.[this.objectIdField])??null}get objectIdField(){return this.layer?.objectIdField||null}get relatedFeatures(){return this._get(\"relatedFeatures\")||new a}get relatedFeatureInfos(){const{itemDescriptionFieldName:e,relatedFeatures:t,relatedLayer:r}=this;if(!t.length||!r)return[];const o=r&&\"formTemplate\"in r&&r.formTemplate,l=o&&o?.title||void 0;return t.map((t=>{let o;if(e){const l=t.getAttribute(e),a=r.fieldsIndex.get(e);if(a){const t=g([l],[a])[e];null!=t&&(o=t.toString())}}return{feature:t,description:o,title:l?_(l,t.attributes,r.fieldsIndex):void 0}})).toArray()}get relatedLayer(){const{layer:e,map:t,relationship:r}=this;return e?.loaded&&t&&r?b(t,e,r)??null:null}get relationship(){const{relationshipId:e,layer:t}=this;return\"number\"==typeof e?t?.relationships?.find((({id:t})=>t===e))??null:null}get relatedFeatureViewModels(){return this._get(\"relatedFeatureViewModels\")||new a}get state(){const{_queryAbortController:e,_queryFeatureCountAbortController:t,_queryPageAbortController:r,canQuery:o,_loaded:l,canLoad:a}=this;return t||a&&!l?\"loading\":e||r?\"querying\":o?\"ready\":\"disabled\"}getRelatedFeatureByObjectId(e){return this.relatedFeatures.find((t=>t.getObjectId()===e))}_destroyRelatedFeatureViewModels(){this.relatedFeatureViewModels?.forEach((e=>!e.destroyed&&e.destroy())),this.relatedFeatureViewModels.removeAll()}async _queryFeatureCount(){const{layer:e,relatedLayer:t,relationshipId:r,objectId:o,_queryFeatureCountAbortController:l,canQuery:a,supportsCacheHint:s}=this;if(await(e?.load()),await(t?.load()),!a||!e||!t)return void this._set(\"featureCount\",0);const i=t.createQuery(),n=new c({cacheHint:s,relationshipId:r,returnGeometry:!1,objectIds:[o],where:i.where??void 0}),u=await e.queryRelatedFeaturesCount(n,{signal:l?.signal});this._set(\"featureCount\",u[o]||0)}_sliceFeatures(e){const{showAllEnabled:t,displayCount:r}=this;return t?e:r?e.slice(0,r):[]}async _queryPage(){const{relatedFeatures:e,featurePage:t,showAllEnabled:r,_queryPageAbortController:o,featureCount:l}=this;!r||t<2||!l||e.addMany(await this._queryRelatedFeatures({signal:o?.signal}))}async _queryRelatedFeatures(e){const{orderByFieldsFixedCasing:t,showAllEnabled:r,featuresPerPage:l,displayCount:a,layer:s,relationshipId:i,featurePage:n,featureCount:u,relatedLayer:d,supportsCacheHint:y}=this,{canQuery:h,objectId:p}=this;if(!h||!s||!d)return[];const C=r?((n-1)*l+u)%u:0,b=r?l:a,g=d.objectIdField,_=[...t.map((e=>e.field)),...F(d),g].filter(o),f=t.map((e=>`${e.field} ${e.order}`)),m=d.createQuery(),q=new c({orderByFields:f,start:C,num:b,outFields:_,cacheHint:y,relationshipId:i,returnGeometry:!1,objectIds:[p],where:m.where??void 0}),A=await s.queryRelatedFeatures(q,{signal:e?.signal}),w=A[p]?.features||[];return w.forEach((e=>{e.sourceLayer=d,e.layer=d})),w}};e([h()],m.prototype,\"_loaded\",void 0),e([h()],m.prototype,\"_queryAbortController\",void 0),e([h()],m.prototype,\"_queryPageAbortController\",void 0),e([h()],m.prototype,\"_queryFeatureCountAbortController\",void 0),e([h({value:1})],m.prototype,\"featurePage\",null),e([h()],m.prototype,\"featuresPerPage\",void 0),e([h({readOnly:!0})],m.prototype,\"orderByFieldsFixedCasing\",null),e([h({readOnly:!0})],m.prototype,\"supportsCacheHint\",null),e([h({readOnly:!0})],m.prototype,\"canLoad\",null),e([h({readOnly:!0})],m.prototype,\"canQuery\",null),e([h()],m.prototype,\"description\",void 0),e([h({readOnly:!0})],m.prototype,\"itemDescriptionFieldName\",null),e([h({value:3})],m.prototype,\"displayCount\",null),e([h({type:t})],m.prototype,\"graphic\",void 0),e([h()],m.prototype,\"layer\",void 0),e([h()],m.prototype,\"map\",void 0),e([h({readOnly:!0})],m.prototype,\"objectId\",null),e([h({readOnly:!0})],m.prototype,\"objectIdField\",null),e([h()],m.prototype,\"orderByFields\",void 0),e([h({readOnly:!0})],m.prototype,\"relatedFeatures\",null),e([h({readOnly:!0})],m.prototype,\"relatedFeatureInfos\",null),e([h({readOnly:!0})],m.prototype,\"relatedLayer\",null),e([h({readOnly:!0})],m.prototype,\"relationship\",null),e([h()],m.prototype,\"featureCount\",void 0),e([h({readOnly:!0})],m.prototype,\"relatedFeatureViewModels\",null),e([h()],m.prototype,\"relationshipId\",void 0),e([h()],m.prototype,\"showAllEnabled\",void 0),e([h()],m.prototype,\"state\",null),e([h()],m.prototype,\"title\",void 0),e([h()],m.prototype,\"getRelatedFeatureByObjectId\",null),m=e([p(\"esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel\")],m);const q=m;export{q as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{after as s}from\"../../core/promiseUtils.js\";import{watch as i,initial as r,on as o}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as l}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"../Widget.js\";import c from\"./FeatureRelationship/FeatureRelationshipViewModel.js\";import u from\"./support/FeatureElementInfo.js\";import{loadCalciteComponents as h}from\"../support/componentsUtils.js\";import{isRTL as p}from\"../support/widgetUtils.js\";import{messageBundle as m}from\"../support/decorators/messageBundle.js\";import{tsx as v}from\"../support/jsxFactory.js\";import{substitute as g}from\"../../intl/substitute.js\";const w=\"esri-feature\",b=`${w}-relationship`,f={base:b,esriWidget:\"esri-widget\",listContainer:`${b}__list`,listItem:`${b}__list-item`,listItemHidden:`${b}__list-item--hidden`,listContainerQuerying:`${b}__list--querying`,featureObserver:`${w}__feature-observer`,stickySpinnerContainer:`${w}__sticky-loading-container`,loadingSpinnerContainer:`${w}__loading-container`,spinner:`${w}__loading-spinner`,iconLoading:\"esri-icon-loading-indicator esri-rotating\"},y={title:!0,description:!0};let F=class extends d{constructor(e,t){super(e,t),this._featureElementInfo=null,this._relatedFeatureIntersectionObserverNode=null,this._relatedFeatureIntersectionObserver=new IntersectionObserver((([e])=>{e?.isIntersecting&&this._increaseFeaturePage()}),{root:window.document}),this.headingLevel=2,this.viewModel=new c,this.messages=null,this.messagesCommon=null,this.visibleElements={...y},this._increaseFeaturePage=()=>{const{state:e,showAllEnabled:t,relatedFeatures:s,featuresPerPage:i,featurePage:r}=this.viewModel;\"ready\"===e&&t&&s.length>=i*r&&this.viewModel.featurePage++}}initialize(){this._featureElementInfo=new u,this.addHandles([i((()=>[this.viewModel.description,this.viewModel.title,this.headingLevel]),(()=>this._setupFeatureElementInfo()),r),i((()=>[this.viewModel.state,this.viewModel.showAllEnabled,this._relatedFeatureIntersectionObserverNode]),(()=>this._handleRelatedFeatureObserverChange())),o((()=>this.viewModel.relatedFeatureViewModels),\"change\",(()=>this._setupRelatedFeatureViewModels()))])}loadDependencies(){return h({icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\"),list:()=>import(\"@esri/calcite-components/dist/components/calcite-list.js\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item.js\"),notice:()=>import(\"@esri/calcite-components/dist/components/calcite-notice.js\")})}destroy(){this._unobserveRelatedFeatureObserver(),this._featureElementInfo=t(this._featureElementInfo)}get displayShowAllButton(){const{showAllEnabled:e,featureCount:t,displayCount:s,state:i}=this.viewModel;return!e&&!!t&&\"ready\"===i&&(t>s||0===s)}get displayListItems(){return this.displayShowAllButton||this.viewModel.relatedFeatureViewModels.length>0}get description(){return this.viewModel.description}set description(e){this.viewModel.description=e}get featureCountDescription(){const{messages:e}=this,{featureCount:t}=this.viewModel;return g(e?.numberRecords,{number:t})}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}castVisibleElements(e){return{...y,...e}}renderStickyLoading(){return\"querying\"===this.viewModel.state?v(\"div\",{key:\"sticky-loader\",class:f.stickySpinnerContainer},this.renderLoadingIcon()):null}renderLoadingIcon(){return v(\"span\",{class:this.classes(f.iconLoading,f.spinner)})}renderLoading(){return v(\"div\",{key:\"loading-container\",class:f.loadingSpinnerContainer},this.renderLoadingIcon())}renderShowAllIconNode(){return v(\"calcite-icon\",{scale:\"s\",icon:\"list\",slot:\"content-end\"})}renderChevronIconNode(){const e=p(this.container)?\"chevron-left\":\"chevron-right\";return v(\"calcite-icon\",{scale:\"s\",icon:e,slot:\"content-end\"})}renderRelatedFeature(e){const{itemDescriptionFieldName:t}=this.viewModel,s=e.title;e.description=t&&e.formattedAttributes?.global[t];const i=\"loading\"===e.state;return v(\"calcite-list-item\",{class:this.classes(f.listItem,{[f.listItemHidden]:i}),key:e.uid,label:s,description:e.description??\"\",onCalciteListItemSelect:()=>this.emit(\"select-record\",{featureViewModel:e})},this.renderChevronIconNode())}renderShowAllListItem(){return this.displayShowAllButton?v(\"calcite-list-item\",{key:\"show-all-item\",label:this.messages?.showAll,description:this.featureCountDescription,onCalciteListItemSelect:()=>this.emit(\"show-all-records\")},this.renderShowAllIconNode()):null}renderNoRelatedFeaturesMessage(){return v(\"calcite-notice\",{key:\"no-related-features-message\",icon:\"information\",open:!0,kind:\"brand\",scale:\"s\",width:\"full\"},v(\"div\",{slot:\"message\"},this.messages?.noRelatedFeatures))}renderFeatureObserver(){return v(\"div\",{key:\"feature-observer\",class:f.featureObserver,bind:this,afterCreate:this._relatedFeatureIntersectionObserverCreated})}renderList(){const{relatedFeatureViewModels:e}=this.viewModel;return v(\"calcite-list\",null,e.toArray().map((e=>this.renderRelatedFeature(e))),this.renderShowAllListItem())}renderRelatedFeatures(){const{displayListItems:e}=this,{state:t}=this.viewModel;return v(\"div\",{key:\"list-container\",class:this.classes(f.listContainer,{[f.listContainerQuerying]:\"querying\"===t})},e?this.renderList():\"ready\"===t?this.renderNoRelatedFeaturesMessage():null,this.renderStickyLoading(),this.renderFeatureObserver())}renderRelationshipNotFound(){return v(\"calcite-notice\",{key:\"relationship-not-found\",icon:\"exclamation-mark-triangle\",open:!0,kind:\"danger\",scale:\"s\",width:\"full\"},v(\"div\",{slot:\"message\"},this.messages?.relationshipNotFound))}render(){const{state:e}=this.viewModel;return v(\"div\",{class:this.classes(f.base,f.esriWidget)},this._featureElementInfo?.render(),\"loading\"===e?this.renderLoading():\"disabled\"===e?this.renderRelationshipNotFound():this.renderRelatedFeatures())}_setupRelatedFeatureViewModels(){const{relatedFeatureViewModels:e}=this.viewModel,t=\"related-feature-viewmodels\";this.removeHandles(t),e?.forEach((e=>{this.addHandles(i((()=>[e.title,e.state]),(()=>this.scheduleRender()),r),t)})),this.scheduleRender()}_setupFeatureElementInfo(){const{headingLevel:e,visibleElements:t}=this,s=t.description&&this.description,i=t.title&&this.title;this._featureElementInfo?.set({description:s,title:i,headingLevel:e})}async _handleRelatedFeatureObserverChange(){this._unobserveRelatedFeatureObserver();const{state:e,showAllEnabled:t}=this.viewModel;await s(0),this._relatedFeatureIntersectionObserverNode&&\"ready\"===e&&t&&this._relatedFeatureIntersectionObserver.observe(this._relatedFeatureIntersectionObserverNode)}_relatedFeatureIntersectionObserverCreated(e){this._relatedFeatureIntersectionObserverNode=e}_unobserveRelatedFeatureObserver(){this._relatedFeatureIntersectionObserverNode&&this._relatedFeatureIntersectionObserver.unobserve(this._relatedFeatureIntersectionObserverNode)}};e([n()],F.prototype,\"_relatedFeatureIntersectionObserverNode\",void 0),e([n({readOnly:!0})],F.prototype,\"displayShowAllButton\",null),e([n({readOnly:!0})],F.prototype,\"displayListItems\",null),e([n()],F.prototype,\"description\",null),e([n({readOnly:!0})],F.prototype,\"featureCountDescription\",null),e([n()],F.prototype,\"headingLevel\",void 0),e([n()],F.prototype,\"title\",null),e([n({type:c})],F.prototype,\"viewModel\",void 0),e([n(),m(\"esri/widgets/Feature/t9n/Feature\")],F.prototype,\"messages\",void 0),e([n(),m(\"esri/t9n/common\")],F.prototype,\"messagesCommon\",void 0),e([n()],F.prototype,\"visibleElements\",void 0),e([l(\"visibleElements\")],F.prototype,\"castVisibleElements\",null),F=e([a(\"esri.widgets.Feature.FeatureRelationship\")],F);const _=F;export{_ as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass e{constructor(e,a){this.preLayerQueryCallback=e,this.preRequestCallback=a,this.preLayerQueryCallback||(this.preLayerQueryCallback=e=>{}),this.preRequestCallback||(this.preLayerQueryCallback=e=>{})}}export{e as FeatureSetQueryInterceptor};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import{FeatureSetQueryInterceptor as i}from\"../../arcade/featureset/support/FeatureSetQueryInterceptor.js\";import r from\"../../core/Accessor.js\";import{isSome as s}from\"../../core/arrayUtils.js\";import o from\"../../core/Handles.js\";import{IdentifiableMixin as n}from\"../../core/Identifiable.js\";import a from\"../../core/Logger.js\";import{isAbortError as l,eachAlways as p}from\"../../core/promiseUtils.js\";import{watch as c,on as d,initial as u}from\"../../core/reactiveUtils.js\";import{throttle as h}from\"../../core/throttle.js\";import{property as f}from\"../../core/accessorSupport/decorators/property.js\";import{cast as m}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import{subclass as _}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"../../popup/content/TextContent.js\";import g from\"./FeatureAttachments/FeatureAttachmentsViewModel.js\";import b from\"./FeatureContent/FeatureContentViewModel.js\";import I from\"./FeatureExpression/FeatureExpressionViewModel.js\";import A from\"./FeatureFields/FeatureFieldsViewModel.js\";import M from\"./FeatureMedia/FeatureMediaViewModel.js\";import w from\"./FeatureRelationship/FeatureRelationshipViewModel.js\";import{createCompiledExpressions as x}from\"./support/arcadeFeatureUtils.js\";import{createfieldInfoMap as F,getAllFieldInfos as v,getSourceLayer as C,querySourceLayer as T,isRelatableFeatureSupportedLayer as E,substituteFieldsInLinksAndAttributes as V,isExpressionField as j,isRelatedField as P,formatEditInfo as R,graphicCallback as L,queryUpdatedFeature as O,formatAttributes as S,preLayerQueryCallback as k,preRequestCallback as U}from\"./support/featureUtils.js\";import{queryLayerInfos as D,queryRelatedFeatures as N,setRelatedFeatures as q,getRelatedFieldInfo as B,createRelatedInfo as Q,updateRelatedInfo as G}from\"./support/relatedFeatureUtils.js\";var H;const z=1,J=\"content-view-models\",K=\"relationship-view-models\",W={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0};let X=H=class extends(n(r)){constructor(e){super(e),this._handles=new o,this._error=null,this._featureAbortController=null,this._graphicChangedThrottled=h(this._graphicChanged,z,this),this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...W},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.relatedInfos=new Map,this.title=\"\",this.view=null,this._isAllowedContentType=e=>{const{abilities:t}=this;return\"attachments\"===e.type&&!!t.attachmentsContent||\"custom\"===e.type&&!!t.customContent||\"fields\"===e.type&&!!t.fieldsContent||\"media\"===e.type&&!!t.mediaContent||\"text\"===e.type&&!!t.textContent||\"expression\"===e.type&&!!t.expressionContent||\"relationship\"===e.type&&!!t.relationshipContent},this._handles.add(c((()=>[this.graphic,this._effectivePopupTemplate,this.abilities]),(()=>this._graphicChangedThrottled()),u))}initialize(){this.addHandles(this._graphicChangedThrottled)}destroy(){this._clear(),this._cancelFeatureQuery(),this._error=null,this._handles.destroy(),this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return null!=this.graphic?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return F(v(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return C(this.graphic)}castAbilities(e){return{...W,...e}}get isTable(){return this._sourceLayer?.isTable||!1}get state(){return this.graphic?this._error?\"error\":this.waitingForContent?\"loading\":\"ready\":\"disabled\"}set graphic(e){this._set(\"graphic\",e?e.clone():null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(e){this._override(\"spatialReference\",e)}get map(){return this.view?.map||null}set map(e){this._override(\"map\",e)}get waitingForContent(){return!!this._featureAbortController}setActiveMedia(e,t){const i=this.contentViewModels[e];i instanceof M&&i.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof M&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof M&&t.previous()}async updateGeometry(){const{graphic:e,spatialReference:t,_sourceLayer:i}=this;await(i?.load());const r=i?.objectIdField;if(!r||!e||!i)return;const s=e?.attributes?.[r];if(null==s)return;const o=[s];if(!e.geometry){const r=await T({layer:i,graphic:e,outFields:[],objectIds:o,returnGeometry:!0,spatialReference:t}),s=r?.geometry;s&&(e.geometry=s)}}_clear(){this._set(\"title\",\"\"),this._set(\"content\",null),this._set(\"formattedAttributes\",null)}async _graphicChanged(){this._cancelFeatureQuery(),this._error=null,this._clear();const{graphic:e}=this;if(!e)return;const t=new AbortController;this._featureAbortController=t;try{await this._queryFeature({signal:t.signal})}catch(i){l(i)||(this._error=i,a.getLogger(this).error(\"error\",\"The popupTemplate could not be displayed for this feature.\",{error:i,graphic:e,popupTemplate:this._effectivePopupTemplate}))}this._featureAbortController===t&&(this._featureAbortController=null)}_cancelFeatureQuery(){const{_featureAbortController:e}=this;e&&e.abort(),this._featureAbortController=null}_compileContentElement(e,t){return\"attachments\"===e.type?this._compileAttachments(e,t):\"custom\"===e.type?this._compileCustom(e,t):\"fields\"===e.type?this._compileFields(e,t):\"media\"===e.type?this._compileMedia(e,t):\"text\"===e.type?this._compileText(e,t):\"expression\"===e.type?this._compileExpression(e,t):\"relationship\"===e.type?this._compileRelationship(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map(((e,t)=>this._compileContentElement(e,t))).filter(s):\"string\"==typeof e?this._compileText(new y({text:e}),0).text:e}_destroyContentViewModels(){this._handles?.remove(K),this._handles?.remove(J),this.contentViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"contentViewModels\",[])}_matchesFeature(e,t){const i=e?.graphic?.getObjectId(),r=t?.getObjectId();return null!=i&&null!=r&&i===r}_setRelatedFeaturesViewModels({relatedFeatureViewModels:e,relatedFeatures:t,map:i}){const{view:r,spatialReference:s}=this;t?.filter(Boolean).forEach((t=>{e.find((e=>this._matchesFeature(e,t)))||e.add(new H({abilities:{relationshipContent:!1},map:i,view:r,spatialReference:s,graphic:t}))})),e.forEach((i=>{const r=t?.find((e=>this._matchesFeature(i,e)));r||e.remove(i)}))}_setExpressionContentVM(e,t){const i=this.formattedAttributes,{contentElement:r,contentElementViewModel:s}=e,o=r?.type;s&&o&&(\"fields\"===o&&(this._createFieldsFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:i}),s.set(this._createFieldsVMParams(r,t))),\"media\"===o&&(this._createMediaFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:i}),s.set(this._createMediaVMParams(r,t))),\"text\"===o&&s.set(this._createTextVMParams(r)))}_compileRelationship(e,t){const{displayCount:i,orderByFields:r,relationshipId:s,title:o,description:n}=e,{_sourceLayer:a,graphic:l,map:p}=this;if(!E(a))return;const c=new w({displayCount:i,graphic:l,orderByFields:r,relationshipId:s,layer:a,map:p,...this._compileTitleAndDesc({title:o,description:n})});return this.contentViewModels[t]=c,this._handles.add(d((()=>c.relatedFeatures),\"change\",(()=>this._setRelatedFeaturesViewModels(c))),K),e}_compileExpression(e,t){const{expressionInfo:i}=e,{graphic:r,map:s,spatialReference:o,view:n}=this,a=new I({expressionInfo:i,graphic:r,interceptor:H.interceptor,map:s,spatialReference:o,view:n});return this.contentViewModels[t]=a,this._handles.add(c((()=>a.contentElementViewModel),(()=>this._setExpressionContentVM(a,t)),u),J),e}_compileAttachments(e,t){const{graphic:i}=this,{description:r,title:s}=e;return this.contentViewModels[t]=new g({graphic:i,...this._compileTitleAndDesc({title:s,description:r})}),e}_compileCustom(e,t){const{graphic:i}=this,{creator:r,destroyer:s}=e;return this.contentViewModels[t]=new b({graphic:i,creator:r,destroyer:s}),e}_compileTitleAndDesc({title:e,description:t}){const{_fieldInfoMap:i,_sourceLayer:r,graphic:s,formattedAttributes:o}=this,n=s?.attributes,a=this._expressionAttributes,l=o.global;return{title:V({attributes:n,fieldInfoMap:i,globalAttributes:l,expressionAttributes:a,layer:r,text:e}),description:V({attributes:n,fieldInfoMap:i,globalAttributes:l,expressionAttributes:a,layer:r,text:t})}}_createFieldsVMParams(e,t){const i=this._effectivePopupTemplate,r=this.formattedAttributes,s={...r?.global,...r?.content[t]},o=e?.fieldInfos||i?.fieldInfos,n=o?.filter((({fieldName:e})=>j(e)||P(e)||s.hasOwnProperty(e))),a=i?.expressionInfos,{description:l,title:p}=e;return{attributes:s,expressionInfos:a,fieldInfos:n,...this._compileTitleAndDesc({title:p,description:l})}}_compileFields(e,t){const i=e.clone(),r=new A(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=r,i.fieldInfos=r.formattedFieldInfos.slice(0),i}_createMediaVMParams(e,t){const{abilities:i,graphic:r,_fieldInfoMap:s,_effectivePopupTemplate:o,relatedInfos:n,_sourceLayer:a,_expressionAttributes:l}=this,p=this.formattedAttributes,c=r?.attributes??{},{description:d,mediaInfos:u,title:h}=e;return{abilities:{chartAnimation:i.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:c,isAggregate:r?.isAggregate,layer:a,fieldInfoMap:s,formattedAttributes:{...p?.global,...p?.content[t]},expressionAttributes:l,mediaInfos:u,popupTemplate:o,relatedInfos:n,...this._compileTitleAndDesc({title:h,description:d})}}_compileMedia(e,t){const i=e.clone(),r=new M(this._createMediaVMParams(e,t));return i.mediaInfos=r.formattedMediaInfos.slice(0),this.contentViewModels[t]=r,i}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:i,_sourceLayer:r,_expressionAttributes:s}=this;if(e&&e.text){const o=t?.attributes??{},n=this.formattedAttributes?.global??{};e.text=V({attributes:o,fieldInfoMap:i,globalAttributes:n,expressionAttributes:s,layer:r,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const i=e.clone();return this.contentViewModels[t]=new b(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:i}=this;if(!e)return;const{lastEditInfoEnabled:r}=e,s=t?.editFieldsInfo;return r&&s?R(s,i?.attributes):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:i,graphic:r,_expressionAttributes:s}=this,o=r?.attributes??{},n=this.formattedAttributes?.global??{};return V({attributes:o,fieldInfoMap:t,globalAttributes:n,expressionAttributes:s,layer:i,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const i=e?.title;return L(i,{graphic:t})}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this;if(!t)return null;const i=e?.content;return L(i,{graphic:t})}async _queryFeature(e){const{_featureAbortController:t,_sourceLayer:i,graphic:r,_effectivePopupTemplate:s}=this,o=this.map,n=this.view,a=this.spatialReference;if(t!==this._featureAbortController||!r)return;await O({graphic:r,popupTemplate:s,layer:i,spatialReference:a},e);const{content:{value:l},title:{value:c}}=await p({content:this._getContent(),title:this._getTitle()}),{expressionAttributes:{value:d}}=await p({checkForRelatedFeatures:this._checkForRelatedFeatures(e),expressionAttributes:x({expressionInfos:s?.expressionInfos,spatialReference:a,graphic:r,map:o,interceptor:H.interceptor,view:n})});t===this._featureAbortController&&r&&(this._expressionAttributes=d,this._graphicExpressionAttributes={...r.attributes,...d},this._set(\"formattedAttributes\",this._createFormattedAttributes(l)),this._set(\"title\",this._compileTitle(c)),this._set(\"lastEditInfo\",this._compileLastEditInfo()||null),this._set(\"content\",this._compileContent(l)||null))}_createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){const{_effectivePopupTemplate:r,graphic:s,relatedInfos:o,_sourceLayer:n,_fieldInfoMap:a,_graphicExpressionAttributes:l}=this;i.content[t]=S({fieldInfos:r?.fieldInfos,graphic:s,attributes:{...l,...e.attributes},layer:n,fieldInfoMap:a,relatedInfos:o})}_createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:i}){if(e.fieldInfos){const{graphic:r,relatedInfos:s,_sourceLayer:o,_fieldInfoMap:n,_graphicExpressionAttributes:a}=this;i.content[t]=S({fieldInfos:e.fieldInfos,graphic:r,attributes:{...a,...e.attributes},layer:o,fieldInfoMap:n,relatedInfos:s})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:i,relatedInfos:r,_sourceLayer:s,_fieldInfoMap:o,_graphicExpressionAttributes:n}=this,a=t?.fieldInfos,l={global:S({fieldInfos:a,graphic:i,attributes:n,layer:s,fieldInfoMap:o,relatedInfos:r}),content:[]};return Array.isArray(e)&&e.forEach(((e,t)=>{\"fields\"===e.type&&this._createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:l}),\"media\"===e.type&&this._createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:l})})),l}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(t,v(i),e)}async _queryRelatedInfos(e,t,i){const{relatedInfos:r,_sourceLayer:s}=this;r.clear();const o=null!=s?.associatedLayer?await(s?.associatedLayer.load(i)):s;if(!o||!e)return;const n=t.filter((e=>e&&P(e.fieldName)));if(!n||!n.length)return;t.forEach((e=>this._configureRelatedInfo(e,o)));const a=await D({relatedInfos:r,layer:o},i);Object.keys(a).forEach((e=>{const t=r.get(e.toString()),i=a[e]?.value;t&&i&&(t.layerInfo=i.data)}));const l=await N({graphic:e,relatedInfos:r,layer:o},i);Object.keys(l).forEach((e=>{q(l[e]?.value,r.get(e.toString()))}))}_configureRelatedInfo(e,t){const{relatedInfos:i}=this,r=B(e.fieldName);if(!r)return;const{layerId:s,fieldName:o}=r;if(!s)return;const n=i.get(s.toString())||Q(s,t);n&&(G({relatedInfo:n,fieldName:o,fieldInfo:e}),this.relatedInfos.set(s,n))}};X.interceptor=new i(k,U),e([f()],X.prototype,\"_error\",void 0),e([f()],X.prototype,\"_featureAbortController\",void 0),e([f({readOnly:!0})],X.prototype,\"_effectivePopupTemplate\",null),e([f({readOnly:!0})],X.prototype,\"_fieldInfoMap\",null),e([f({readOnly:!0})],X.prototype,\"_sourceLayer\",null),e([f()],X.prototype,\"abilities\",void 0),e([m(\"abilities\")],X.prototype,\"castAbilities\",null),e([f({readOnly:!0})],X.prototype,\"content\",void 0),e([f({readOnly:!0})],X.prototype,\"contentViewModels\",void 0),e([f()],X.prototype,\"description\",void 0),e([f({type:Boolean})],X.prototype,\"defaultPopupTemplateEnabled\",void 0),e([f({readOnly:!0})],X.prototype,\"isTable\",null),e([f({readOnly:!0})],X.prototype,\"state\",null),e([f({readOnly:!0})],X.prototype,\"formattedAttributes\",void 0),e([f({type:t,value:null})],X.prototype,\"graphic\",null),e([f({readOnly:!0})],X.prototype,\"lastEditInfo\",void 0),e([f({readOnly:!0})],X.prototype,\"relatedInfos\",void 0),e([f()],X.prototype,\"spatialReference\",null),e([f({readOnly:!0})],X.prototype,\"title\",void 0),e([f()],X.prototype,\"map\",null),e([f({readOnly:!0})],X.prototype,\"waitingForContent\",null),e([f()],X.prototype,\"view\",void 0),X=H=e([_(\"esri.widgets.FeatureViewModel\")],X);const Y=X;export{Y as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=\"esri-feature\",t={iconText:\"esri-icon-font-fallback-text\",iconLoading:\"esri-icon-loading-indicator esri-rotating\",esriTable:\"esri-widget__table\",esriWidget:\"esri-widget\",base:e,container:`${e}__size-container`,title:`${e}__title`,main:`${e}__main-container`,btn:`${e}__button`,icon:`${e}__icon`,content:`${e}__content`,contentNode:`${e}__content-node`,contentElement:`${e}__content-element`,text:`${e}__text`,lastEditedInfo:`${e}__last-edited-info`,fields:`${e}__fields`,fieldHeader:`${e}__field-header`,fieldData:`${e}__field-data`,fieldDataDate:`${e}__field-data--date`,loadingSpinnerContainer:`${e}__loading-container`,spinner:`${e}__loading-spinner`};export{t as CSS};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{CSS as r}from\"../resources.js\";import{isWidget as t,hasDomNode as s}from\"../../support/widget.js\";import{tsx as c}from\"../../support/jsxFactory.js\";const i=i=>{let n=class extends i{constructor(){super(...arguments),this.renderNodeContent=e=>t(e)&&!e.destroyed?c(\"div\",{class:r.contentNode,key:e},e.render()):e instanceof HTMLElement?c(\"div\",{class:r.contentNode,key:e,bind:e,afterCreate:this._attachToNode}):s(e)?c(\"div\",{class:r.contentNode,key:e,bind:e.domNode,afterCreate:this._attachToNode}):null}_attachToNode(e){const o=this;e.appendChild(o)}};return n=e([o(\"esri.widgets.Feature.ContentMixin\")],n),n};export{i as FeatureContentMixin};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import{watch as t,on as s,initial as i}from\"../core/reactiveUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import{cast as r}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./Widget.js\";import d from\"./Feature/FeatureAttachments.js\";import a from\"./Feature/FeatureContent.js\";import c from\"./Feature/FeatureExpression.js\";import p from\"./Feature/FeatureFields.js\";import u from\"./Feature/FeatureMedia.js\";import h from\"./Feature/FeatureRelationship.js\";import m from\"./Feature/FeatureViewModel.js\";import{CSS as v}from\"./Feature/resources.js\";import{FeatureContentMixin as y}from\"./Feature/support/FeatureContentMixin.js\";import{loadCalciteComponents as g}from\"./support/componentsUtils.js\";import{Heading as w}from\"./support/Heading.js\";import\"./support/widgetUtils.js\";import{messageBundle as f}from\"./support/decorators/messageBundle.js\";import{tsx as M}from\"./support/jsxFactory.js\";import{substitute as E}from\"../intl/substitute.js\";var b;const _={title:!0,content:!0,lastEditedInfo:!0},W=\"relationship-handles\";let j=b=class extends(y(l)){constructor(e,t){super(e,t),this._contentWidgets=[],this.flowItems=null,this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.visibleElements={..._},this.viewModel=new m}initialize(){this.addHandles(t((()=>this.viewModel?.contentViewModels),(()=>this._setupContentWidgets()),i))}loadDependencies(){return g({notice:()=>import(\"@esri/calcite-components/dist/components/calcite-notice.js\")})}destroy(){this._destroyContentWidgets()}get graphic(){return this.viewModel.graphic}set graphic(e){this.viewModel.graphic=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get isTable(){return this.viewModel.isTable}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(e){this.viewModel.spatialReference=e}get title(){return this.viewModel.title}castVisibleElements(e){return{..._,...e}}get map(){return this.viewModel.map}set map(e){this.viewModel.map=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{state:e}=this.viewModel,t=M(\"div\",{class:v.container,key:\"container\"},this.renderTitle(),\"error\"===e?this.renderError():\"loading\"===e?this.renderLoading():this.renderContentContainer());return M(\"div\",{class:this.classes(v.base,v.esriWidget)},t)}setActiveMedia(e,t){return this.viewModel.setActiveMedia(e,t)}nextMedia(e){return this.viewModel.nextMedia(e)}previousMedia(e){return this.viewModel.previousMedia(e)}renderError(){const{messagesCommon:e,messages:t,visibleElements:s}=this;return M(\"calcite-notice\",{open:!0,kind:\"danger\",icon:\"exclamation-mark-circle\",scale:\"s\"},s.title?M(\"div\",{key:\"error-title\",slot:\"title\"},e.errorMessage):null,M(\"div\",{key:\"error-message\",slot:\"message\"},t.loadingError))}renderLoading(){return M(\"div\",{key:\"loading-container\",class:v.loadingSpinnerContainer},M(\"span\",{class:this.classes(v.iconLoading,v.spinner)}))}renderContentContainer(){const{visibleElements:e}=this;return e.content?M(\"div\",{class:v.main},[this.renderContent(),this.renderLastEditInfo()]):null}renderTitle(){const{visibleElements:e,title:t}=this;return e.title?M(w,{level:this.headingLevel,class:v.title,innerHTML:t}):null}renderContent(){const e=this.viewModel.content,t=\"content\";if(!e)return null;if(Array.isArray(e))return e.length?M(\"div\",{class:v.contentNode,key:`${t}-content-elements`},e.map(this.renderContentElement,this)):null;if(\"string\"==typeof e){const e=this._contentWidgets[0];return!e||e.destroyed?null:M(\"div\",{class:v.contentNode,key:`${t}-content`},e.render())}return this.renderNodeContent(e)}renderContentElement(e,t){const{visibleElements:s}=this;if(\"boolean\"!=typeof s.content&&!s.content?.[e.type])return null;switch(e.type){case\"attachments\":return this.renderAttachments(t);case\"custom\":return this.renderCustom(e,t);case\"fields\":return this.renderFields(t);case\"media\":return this.renderMedia(t);case\"text\":return this.renderText(e,t);case\"expression\":return this.renderExpression(t);case\"relationship\":return this.renderRelationship(t);default:return null}}renderAttachments(e){const t=this._contentWidgets[e];if(!t||t.destroyed)return null;const{state:s,attachmentInfos:i}=t.viewModel;return\"loading\"===s||i.length>0?M(\"div\",{key:this._buildKey(\"attachments-element\",e),class:this.classes(v.contentElement)},t.render()):null}renderRelationship(e){const t=this._contentWidgets[e];return t&&!t.destroyed&&this.flowItems?M(\"div\",{key:this._buildKey(\"relationship-element\",e),class:v.contentElement},t.render()):null}renderExpression(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:M(\"div\",{key:this._buildKey(\"expression-element\",e),class:v.contentElement},t.render())}renderCustom(e,t){const{creator:s}=e,i=this._contentWidgets[t];return!i||i.destroyed?null:s?M(\"div\",{key:this._buildKey(\"custom-element\",t),class:v.contentElement},i.render()):null}renderFields(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:M(\"div\",{key:this._buildKey(\"fields-element\",e),class:v.contentElement},t.render())}renderMedia(e){const t=this._contentWidgets[e];return!t||t.destroyed?null:M(\"div\",{key:this._buildKey(\"media-element\",e),class:v.contentElement},t.render())}renderLastEditInfo(){const{visibleElements:e,messages:t}=this,{lastEditInfo:s}=this.viewModel;if(!s||!e.lastEditedInfo)return null;const{date:i,user:n}=s,r=\"edit\"===s.type?n?t.lastEditedByUser:t.lastEdited:n?t.lastCreatedByUser:t.lastCreated,o=E(r,{date:i,user:n});return M(\"div\",{key:\"edit-info-element\",class:this.classes(v.lastEditedInfo,v.contentElement)},o)}renderText(e,t){const s=e.text,i=this._contentWidgets[t];return!i||i.destroyed?null:s?M(\"div\",{key:this._buildKey(\"text-element\",t),class:this.classes(v.contentElement,v.text)},i.render()):null}_buildKey(e,...t){return`${e}__${this.get(\"viewModel.graphic.uid\")||\"0\"}-${t.join(\"-\")}`}_destroyContentWidget(e){e&&(e.viewModel=null,!e.destroyed&&e.destroy())}_destroyContentWidgets(){this.removeHandles(W),this._contentWidgets.forEach((e=>this._destroyContentWidget(e))),this._contentWidgets=[]}_addFeatureRelationshipHandles(e){const{flowItems:t,visibleElements:i}=this;this.addHandles([s((()=>e),\"select-record\",(({featureViewModel:e})=>{t&&(e.abilities={relationshipContent:!0},t.push(new b({flowItems:t,viewModel:e,visibleElements:i})))})),s((()=>e),\"show-all-records\",(()=>{if(!t)return;const{viewModel:s}=e;s.showAllEnabled=!0;const i=new h({visibleElements:{title:!1,description:!1},viewModel:s});this._addFeatureRelationshipHandles(i),t.push(i)}))],W)}_setupContentWidgets(){this._destroyContentWidgets();const{headingLevel:e,visibleElements:t}=this,s=this.get(\"viewModel.content\"),{contentViewModels:i}=this.viewModel;if(Array.isArray(s))s.forEach(((s,n)=>{if(\"attachments\"===s.type&&(this._contentWidgets[n]=new d({displayType:s.displayType,headingLevel:t.title?e+1:e,viewModel:i[n]})),\"fields\"===s.type&&(this._contentWidgets[n]=new p({viewModel:i[n]})),\"media\"===s.type&&(this._contentWidgets[n]=new u({viewModel:i[n]})),\"text\"===s.type&&(this._contentWidgets[n]=new a({viewModel:i[n]})),\"custom\"===s.type&&(this._contentWidgets[n]=new a({viewModel:i[n]})),\"expression\"===s.type&&(this._contentWidgets[n]=new c({viewModel:i[n]})),\"relationship\"===s.type){const e=new h({viewModel:i[n]});this._addFeatureRelationshipHandles(e),this._contentWidgets[n]=e}}),this);else{const e=i[0];e&&!e.destroyed&&(this._contentWidgets[0]=new a({viewModel:e}))}this.scheduleRender()}};e([n()],j.prototype,\"graphic\",null),e([n()],j.prototype,\"defaultPopupTemplateEnabled\",null),e([n()],j.prototype,\"flowItems\",void 0),e([n()],j.prototype,\"headingLevel\",void 0),e([n({readOnly:!0})],j.prototype,\"isTable\",null),e([n()],j.prototype,\"label\",null),e([n(),f(\"esri/widgets/Feature/t9n/Feature\")],j.prototype,\"messages\",void 0),e([n(),f(\"esri/t9n/common\")],j.prototype,\"messagesCommon\",void 0),e([n(),f(\"esri/widgets/support/t9n/uriUtils\")],j.prototype,\"messagesURIUtils\",void 0),e([n()],j.prototype,\"spatialReference\",null),e([n({readOnly:!0})],j.prototype,\"title\",null),e([n()],j.prototype,\"visibleElements\",void 0),e([r(\"visibleElements\")],j.prototype,\"castVisibleElements\",null),e([n()],j.prototype,\"map\",null),e([n()],j.prototype,\"view\",null),e([n({type:m})],j.prototype,\"viewModel\",void 0),j=b=e([o(\"esri.widgets.Feature\")],j);const C=j;export{C as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import t from\"../../core/Handles.js\";import{destroyMaybe as r,applySome as s}from\"../../core/maybe.js\";import{when as i,watch as n}from\"../../core/reactiveUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";var l;const p=Symbol(\"anchorHandles\");let d=class extends e.EventedAccessor{constructor(o){super(o),this[l]=new t,this.location=null,this.screenLocationEnabled=!1,this.view=null,this[p].add([i((()=>s(this.screenLocationEnabled?this.view:null,(o=>[o.size,\"3d\"===o.type?o.camera:o.viewpoint]))),(()=>this.notifyChange(\"screenLocation\"))),n((()=>this.screenLocation),((o,e)=>{null!=o&&null!=e&&this.emit(\"view-change\")}))])}destroy(){this.view=null,this[p]=r(this[p])}get screenLocation(){const{location:o,view:e,screenLocationEnabled:t}=this;return t&&null!=o&&null!=e&&e.ready?e.toScreen?.(o):null}};l=p,o([c()],d.prototype,\"location\",void 0),o([c()],d.prototype,\"screenLocation\",null),o([c()],d.prototype,\"screenLocationEnabled\",void 0),o([c()],d.prototype,\"view\",void 0),d=o([a(\"esri.widgets.support.AnchorElementViewModel\")],d);const m=d;export{m as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"../support/AnchorElementViewModel.js\";const t=\"esri.widgets.CompassViewModel\";let p=class extends e{constructor(s){super(s),this.visible=!1}};s([o()],p.prototype,\"visible\",void 0),p=s([r(t)],p);const c=p;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{after as e}from\"../core/promiseUtils.js\";import{watch as t}from\"../core/reactiveUtils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import r from\"./Widget.js\";import n from\"./Spinner/SpinnerViewModel.js\";import\"./support/widgetUtils.js\";import{tsx as l}from\"./support/jsxFactory.js\";const a=\"esri-spinner\",c={base:a,spinnerStart:`${a}--start`,spinnerFinish:`${a}--finish`};let p=class extends r{constructor(i,e){super(i,e),this._animationDelay=500,this._animationPromise=null,this.viewModel=new n}initialize(){this.addHandles(t((()=>this.visible),(i=>this._visibleChange(i))))}destroy(){this._animationPromise=null}get location(){return this.viewModel.location}set location(i){this.viewModel.location=i}get view(){return this.viewModel.view}set view(i){this.viewModel.view=i}get visible(){return this.viewModel.visible}set visible(i){this.viewModel.visible=i}show(i){const{location:e,promise:t}=i??{};e&&(this.viewModel.location=e),this.visible=!0;const s=()=>this.hide();t&&t.catch((()=>{})).then(s)}hide(){this.visible=!1}render(){const{visible:i}=this,{screenLocation:e}=this.viewModel,t=!!e,s=i&&t,o=!i&&t,r={[c.spinnerStart]:s,[c.spinnerFinish]:o},n=this._getPositionStyles();return l(\"div\",{class:this.classes(c.base,r),styles:n})}_visibleChange(i){if(i)return void(this.viewModel.screenLocationEnabled=!0);const t=e(this._animationDelay);this._animationPromise=t,t.catch((()=>{})).then((()=>{this._animationPromise===t&&(this.viewModel.screenLocationEnabled=!1,this._animationPromise=null)}))}_getPositionStyles(){const{screenLocation:i,view:e}=this.viewModel;if(null==e||null==i)return{};const{padding:t}=e;return{left:i.x-t.left+\"px\",top:i.y-t.top+\"px\"}}};i([s()],p.prototype,\"location\",null),i([s()],p.prototype,\"view\",null),i([s({type:n})],p.prototype,\"viewModel\",void 0),i([s()],p.prototype,\"visible\",null),p=i([o(\"esri.widgets.Spinner\")],p);const h=p;export{h as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../support/actions/ActionButton.js\";import s from\"../../support/actions/ActionToggle.js\";const o={iconZoom:\"esri-icon-zoom-in-magnifying-glass\",iconTrash:\"esri-icon-trash\",iconBrowseClusteredFeatures:\"esri-icon-table\"},t=new e({icon:\"magnifying-glass-plus\",id:\"zoom-to-feature\",title:\"{messages.zoom}\",className:o.iconZoom}),i=new e({icon:\"trash\",id:\"remove-selected-feature\",title:\"{messages.remove}\",className:o.iconTrash}),a=new e({icon:\"magnifying-glass-plus\",id:\"zoom-to-clustered-features\",title:\"{messages.zoom}\",className:o.iconZoom}),r=new s({icon:\"table\",id:\"browse-clustered-features\",title:\"{messages.browseClusteredFeatures}\",className:o.iconBrowseClusteredFeatures,value:!1}),n=[t,i,r,a];export{n as all,r as browseClusteredFeatures,i as removeSelectedFeature,a as zoomToClusteredFeatures,t as zoomToFeature};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import t from\"../../core/Logger.js\";import{throwIfNotAbortError as r}from\"../../core/promiseUtils.js\";import{zoomToFeature as n,zoomToClusteredFeatures as o,browseClusteredFeatures as i,removeSelectedFeature as a}from\"./actions.js\";const c=\"esri.widgets.Popup.PopupViewModel\",s=t.getLogger(c),u=t=>{const{event:c,view:s,viewModel:u}=t,{action:l}=c;if(!l)return Promise.reject(new e(\"trigger-action:missing-arguments\",\"Event has no action\"));const{disabled:d,id:g}=l;if(!g)return Promise.reject(new e(\"trigger-action:invalid-action\",\"action.id is missing\"));if(d)return Promise.reject(new e(\"trigger-action:invalid-action\",\"Action is disabled\"));if(g===n.id)return w(u).catch(r);if(g===o.id)return f(u);if(g===i.id)return u.browseClusterEnabled=!u.browseClusterEnabled,u.featureMenuOpen=u.browseClusterEnabled,Promise.resolve();if(g===a.id){u.visible=!1;const{selectedFeature:t}=u;if(!t)return Promise.reject(new e(`trigger-action:${a.id}`,\"selectedFeature is required\",{selectedFeature:t}));const{sourceLayer:r}=t;return r?r.remove(t):s?.graphics.remove(t),Promise.resolve()}return Promise.resolve()};function l(e){const{selectedFeature:t,location:r,view:n}=e;if(!n)return null;if(\"3d\"===n.type)return t??r??null;return e.get(\"selectedFeature.geometry\")||r}function d(e){return!!e&&e.isAggregate&&\"cluster\"===e.sourceLayer?.featureReduction?.type}async function g(e,t){if(\"3d\"!==t?.type||!e||\"esri.Graphic\"!==e.declaredClass)return!0;const r=t.getViewForGraphic(e);if(r&&\"whenGraphicBounds\"in r){let t;try{t=await r.whenGraphicBounds(e,{useViewElevation:!0})}catch(n){}return!t||!t.boundingBox||t.boundingBox[0]===t.boundingBox[3]&&t.boundingBox[1]===t.boundingBox[4]&&t.boundingBox[2]===t.boundingBox[5]}return!0}async function w(t){const{location:r,selectedFeature:o,view:i,zoomFactor:a}=t,c=l(t);if(!i||!c){const t=new e(\"zoom-to:invalid-target-or-view\",\"Cannot zoom to location without a target and view.\",{target:c,view:i});throw s.error(t),t}const u=i.scale/a,d=t.selectedFeature?.geometry,w=d??r,f=null!=w&&\"point\"===w.type&&await g(o,i);n.active=!0,n.disabled=!0;try{await t.zoomTo({target:{target:c,scale:f?u:void 0}})}catch(m){const t=new e(\"zoom-to:invalid-graphic\",\"Could not zoom to the location of the graphic.\",{graphic:o});s.error(t)}finally{n.active=!1,n.disabled=!1,t.zoomToLocation=null,f&&(t.location=w)}}async function f(t){const{selectedFeature:r,view:n}=t;if(\"2d\"!==n?.type){const t=new e(\"zoomToCluster:invalid-view\",\"View must be 2d MapView.\",{view:n});throw s.error(t),t}if(!r||!d(r)){const t=new e(\"zoomToCluster:invalid-selectedFeature\",\"Selected feature must represent an aggregate/cluster graphic.\",{selectedFeature:r});throw s.error(t),t}const[i,a]=await v(n,r);o.active=!0,o.disabled=!0;const{extent:c}=await i.queryExtent(a);await t.zoomTo({target:c}),o.active=!1,o.disabled=!1}async function m(e){const{view:t,selectedFeature:r}=e;if(!t||!r)return;const[n,o]=await v(t,r),{extent:i}=await n.queryExtent(o);e.selectedClusterBoundaryFeature.geometry=i,t.graphics.add(e.selectedClusterBoundaryFeature)}async function p(e){const{selectedFeature:t,view:r}=e;if(!r||!t)return;const[n,o]=await v(r,t);i.active=!0,i.disabled=!0;const{features:a}=await n.queryFeatures(o);i.active=!1,i.disabled=!1,i.value=!0,e?.open({features:[t].concat(a),featureMenuOpen:!0})}async function v(e,t){const r=await e.whenLayerView(t.sourceLayer),n=r.createQuery(),o=t.getObjectId();return n.aggregateIds=null!=o?[o]:[],[r,n]}function y(e){i.value=!1;const t=e.features.filter((e=>d(e)));t.length&&(e.features=t)}function h(e){if(null==e)return null;switch(e.type){case\"point\":return e;case\"extent\":return e.center;case\"polygon\":return e.centroid;case\"multipoint\":case\"polyline\":return e.extent?.center;default:return null}}export{p as browseAggregateFeatures,m as displayClusterExtent,h as getPointFromGeometry,l as getSelectedTarget,d as isClusterFeature,y as removeClusteredFeaturesForBrowsing,u as triggerAction,f as zoomToClusterExtent,w as zoomToLocation};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst e=\"esri-popup\",t=`${e}__header`,o=`${e}--is-docked`,n={calciteThemeLight:\"calcite-mode-light\",calciteThemeDark:\"calcite-mode-dark\",iconLeftTriangleArrow:\"esri-icon-left-triangle-arrow\",iconRightTriangleArrow:\"esri-icon-right-triangle-arrow\",iconDockToTop:\"esri-icon-maximize\",iconDockToBottom:\"esri-icon-dock-bottom\",iconDockToLeft:\"esri-icon-dock-left\",iconDockToRight:\"esri-icon-dock-right\",iconClose:\"esri-icon-close\",iconUndock:\"esri-icon-minimize\",iconCheckMark:\"esri-icon-check-mark\",iconLoading:\"esri-icon-loading-indicator\",iconDefaultAction:\"esri-icon-default-action\",iconActionsMenu:\"esri-icon-handle-horizontal\",rotating:\"esri-rotating\",base:e,widget:\"esri-widget\",main:`${e}__main-container`,loadingContainer:`${e}__loading-container`,isCollapsible:`${e}--is-collapsible`,isCollapsed:`${e}--is-collapsed`,shadow:`${e}--shadow`,isDocked:o,isDockedTopLeft:`${o}-top-left`,isDockedTopCenter:`${o}-top-center`,isDockedTopRight:`${o}-top-right`,isDockedBottomLeft:`${o}-bottom-left`,isDockedBottomCenter:`${o}-bottom-center`,isDockedBottomRight:`${o}-bottom-right`,alignTopCenter:`${e}--aligned-top-center`,alignBottomCenter:`${e}--aligned-bottom-center`,alignTopLeft:`${e}--aligned-top-left`,alignBottomLeft:`${e}--aligned-bottom-left`,alignTopRight:`${e}--aligned-top-right`,alignBottomRight:`${e}--aligned-bottom-right`,isFeatureMenuOpen:`${e}--feature-menu-open`,isActionsMenuOpen:`${e}--actions-menu-open`,hasFeatureUpdated:`${e}--feature-updated`,header:t,headerButtons:`${t}-buttons`,headerContainer:`${t}-container`,headerContainerButton:`${t}-container--button`,headerTitle:`${t}-title`,content:`${e}__content`,contentHasFlows:\"esri-content--has-flows\",contentFlowItem:\"esri-content__flow-item\",footer:`${e}__footer`,footerHasPagination:`${e}__footer--has-pagination`,footerHasActions:`${e}__footer--has-actions`,footerHasActionsMenu:`${e}__footer--has-actions-menu`,button:`${e}__button`,buttonDisabled:`${e}__button--disabled`,buttonDock:`${e}__button--dock`,icon:`${e}__icon`,iconDock:`${e}__icon--dock-icon`,inlineActionsContainer:`${e}__inline-actions-container`,actionsMenuButton:`${e}__actions-menu-button`,actions:`${e}__actions`,action:`${e}__action`,actionImage:`${e}__action-image`,actionText:`${e}__action-text`,actionToggle:`${e}__action-toggle`,actionToggleOn:`${e}__action-toggle--on`,actionExit:`${e}__action--exit`,actionSelectFeature:`${e}__action--select-feature`,pointer:`${e}__pointer`,pointerDirection:`${e}__pointer-direction`,navigation:`${e}__navigation`,paginationIcon:`${e}__pagination-icon`,paginationPrevious:`${e}__pagination-previous`,paginationNext:`${e}__pagination-next`,featureMenu:`${e}__feature-menu`,featureMenuList:`${e}__feature-menu-list`,featureMenuItem:`${e}__feature-menu-item`,featureMenuViewport:`${e}__feature-menu-viewport`,featureMenuHeader:`${e}__feature-menu-header`,featureMenuNote:`${e}__feature-menu-note`,featureMenuSelected:`${e}__feature-menu-item--selected`,featureMenuButton:`${e}__feature-menu-button`,featureMenuButtonIcon:`${e}__feature-menu-button-icon`,featureMenuTitle:`${e}__feature-menu-title`,featureMenuObserver:`${e}__feature-menu-observer`,featureMenuLoader:`${e}__feature-menu-loader`,collapseButton:`${e}__collapse-button`,collapseIcon:`${e}__collapse-icon`};export{n as CSS};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nconst o=\"OBJECTID\";export{o as fallbackObjectIDAttribute};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as l,renderDef as a,renderShape as r,getBoundingBox as t,computeBBox as s,getTransformMatrix as o}from\"../../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as i}from\"../../../../symbols/support/utils.js\";import{isRTL as n,classes as d}from\"../../../support/widgetUtils.js\";import{tsx as m}from\"../../../support/jsxFactory.js\";const b=\"esri-relationship-ramp\",u=`${b}--diamond`,c=`${b}--square`,f=\"http://www.w3.org/2000/svg\",p={diamondContainer:`${u}__container`,diamondLeftCol:`${u}__left-column`,diamondRightCol:`${u}__right-column`,diamondMidCol:`${u}__middle-column`,diamondMidColLabel:`${u}__middle-column--label`,diamondMidColRamp:`${u}__middle-column--ramp`,squareTable:`${c}__table`,squareTableRow:`${c}__table-row`,squareTableCell:`${c}__table-cell`,squareTableLabel:`${c}__table-label`,squareTableLabelLeftBottom:`${c}__table-label--left-bottom`,squareTableLabelRightBottom:`${c}__table-label--right-bottom`,squareTableLabelLeftTop:`${c}__table-label--left-top`,squareTableLabelRightTop:`${c}__table-label--right-top`};function h(e,l,a={}){const{focus:r,labels:t}=e,s=!!r,o=T(e,l,a),i={justifyContent:\"center\"},b=n();return s?m(\"div\",{class:p.diamondContainer,styles:i},m(\"div\",{class:p.diamondLeftCol},b?t.right:t.left),m(\"div\",{class:p.diamondMidCol},m(\"div\",{class:p.diamondMidColLabel},t.top),o,m(\"div\",{class:p.diamondMidColLabel},t.bottom)),m(\"div\",{class:p.diamondRightCol},b?t.left:t.right)):m(\"div\",{class:p.squareTable},m(\"div\",{class:p.squareTableRow},m(\"div\",{class:d(p.squareTableCell,p.squareTableLabel,p.squareTableLabelRightBottom)},b?t.top:t.left),m(\"div\",{class:p.squareTableCell}),m(\"div\",{class:d(p.squareTableCell,p.squareTableLabel,p.squareTableLabelLeftBottom)},b?t.left:t.top)),m(\"div\",{class:p.squareTableRow},m(\"div\",{class:p.squareTableCell}),o,m(\"div\",{class:p.squareTableCell})),m(\"div\",{class:p.squareTableRow},m(\"div\",{class:d(p.squareTableCell,p.squareTableLabel,p.squareTableLabelRightTop)},b?t.right:t.bottom),m(\"div\",{class:p.squareTableCell}),m(\"div\",{class:d(p.squareTableCell,p.squareTableLabel,p.squareTableLabelLeftTop)},b?t.bottom:t.right)))}function k(e,l,a){const r=`${a}_arrowStart`,t=`${a}_arrowEnd`,s=\"left\"===e,o={markerStart:null,markerEnd:null};switch(l){case\"HL\":s?o.markerStart=`url(#${t})`:o.markerEnd=`url(#${r})`;break;case\"LL\":o.markerStart=`url(#${t})`;break;case\"LH\":s?o.markerEnd=`url(#${r})`:o.markerStart=`url(#${t})`;break;default:o.markerEnd=`url(#${r})`}return o}function T(n,d,b={}){const{focus:u,numClasses:c,colors:h,rotation:T}=n,{opacity:_,effectList:q,ariaLabel:L}=b,g=b.size??60,$=!!u,C=Math.sqrt(g**2+g**2)+($?0:5),v=[],w=[],y=[],x=(g||75)/c;for(let s=0;s<c;s++){const o=s*x;for(let i=0;i<c;i++){const n=i*x,d=e(h[s][i]),m=l(null),b={type:\"rect\",x:n,y:o,width:x,height:x},u=a(d);u&&v.push(u);const c=r(b,d.fill,m,null);c&&w.push(c),y.push(t(b))}}const R=10,E=15,M=15,S=10;let j=null;$||(j=\"margin: -15px -15px -18px -15px\");const B=k(\"left\",u,d),H=k(\"right\",u,d),U=s(y),W=o(U,C,C,0,!1,T,!1),X=o(U,C,C,0,!1,$?-45:null,!1),Y={filter:i(q)??void 0,opacity:null==_?\"\":`${_}`};return m(\"div\",{styles:Y,class:$?p.diamondMidColRamp:p.squareTableCell},m(\"svg\",{xmlns:f,width:C,height:C,style:j,\"aria-labelledBy\":L,role:\"image\",focusable:!1},m(\"defs\",null,m(\"marker\",{id:`${d}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),m(\"marker\",{id:`${d}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},m(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),v),m(\"g\",{transform:W},w),m(\"g\",{transform:X},m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":B.markerStart,\"marker-end\":B.markerEnd,x1:-R,y1:g-E,x2:-R,y2:E}),m(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":H.markerStart,\"marker-end\":H.markerEnd,x1:M,y1:g+S,x2:g-M,y2:g+S}))))}export{h as renderRelationshipRamp};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{loadArcade as e}from\"../../support/arcadeOnDemand.js\";import{getStroke as t}from\"./gfxUtils.js\";import{SymbolSizeDefaults as l}from\"./previewUtils.js\";import{renderSymbol as i,renderOnce as r}from\"./renderUtils.js\";import{getCSSFilterFromEffectList as a,fetchWebStyleSymbol as s,applyColorToSymbol as n,applySizesToSymbol as o,applyRotationToSymbol as c,getColorFromSymbol as u,applyOpacityToColor as f}from\"./utils.js\";import{renderRelationshipRamp as p}from\"../../widgets/Legend/styles/support/relationshipUtils.js\";import{getRelationshipRampElement as h}from\"../../widgets/Legend/support/relationshipRampUtils.js\";let y=null;const d=[255,255,255];function m(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function b(e,t,i){const{backgroundColor:r,outline:a,dotSize:s}=e,n=i&&i.swatchSize||l.size,o=.8,c=Math.round(n*n/s**2*o),u=window.devicePixelRatio,f=document.createElement(\"canvas\"),p=n*u;f.width=p,f.height=p,f.style.width=f.width/u+\"px\",f.style.height=f.height/u+\"px\";const h=f.getContext(\"2d\");if(r&&(h.fillStyle=r.toCss(!0),h.fillRect(0,0,p,p),h.fill()),h.fillStyle=t?.toCss(!0)??\"\",y&&y.length/2===c)for(let l=0;l<2*c;l+=2){const e=y[l],t=y[l+1];h.fillRect(e,t,s*u,s*u),h.fill()}else{y=[];for(let e=0;e<2*c;e+=2){const e=m(0,p),t=m(0,p);y.push(e,t),h.fillRect(e,t,s*u,s*u),h.fill()}}a&&(a.color&&(h.strokeStyle=a.color.toCss(!0)),h.lineWidth=a.width,h.strokeRect(0,0,p,p));const d=new Image(n,n);return d.src=f.toDataURL(),d.ariaLabel=i?.ariaLabel??null,d.alt=i?.ariaLabel??\"\",d}function g(e,l={}){const r=l.radius||40,a=2*Math.PI*r,s=e.length,n=a/s,o=[],c=t(l.outline);null!=c?.width&&(c.width*=2),(c||l.backgroundColor)&&o.push({shape:{type:\"circle\",cx:r,cy:r,r},fill:l.backgroundColor,stroke:c,offset:[0,0]});const u=l.values,f=u&&u.length===s&&100===u.reduce(((e,t)=>e+t),0),p=[0];for(let t=0;t<s;t++){let l=null;f&&(l=u[t]*a/100,p.push(l+p[t])),o.push({shape:{type:\"circle\",cx:r,cy:r,r:r/2},fill:[0,0,0,0],stroke:{width:r,dashArray:`${(l??n)/2} ${a}`,dashoffset:\"-\"+(f?p[t]/2:t*(n/2)),color:e[t]},offset:[0,0]})}let h=null;const y=2*r+(c?.width||0),m=l.holePercentage;if(m){c&&o.push({shape:{type:\"circle\",cx:r,cy:r,r:r*m},fill:null,stroke:c,offset:[0,0]});const e=y/2;h=[[{shape:{type:\"circle\",cx:e,cy:e,r:e},fill:d,stroke:c?{...c,color:d}:null,offset:[0,0]},{shape:{type:\"circle\",cx:e,cy:e,r:r*m},fill:[0,0,0],stroke:null,offset:[0,0]}]]}return i([o],[y,y],{effectView:l.effectList,ignoreStrokeWidth:!0,masking:h,rotation:-90,ariaLabel:l.ariaLabel})}function w(e,t={}){const l=e?.authoringInfo;if(!(\"relationship\"===l?.type)||!l?.numClasses||!e.uniqueValueInfos)return null;const{focus:i,numClasses:a}=l,s=h({focus:i,numClasses:a,infos:e.uniqueValueInfos}),n=t&&t.node||document.createElement(\"div\");return r(n,(()=>p(s,t.id||\"relationship\",{opacity:t.opacity||1,effectList:t.effectList,ariaLabel:t.ariaLabel}))),n}function S(e,t={}){const l=24,i=75,r=\"horizontal\"===t.align,a=r?i:l,s=r?l:i,n=t.width??a,o=t.height??s,c=t.gradient??!0,u=window.devicePixelRatio,f=n*u,p=o*u,h=document.createElement(\"canvas\");h.width=f,h.height=p,h.ariaLabel=t.ariaLabel??null,h.style.width=`${n}px`,h.style.height=`${o}px`;const y=h.getContext(\"2d\"),d=r?f:0,m=r?0:p;if(c){const t=y.createLinearGradient(0,0,d,m),l=e.length,i=1===l?0:1/(l-1);e.forEach(((e,l)=>t.addColorStop(l*i,e.toString()))),y.fillStyle=t,y.fillRect(0,0,f,p)}else{const t=r?f/e.length:f,l=r?p:p/e.length;let i=0,a=0;for(const s of e)y.fillStyle=s.toString(),y.fillRect(i,a,t,l),i=r?i+t:0,a=r?0:a+l}const b=document.createElement(\"div\");return b.style.width=`${n}px`,b.style.height=`${o}px`,v(b,t?.effectList),b.appendChild(h),b}function v(e,t){if(!t)return;e.style.filter=a(t);const l=t.effects;if(l)for(const i of l)if(\"drop-shadow\"===i?.type){i.offsetX<0?e.style.marginLeft=`${Math.abs(i.offsetX)}px`:e.style.marginRight=`${i.offsetX}px`;break}}async function V(e,t){switch(e.type){case\"web-style\":{const{previewWebStyleSymbol:l}=await import(\"./previewWebStyleSymbol.js\");return l(e,V,t)}case\"label-3d\":case\"line-3d\":case\"mesh-3d\":case\"point-3d\":case\"polygon-3d\":{const{previewSymbol3D:l}=await import(\"./previewSymbol3D.js\");return l(e,t)}case\"simple-marker\":case\"simple-line\":case\"simple-fill\":case\"picture-marker\":case\"picture-fill\":case\"text\":{const{previewSymbol2D:l}=await import(\"./previewSymbol2D.js\");return l(e,t)}case\"cim\":{const{previewCIMSymbol:l}=await import(\"./previewCIMSymbol.js\");return l(e,t)}default:return}}function L(e){return e&&\"opacity\"in e?e.opacity*L(e.parent):1}async function x(t,l){if(!t)return;const i=t.sourceLayer,r=(null!=l&&l.useSourceLayer?i:t.layer)??i,a=L(r);if(null!=t.symbol&&(null==l||!0!==l.ignoreGraphicSymbol)){const e=\"web-style\"===t.symbol.type?await s(t.symbol,{...l,cache:null!=l?l.webStyleCache:null}):t.symbol.clone();return n(e,null,a),e}const u=(null!=l?l.renderer:null)??(r&&\"renderer\"in r?r.renderer:null);let f=u&&\"getSymbolAsync\"in u?await u.getSymbolAsync(t,l):null;if(!f)return;if(f=\"web-style\"===f.type?await f.fetchSymbol({...l,cache:null!=l?l.webStyleCache:null}):f.clone(),!(u&&\"visualVariables\"in u&&u.visualVariables&&u.visualVariables.length))return n(f,null,a),f;if(\"arcadeRequiredForVisualVariables\"in u&&u.arcadeRequiredForVisualVariables&&(null==l||null==l.arcade)){const t={...l};t.arcade=await e(),l=t}const{getColor:p,getOpacity:h,getAllSizes:y,getRotationAngle:d}=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),m=[],b=[],g=[],w=[];for(const e of u.visualVariables)switch(e.type){case\"color\":m.push(e);break;case\"opacity\":b.push(e);break;case\"rotation\":w.push(e);break;case\"size\":e.target||g.push(e)}const S=!!m.length&&m[m.length-1],v=S?p(S,t,l):null,V=!!b.length&&b[b.length-1];let x=V?h(V,t,l):null;if(null!=a&&(x=null!=x?x*a:a),n(f,v,x),g.length){const e=y(g,t,l);await o(f,e)}for(const e of w)c(f,d(e,t,l),e.axis);return f}async function k(t,l){if(!t)return;const i=L(t.layer||t.sourceLayer);if(null!=t.symbol&&(null==l||!0!==l.ignoreGraphicSymbol)){const e=\"web-style\"===t.symbol.type?await s(t.symbol,l):t.symbol.clone();return u(e,i)}const r=null!=l&&l.renderer||t.get(\"layer.renderer\")||t.get(\"sourceLayer.renderer\");let a=await r.getSymbolAsync(t,l);if(!a)return;a=\"web-style\"===a.type?await s(a,l):a.clone();const n=u(a,i);if(!(\"visualVariables\"in r)||\"visualVariables\"in r&&!r.visualVariables||\"visualVariables\"in r&&!r.visualVariables?.length)return n;if(r.arcadeRequiredForVisualVariables&&(null==l||null==l.arcade)){const t={...l};t.arcade=await e(),l=t}const{getColor:o,getOpacity:c}=await import(\"../../renderers/visualVariables/support/visualVariableUtils.js\"),p=[],h=[];for(const e of r.visualVariables)switch(e.type){case\"color\":p.push(e);break;case\"opacity\":h.push(e)}const y=p.length>0?p[p.length-1]:null,d=y?o(y,t,l):n,m=h.length>0?h[h.length-1]:null;let b=m?c(m,t,l):null;return null!=i&&(b=null!=b?b*i:i),d?f(d,b):null}export{k as getDisplayedColor,x as getDisplayedSymbol,S as renderColorRampPreviewHTML,b as renderDotDensityPreviewHTML,g as renderPieChartPreviewHTML,V as renderPreviewHTML,w as renderRelationshipRampPreviewHTML};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(n){return n&&\"function\"==typeof n.highlight}function e(n){return n&&\"function\"==typeof n.maskOccludee}function t(n,e,t){return null==n||n>t&&(0===e||n<e)}function c(n,e){return null!=n&&n>0||null!=e&&e>0}function u(n){const e=n.effectiveScaleRange;return{minScale:e?.minScale??0,maxScale:e?.maxScale??0}}export{u as extractSafeScaleBounds,n as highlightsSupported,c as isScaleRangeActive,e as occludeesSupported,t as scaleBoundsPredicate};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../symbols.js\";import i from\"../../core/Collection.js\";import s from\"../../core/Error.js\";import r from\"../../core/Handles.js\";import o from\"../../core/Logger.js\";import{watch as a,when as n,sync as l}from\"../../core/reactiveUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{geographicToWebMercator as c}from\"../../geometry/support/webMercatorUtils.js\";import d from\"../../layers/Layer.js\";import{fallbackObjectIDAttribute as p}from\"../../layers/LayerConstants.js\";import g from\"../../support/actions/ActionBase.js\";import f from\"../../support/actions/ActionButton.js\";import m from\"../../support/actions/ActionToggle.js\";import{getDisplayedSymbol as y}from\"../../symbols/support/symbolUtils.js\";import{highlightsSupported as w}from\"../../views/support/layerViewUtils.js\";import F from\"../Feature/FeatureViewModel.js\";import{zoomToFeature as v,zoomToClusteredFeatures as _,browseClusteredFeatures as b}from\"./actions.js\";import{triggerAction as C,isClusterFeature as P,getSelectedTarget as E,removeClusteredFeaturesForBrowsing as V,displayClusterExtent as M,browseAggregateFeatures as A,getPointFromGeometry as j}from\"./actionUtils.js\";import L from\"../support/AnchorElementViewModel.js\";import{GoToMixin as O}from\"../support/GoTo.js\";import T from\"../../symbols/SimpleFillSymbol.js\";import x from\"../../geometry/Point.js\";const I=i.ofType({key:\"type\",defaultKeyValue:\"button\",base:g,typeMap:{button:f,toggle:m}}),S=()=>[v.clone()],B=()=>[_.clone(),b.clone()];let R=class extends(O(L)){get isLoadingFeature(){return this.featureViewModels.some((e=>e.waitingForContent))}constructor(e){super(e),this._handles=new r,this._pendingPromises=new Set,this._fetchFeaturesController=null,this._highlightSelectedFeaturePromise=null,this._highlightActiveFeaturePromise=null,this._selectedClusterFeature=null,this.featurePage=null,this.actions=new I,this.activeFeature=null,this.defaultPopupTemplateEnabled=!1,this.autoCloseEnabled=!1,this.autoOpenEnabled=!0,this.browseClusterEnabled=!1,this.content=null,this.featuresPerPage=20,this.featureMenuOpen=!1,this.featureViewModelAbilities=null,this.featureViewModels=[],this.highlightEnabled=!0,this.includeDefaultActions=!0,this.selectedClusterBoundaryFeature=new t({symbol:new T({outline:{width:1.5,color:\"cyan\"},style:\"none\"})}),this.title=null,this.updateLocationEnabled=!1,this.view=null,this.visible=!1,this.zoomFactor=4,this.zoomToLocation=null}initialize(){this._handles.add([this.on(\"view-change\",(()=>this._autoClose())),a((()=>[this.highlightEnabled,this.selectedFeature,this.visible,this.view]),(()=>this._highlightSelectedFeature())),a((()=>[this.highlightEnabled,this.activeFeature,this.visible,this.view]),(()=>this._highlightActiveFeature())),a((()=>this.view?.animation?.state),(e=>this._animationStateChange(e))),a((()=>this.location),(e=>this._locationChange(e))),a((()=>this.selectedFeature),(e=>this._selectedFeatureChange(e))),a((()=>[this.selectedFeatureIndex,this.featureCount,this.featuresPerPage]),(()=>this._selectedFeatureIndexChange())),a((()=>[this.featurePage,this.selectedFeatureIndex,this.featureCount,this.featuresPerPage,this.featureViewModels]),(()=>this._setGraphicOnFeatureViewModels())),a((()=>this.featureViewModels),(()=>this._featureViewModelsChange())),this.on(\"trigger-action\",(e=>C({event:e,viewModel:this,view:this.view}))),n((()=>!this.waitingForResult),(()=>this._waitingForResultChange()),l),a((()=>[this.features,this.view?.map,this.view?.spatialReference]),(()=>this._updateFeatureVMs())),a((()=>this.view?.scale),(()=>this._viewScaleChange())),n((()=>!this.visible),(()=>this.browseClusterEnabled=!1)),a((()=>this.browseClusterEnabled),(e=>e?this.enableClusterBrowsing():this.disableClusterBrowsing()))])}destroy(){this._cancelFetchingFeatures(),this._handles.destroy(),this._pendingPromises.clear(),this.browseClusterEnabled=!1,this.view=null}get active(){return!(!this.visible||this.waitingForResult)}get allActions(){const e=this._get(\"allActions\")||new I;e.removeAll();const{actions:t,defaultActions:i,defaultPopupTemplateEnabled:s,includeDefaultActions:r,selectedFeature:o}=this,a=r?i.concat(t):t,n=o&&(\"function\"==typeof o.getEffectivePopupTemplate&&o.getEffectivePopupTemplate(s)||o.popupTemplate),l=n&&n.actions,h=n&&n.overwriteActions?l:l?l.concat(a):a;return h&&h.filter(Boolean).forEach((t=>e.add(t))),e}get defaultActions(){const e=this._get(\"defaultActions\")||new I;return e.removeAll(),e.addMany(P(this.selectedFeature)?B():S()),e}get featureCount(){return this.features.length}get features(){return this._get(\"features\")||[]}set features(e){const t=e||[];this._set(\"features\",t);const{pendingPromisesCount:i,promiseCount:s,selectedFeatureIndex:r}=this,o=s&&t.length;o&&i&&-1===r?this.selectedFeatureIndex=0:o&&-1!==r||(this.selectedFeatureIndex=t.length?0:-1)}get location(){return this._get(\"location\")||null}set location(e){let t=e;const i=this.view?.spatialReference?.isWebMercator;e&&e?.spatialReference?.isWGS84&&i&&(t=c(e)),this._set(\"location\",t)}get pendingPromisesCount(){return this._pendingPromises.size}get waitingForResult(){return!(!(!!this._fetchFeaturesController||this.pendingPromisesCount>0)||0!==this.featureCount)}get promiseCount(){return this.promises.length}get promises(){return this._get(\"promises\")||[]}set promises(e){if(this._pendingPromises.clear(),this.features=[],!Array.isArray(e)||!e.length)return this._set(\"promises\",[]),void this.notifyChange(\"pendingPromisesCount\");this._set(\"promises\",e),(e=e.slice(0)).forEach((e=>{this._pendingPromises.add(e);const t=t=>{this._pendingPromises.has(e)&&this._updateFeatures(t),this._updatePendingPromises(e)},i=()=>this._updatePendingPromises(e);e.then(t,i)})),this.notifyChange(\"pendingPromisesCount\")}get selectedFeature(){const{features:e,selectedFeatureIndex:t}=this;if(-1===t)return null;return e[t]||null}get selectedFeatureIndex(){const e=this._get(\"selectedFeatureIndex\");return\"number\"==typeof e?e:-1}set selectedFeatureIndex(e){const{featureCount:t}=this;e=isNaN(e)||e<-1||!t?-1:(e+t)%t,this.activeFeature=null,this._set(\"selectedFeatureIndex\",e)}get selectedFeatureViewModel(){return this.featureViewModels[this.selectedFeatureIndex]||null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}centerAtLocation(){const{view:e}=this,t=E(this);return t&&e?this.callGoTo({target:{target:t,scale:e.scale}}):Promise.reject(new s(\"center-at-location:invalid-target-or-view\",\"Cannot center at a location without a target and view.\",{target:t,view:e}))}zoomTo(e){return this.callGoTo(e)}clear(){this.set({promises:[],features:[],content:null,title:null,location:null,activeFeature:null})}fetchFeatures(e,t){const{view:i}=this;if(!i||!e)throw new s(\"fetch-features:invalid-screenpoint-or-view\",\"Cannot fetch features without a screenPoint and view.\",{screenPoint:e,view:i});return i.fetchPopupFeatures(e,{event:t&&t.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:t&&t.signal})}open(e){const t={updateLocationEnabled:!1,promises:[],fetchFeatures:!1,...e,visible:!0},{fetchFeatures:i}=t;delete t.fetchFeatures,i&&this._setFetchFeaturesPromises(t.location);const s=[\"actionsMenuOpen\",\"collapsed\"];for(const r of s)delete t[r];this.set(t)}triggerAction(e){const t=this.allActions.at(e);t&&!t.disabled&&this.emit(\"trigger-action\",{action:t})}next(){return this.selectedFeatureIndex=this.selectedFeatureIndex+1,this}previous(){return this.selectedFeatureIndex=this.selectedFeatureIndex-1,this}disableClusterBrowsing(){V(this),this._clearBrowsedClusterGraphics()}async enableClusterBrowsing(){const{view:e,selectedFeature:t}=this;\"2d\"===e?.type?P(t)?(await M(this),await A(this)):o.getLogger(this).warn(\"enableClusterBrowsing:invalid-selectedFeature: Selected feature must represent an aggregate/cluster graphic.\",t):o.getLogger(this).warn(\"enableClusterBrowsing:invalid-view: View must be 2d MapView.\",t)}handleViewClick(e){this.autoOpenEnabled&&this._fetchFeaturesAndOpen(e)}_animationStateChange(e){this.zoomToLocation||(v.disabled=\"waiting-for-target\"===e)}_clearBrowsedClusterGraphics(){const e=this.view?.graphics;e&&(e.remove(this.selectedClusterBoundaryFeature),this._selectedClusterFeature&&e.remove(this._selectedClusterFeature)),this._selectedClusterFeature=null,this.selectedClusterBoundaryFeature.geometry=null}_viewScaleChange(){if(P(this.selectedFeature))return this.browseClusterEnabled=!1,this.visible=!1,void this.clear();this.browseClusterEnabled&&(this.features=this.selectedFeature?[this.selectedFeature]:[])}_locationChange(e){const{selectedFeature:t,updateLocationEnabled:i}=this;i&&e&&(!t||t.geometry)&&this.centerAtLocation()}_selectedFeatureIndexChange(){this.featurePage=this.featureCount>1?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null}_featureViewModelsChange(){this.featurePage=this.featureCount>1?1:null}_setGraphicOnFeatureViewModels(){const{features:e,featureCount:t,featurePage:i,featuresPerPage:s,featureViewModels:r}=this;if(null===i)return;const o=((i-1)*s+t)%t,a=o+s;r.slice(o,a).forEach(((t,i)=>{t&&!t.graphic&&(t.graphic=e[o+i])}))}async _selectedFeatureChange(e){const{location:t,updateLocationEnabled:i,view:s}=this;if(e&&s){if(this.browseClusterEnabled){if(this._selectedClusterFeature&&(s.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),P(e))return;return e.symbol=await y(e),this._selectedClusterFeature=e,void s.graphics.add(this._selectedClusterFeature)}!i&&t||!e.geometry?i&&!e.geometry&&this.centerAtLocation().then((()=>{const e=s.center?.clone();e&&(this.location=e)})):this.location=j(e.geometry)}}_waitingForResultChange(){!this.featureCount&&this.promises&&(this.visible=!1)}_setFetchFeaturesPromises(e){return this._fetchFeaturesWithController(this._getScreenPoint(e||this.location)).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:i}=e,s=Promise.resolve(t),r=i.map((e=>e.promise));this.promises=[s,...r]}))}_destroyFeatureVMs(){this.featureViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",[])}_updateFeatureVMs(){const{selectedFeature:e,features:t,featureViewModels:i}=this;if(P(e)||(this.browseClusterEnabled=!1),this._destroyFeatureVMs(),!t||!t.length)return;const s=i.slice(0),r=[];t.forEach(((t,i)=>{if(!t)return;let o=null;if(s.some(((e,i)=>(e&&e.graphic===t&&(o=e,s.splice(i,1)),!!o))),o)r[i]=o;else{const s=new F({abilities:this.featureViewModelAbilities,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:this.view?.spatialReference,graphic:t===e?t:null,map:this.view?.map,view:this.view});r[i]=s}})),s.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set(\"featureViewModels\",r)}_getScreenPoint(e){const{view:t}=this;return t&&e&&\"function\"==typeof t.toScreen?t.toScreen(e):null}_cancelFetchingFeatures(){const e=this._fetchFeaturesController;e&&e.abort(),this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")}_fetchFeaturesWithController(e,t){this._cancelFetchingFeatures();const i=new AbortController,{signal:s}=i;this._fetchFeaturesController=i,this.notifyChange(\"waitingForResult\");const r=this.fetchFeatures(e,{signal:s,event:t});return r.catch((()=>{})).then((()=>{this._fetchFeaturesController=null,this.notifyChange(\"waitingForResult\")})),r}_fetchFeaturesAndOpen(e){const{screenPoint:t,mapPoint:i}=e,{view:s}=this;this._fetchFeaturesWithController(t,e).then((e=>{const{clientOnlyGraphics:t,promisesPerLayerView:r,location:o}=e,a=[Promise.resolve(t),...r.map((e=>e.promise))];return s?.popup&&\"open\"in s.popup&&s.popup.open({location:o||i,promises:a}),e}))}_updatePendingPromises(e){e&&this._pendingPromises.has(e)&&(this._pendingPromises.delete(e),this.notifyChange(\"pendingPromisesCount\"))}_autoClose(){this.autoCloseEnabled&&(this.visible=!1)}async _getLayerView(e,t){return await e.when(),e.whenLayerView(t)}_getHighlightLayer(e){const{layer:t,sourceLayer:i}=e;return i&&\"layer\"in i&&i.layer?i.layer:\"map-notes\"===i?.type||\"subtype-group\"===i?.type?i:t}_getHighlightTarget(e,t){const i=\"imagery\"===t.type?void 0:\"objectIdField\"in t?t.objectIdField||p:null,s=e.attributes;return s&&i&&s[i]||e}async _highlightActiveFeature(){const e=\"highlight-active-feature\";this._handles.remove(e);const{highlightEnabled:t,view:i,activeFeature:s,visible:r}=this;if(!(s&&i&&t&&r))return;const o=this._getHighlightLayer(s);if(!(o&&o instanceof d))return;const a=this._getLayerView(i,o);this._highlightActiveFeaturePromise=a;const n=await a;if(!(n&&w(n)&&this._highlightActiveFeaturePromise===a&&this.activeFeature&&this.highlightEnabled))return;const l=n.highlight(this._getHighlightTarget(s,o));this._handles.add(l,e)}async _highlightSelectedFeature(){const e=\"highlight-selected-feature\";this._handles.remove(e);const{selectedFeature:t,highlightEnabled:i,view:s,visible:r}=this;if(!(t&&s&&i&&r))return;const o=this._getHighlightLayer(t);if(!(o&&o instanceof d))return;const a=this._getLayerView(s,o);this._highlightSelectedFeaturePromise=a;const n=await a;if(!(n&&w(n)&&this._highlightSelectedFeaturePromise===a&&this.selectedFeature&&this.highlightEnabled&&this.visible))return;const l=n.highlight(this._getHighlightTarget(t,o));this._handles.add(l,e)}_updateFeatures(e){const{features:t}=this;if(!e||!e.length)return;if(!t.length)return void(this.features=e);const i=e.filter((e=>!t.includes(e)));this.features=t.concat(i)}};e([h()],R.prototype,\"featurePage\",void 0),e([h()],R.prototype,\"isLoadingFeature\",null),e([h({type:I})],R.prototype,\"actions\",void 0),e([h({readOnly:!0})],R.prototype,\"active\",null),e([h()],R.prototype,\"activeFeature\",void 0),e([h({readOnly:!0})],R.prototype,\"allActions\",null),e([h({type:Boolean})],R.prototype,\"defaultPopupTemplateEnabled\",void 0),e([h()],R.prototype,\"autoCloseEnabled\",void 0),e([h()],R.prototype,\"autoOpenEnabled\",void 0),e([h()],R.prototype,\"browseClusterEnabled\",void 0),e([h()],R.prototype,\"content\",void 0),e([h({type:I,readOnly:!0})],R.prototype,\"defaultActions\",null),e([h({readOnly:!0})],R.prototype,\"featureCount\",null),e([h()],R.prototype,\"features\",null),e([h()],R.prototype,\"featuresPerPage\",void 0),e([h()],R.prototype,\"featureMenuOpen\",void 0),e([h()],R.prototype,\"featureViewModelAbilities\",void 0),e([h({readOnly:!0})],R.prototype,\"featureViewModels\",void 0),e([h()],R.prototype,\"highlightEnabled\",void 0),e([h()],R.prototype,\"includeDefaultActions\",void 0),e([h({type:x})],R.prototype,\"location\",null),e([h({readOnly:!0})],R.prototype,\"pendingPromisesCount\",null),e([h({readOnly:!0})],R.prototype,\"selectedClusterBoundaryFeature\",void 0),e([h({readOnly:!0})],R.prototype,\"waitingForResult\",null),e([h({readOnly:!0})],R.prototype,\"promiseCount\",null),e([h()],R.prototype,\"promises\",null),e([h({value:null,readOnly:!0})],R.prototype,\"selectedFeature\",null),e([h({value:-1})],R.prototype,\"selectedFeatureIndex\",null),e([h({readOnly:!0})],R.prototype,\"selectedFeatureViewModel\",null),e([h({readOnly:!0})],R.prototype,\"state\",null),e([h()],R.prototype,\"title\",void 0),e([h()],R.prototype,\"updateLocationEnabled\",void 0),e([h()],R.prototype,\"view\",void 0),e([h()],R.prototype,\"visible\",void 0),e([h()],R.prototype,\"zoomFactor\",void 0),e([h()],R.prototype,\"zoomToLocation\",void 0),e([h()],R.prototype,\"centerAtLocation\",null),R=e([u(\"esri.widgets.Popup.PopupViewModel\")],R);const G=R;export{G as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../intl.js\";import t from\"../core/Collection.js\";import{deprecatedProperty as i}from\"../core/deprecate.js\";import{eventKey as o}from\"../core/events.js\";import n from\"../core/Handles.js\";import s from\"../core/Logger.js\";import{watch as r,when as l,on as a,whenOnce as c,initial as u}from\"../core/reactiveUtils.js\";import{throttle as d}from\"../core/throttle.js\";import{property as h}from\"../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as g}from\"../core/accessorSupport/decorators/subclass.js\";import m from\"./Feature.js\";import v from\"./Spinner.js\";import f from\"./Widget.js\";import{CSS as _}from\"./Feature/resources.js\";import{FeatureContentMixin as w}from\"./Feature/support/FeatureContentMixin.js\";import{getPointFromGeometry as b}from\"./Popup/actionUtils.js\";import{CSS as M}from\"./Popup/css.js\";import y from\"./Popup/PopupViewModel.js\";import{loadCalciteComponents as k}from\"./support/componentsUtils.js\";import{Heading as A}from\"./support/Heading.js\";import{accessibleHandler as F}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as C}from\"./support/decorators/messageBundle.js\";import{vmEvent as I}from\"./support/decorators/vmEvent.js\";import{tsx as O}from\"./support/jsxFactory.js\";import{storeNode as x,cssTransition as E,isRTL as N}from\"./support/widgetUtils.js\";import{isDarkTheme as B}from\"../support/themeUtils.js\";import{substitute as P}from\"../intl/substitute.js\";const T=\"selected-index\",D=0,S=\"popup-spinner\",L={buttonEnabled:!0,position:\"auto\",breakpoint:{width:544}},R=\"esri-popup\";function V(e,t){return void 0===t?`${R}__${e}`:`${R}__${e}-${t}`}const j={closeButton:!0,featureNavigation:!0};let U=class extends(w(f)){constructor(e,i){super(e,i),this._blurClose=!1,this._blurContainer=!1,this._containerNode=null,this._mainContainerNode=null,this._featureMenuNode=null,this._actionsMenuNode=null,this._focusClose=!1,this._focusContainer=!1,this._focusDockButton=!1,this._focusFeatureMenuButton=!1,this._focusActionsMenuButton=!1,this._focusFirstFeature=!1,this._focusFirstAction=!1,this._handles=new n,this._pointerOffsetInPx=16,this._spinner=null,this._feature=null,this._featureMenuIntersectionObserverNode=null,this._featureMenuViewportNode=null,this._rootFlowItemNode=null,this._featureMenuIntersectionObserverCallback=([e])=>{e?.isIntersecting&&null!=this.viewModel.featurePage&&this.viewModel.featurePage++},this._featureMenuIntersectionObserver=new IntersectionObserver(this._featureMenuIntersectionObserverCallback,{root:window.document}),this._displaySpinnerThrottled=d((()=>this._displaySpinner()),D),this._exitRelatedRecordsActions=new WeakMap,this._featureSelectionActions=new WeakMap,this._flowItems=new t,this.alignment=\"auto\",this.collapsed=!1,this.collapseEnabled=!0,this.dockEnabled=!1,this.headingLevel=2,this.maxInlineActions=3,this.messages=null,this.messagesCommon=null,this.spinnerEnabled=!0,this.viewModel=new y,this.visibleElements={...j},this._handleOpenRelatedFeature=e=>{this._openRelatedFeature(e)},this._addSelectedFeatureIndexHandle(),this.addHandles([this._displaySpinnerThrottled,r((()=>this.viewModel?.screenLocation),(()=>this._positionContainer())),r((()=>[this.viewModel?.active,this.dockEnabled]),(()=>this._toggleScreenLocationEnabled())),r((()=>this.viewModel?.screenLocation),((e,t)=>{!!e!=!!t&&this.reposition()})),r((()=>[this.viewModel?.view?.padding,this.viewModel?.view?.size,this.viewModel?.active,this.viewModel?.location,this.alignment]),(()=>this.reposition())),r((()=>this.spinnerEnabled),(e=>this._spinnerEnabledChange(e))),r((()=>this.viewModel?.view?.size),((e,t)=>this._updateDockEnabledForViewSize(e,t))),r((()=>this.viewModel?.view),((e,t)=>this._viewChange(e,t))),r((()=>this.viewModel?.view?.ready),((e,t)=>this._viewReadyChange(e??!1,t??!1))),r((()=>[this.viewModel?.waitingForResult,this.viewModel?.location]),(()=>{this._hideSpinner(),this._displaySpinnerThrottled()})),r((()=>this.selectedFeatureWidget),(()=>this._destroyFlowItemWidgets())),r((()=>[this.selectedFeatureWidget?.viewModel?.title,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setTitleFromFeatureWidget())),r((()=>[this.selectedFeatureWidget?.viewModel?.content,this.selectedFeatureWidget?.viewModel?.state]),(()=>this._setContentFromFeatureWidget())),l((()=>!this.collapsed),(()=>{\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&this.viewModel.active&&this.collapseEnabled&&this.viewModel.centerAtLocation()})),a((()=>this.viewModel?.allActions),\"change\",(()=>this._watchActions())),r((()=>this.viewModel?.allActions),(()=>this._watchActions()),u),r((()=>this.viewModel?.featureViewModels),(()=>this._featureMenuViewportScrollTop())),a((()=>this._flowItems),\"change\",(()=>{this.notifyChange(\"_activeFlowItemWidget\"),this.scheduleRender()})),r((()=>[this._activeFlowItemWidget?.viewModel?.state,this._activeFlowItemWidget?.viewModel?.title]),(()=>this.scheduleRender()))])}loadDependencies(){return k({action:()=>import(\"@esri/calcite-components/dist/components/calcite-action.js\"),flow:()=>import(\"@esri/calcite-components/dist/components/calcite-flow.js\"),\"flow-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-flow-item.js\"),icon:()=>import(\"@esri/calcite-components/dist/components/calcite-icon.js\"),tooltip:()=>import(\"@esri/calcite-components/dist/components/calcite-tooltip.js\")})}initialize(){this.addHandles(this._displaySpinnerThrottled)}destroy(){this._destroyFlowItemWidgets(),this._destroySelectedFeatureWidget(),this._destroySpinner(),this._handles?.destroy(),this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver?.disconnect()}get actionsMenuId(){return`${this.id}-actions-menu`}get actionsMenuButtonId(){return`${this.id}-actions-menu-button`}get featureMenuId(){return`${this.id}-feature-menu`}get titleId(){return`${this.id}-popup-title`}get contentId(){return`${this.id}-popup-content`}get hasContent(){const{selectedFeatureWidget:e,viewModel:t}=this;if(!e)return!!t?.content;const i=e.viewModel;if(i?.waitingForContent||\"error\"===i?.state)return!0;const o=i?.content;return Array.isArray(o)?!!o.length:!!o}get featureNavigationVisible(){return this.viewModel.active&&this.viewModel.featureCount>1&&!!this.visibleElements.featureNavigation}get collapsible(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}get featureMenuVisible(){return this.featureNavigationVisible&&this.featureMenuOpen}get contentCollapsed(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}get dividedActions(){return this._divideActions()}get _activeFlowItemWidget(){const{_flowItems:e}=this;return e.at(-1)??null}get actions(){return this.viewModel.actions}set actions(e){this.viewModel.actions=e}set actionsMenuOpen(e){this._set(\"actionsMenuOpen\",!!e)}get actionsMenuOpen(){return!!this.viewModel.active&&this._get(\"actionsMenuOpen\")}get autoCloseEnabled(){return this.viewModel.autoCloseEnabled}set autoCloseEnabled(e){this.viewModel.autoCloseEnabled=e}get autoOpenEnabled(){return i(s.getLogger(this),\"autoOpenEnabled\",{replacement:\"MapView/SceneView.popupEnabled\",version:\"4.27\"}),this.viewModel.autoOpenEnabled}set autoOpenEnabled(e){i(s.getLogger(this),\"autoOpenEnabled\",{replacement:\"MapView/SceneView.popupEnabled\",version:\"4.27\"}),this.viewModel.autoOpenEnabled=e}get defaultPopupTemplateEnabled(){return this.viewModel.defaultPopupTemplateEnabled}set defaultPopupTemplateEnabled(e){this.viewModel.defaultPopupTemplateEnabled=e}get content(){return this.viewModel.content}set content(e){this.viewModel.content=e}get currentAlignment(){return this._getCurrentAlignment()}get currentDockPosition(){return this._getCurrentDockPosition()}get dockOptions(){return this._get(\"dockOptions\")||L}set dockOptions(e){const t={...L},i=this.viewModel?.view?.breakpoints,o={};i&&(o.width=i.xsmall,o.height=i.xsmall);const n={...t,...e},s={...t.breakpoint,...o},{breakpoint:r}=n;\"object\"==typeof r?n.breakpoint={...s,...r}:r&&(n.breakpoint=s),this._set(\"dockOptions\",n),this._setCurrentDockPosition(),this.reposition()}get featureCount(){return this.viewModel.featureCount}get featureMenuOpen(){return this.viewModel.featureMenuOpen}set featureMenuOpen(e){this.viewModel.featureMenuOpen=e}get features(){return this.viewModel.features}set features(e){this.viewModel.features=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(e){this.viewModel.highlightEnabled=e}get location(){return this.viewModel.location}set location(e){this.viewModel.location=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get promises(){return this.viewModel.promises}set promises(e){this.viewModel.promises=e}get selectedFeature(){return this.viewModel.selectedFeature}get selectedFeatureIndex(){return this.viewModel.selectedFeatureIndex}set selectedFeatureIndex(e){this.viewModel.selectedFeatureIndex=e}get selectedFeatureWidget(){const{_feature:e,visibleElements:t,headingLevel:i,_flowItems:o}=this,{selectedFeatureViewModel:n}=this.viewModel,s={...t,title:!1};return n?(e?(e.viewModel=n,e.visibleElements=s):this._feature=new m({flowItems:o,headingLevel:i+1,viewModel:n,visibleElements:s}),this._feature):null}get title(){return this.viewModel.title}set title(e){this.viewModel.title=e}get updateLocationEnabled(){return this.viewModel.updateLocationEnabled}set updateLocationEnabled(e){this.viewModel.updateLocationEnabled=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get visible(){return this.viewModel.visible}set visible(e){this.viewModel.visible=e}castVisibleElements(e){return{...j,...e}}blur(){const{active:e}=this.viewModel;e||s.getLogger(this).warn(\"Popup can only be blurred when currently active.\"),this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0,this.scheduleRender()}clear(){return this.viewModel.clear()}close(){this.visible=!1}fetchFeatures(e,t){return this.viewModel.fetchFeatures(e,t)}focus(){const{active:e}=this.viewModel;e||s.getLogger(this).warn(\"Popup can only be focused when currently active.\"),this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0,this.scheduleRender()}next(){return this.viewModel.next()}open(e){this._handles.remove(T);const t=!!e&&!!e.featureMenuOpen,i=!!e&&!!e.actionsMenuOpen,o={collapsed:!!e&&!!e.collapsed,actionsMenuOpen:i,featureMenuOpen:t};\"xsmall\"===this.viewModel?.view?.widthBreakpoint&&(o.collapsed=!0),this.set(o),this.viewModel.open(e),this._shouldFocus(e),this._addSelectedFeatureIndexHandle()}previous(){return this.viewModel.previous()}reposition(){this.renderNow(),this._positionContainer(),this._setCurrentAlignment()}triggerAction(e){return this.viewModel.triggerAction(e)}render(){const{actionsMenuOpen:e,dockEnabled:t,featureMenuVisible:i,dividedActions:o,currentAlignment:n,currentDockPosition:s}=this,{active:r}=this.viewModel,{menuActions:l}=o,a=r&&l.length>1&&e,c=r&&t,u=r&&!t,d=this.selectedFeature?.layer?.title,h=this.selectedFeature?.layer?.id,p={[M.alignTopCenter]:\"top-center\"===n,[M.alignBottomCenter]:\"bottom-center\"===n,[M.alignTopLeft]:\"top-left\"===n,[M.alignBottomLeft]:\"bottom-left\"===n,[M.alignTopRight]:\"top-right\"===n,[M.alignBottomRight]:\"bottom-right\"===n,[M.isDocked]:c,[M.shadow]:u,[M.isDockedTopLeft]:\"top-left\"===s,[M.isDockedTopCenter]:\"top-center\"===s,[M.isDockedTopRight]:\"top-right\"===s,[M.isDockedBottomLeft]:\"bottom-left\"===s,[M.isDockedBottomCenter]:\"bottom-center\"===s,[M.isDockedBottomRight]:\"bottom-right\"===s,[M.isFeatureMenuOpen]:i,[M.isActionsMenuOpen]:a};return O(\"div\",{class:this.classes(M.base,p),role:\"presentation\",\"data-layer-title\":d,\"data-layer-id\":h,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},r?[this.renderMainContainer(),this.renderPointer()]:null)}renderLoadingIcon(){return O(\"span\",{\"aria-hidden\":\"true\",class:this.classes(M.icon,M.iconLoading,M.rotating)})}renderNavigationLoading(){const{messagesCommon:e}=this;return this.viewModel.pendingPromisesCount?O(\"div\",{key:V(\"loading-container\"),role:\"presentation\",class:M.loadingContainer,\"aria-label\":e.loading,title:e.loading},this.renderLoadingIcon()):null}renderPreviousButton(){const{messages:e}=this;return O(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(M.button,M.paginationPrevious),\"aria-label\":e.previous,title:e.previous},O(\"calcite-icon\",{icon:\"chevron-left\",scale:\"s\",class:M.paginationIcon}))}renderNextButton(){const{messages:e}=this;return O(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(M.button,M.paginationNext),\"aria-label\":e.next,title:e.next},O(\"calcite-icon\",{icon:\"chevron-right\",scale:\"s\",class:M.paginationIcon}))}renderFeatureMenuButton(){const{featureMenuOpen:e,featureMenuId:t,messagesCommon:i}=this,{featureCount:o,selectedFeatureIndex:n}=this.viewModel;return O(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:M.featureMenuButton,\"aria-haspopup\":\"true\",\"aria-controls\":t,\"aria-expanded\":e.toString(),\"aria-label\":i.menu,title:i.menu},O(\"calcite-icon\",{icon:\"list-bullet\",scale:\"s\",class:M.featureMenuButtonIcon}),this._getPageText(o,n))}renderNavigationButtons(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNextButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton()]:[]}renderDockIcon(){const{dockEnabled:e}=this,t=this._wouldDockTo(),i={[M.iconUndock]:e,[M.iconDock]:!e,[M.iconDockToRight]:!e&&(\"top-right\"===t||\"bottom-right\"===t),[M.iconDockToLeft]:!e&&(\"top-left\"===t||\"bottom-left\"===t),[M.iconDockToTop]:!e&&\"top-center\"===t,[M.iconDockToBottom]:!e&&\"bottom-center\"===t};return O(\"span\",{\"aria-hidden\":\"true\",class:this.classes(i,M.icon)})}renderDockButton(){const{dockEnabled:e,messages:t}=this,i=this.viewModel?.view?.widthBreakpoint,o=e?t.undock:t.dock;return\"xsmall\"!==i&&this.dockOptions?.buttonEnabled?O(\"div\",{role:\"button\",\"aria-label\":o,title:o,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(M.button,M.buttonDock)},this.renderDockIcon()):null}renderTitle(){const{title:e}=this.viewModel,{titleId:t,collapsible:i,contentCollapsed:o,messagesCommon:n}=this,s={[M.headerContainerButton]:i},r=O(A,{level:this.headingLevel,class:M.headerTitle,innerHTML:e??\"\"}),l=i?O(\"button\",{key:`${e}--collapsible`,id:t,title:o?n.expand:n.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(M.headerContainer,s),\"aria-expanded\":o?\"false\":\"true\",onclick:this._toggleCollapsed,type:\"button\"},r,O(\"calcite-icon\",{class:M.collapseIcon,key:\"collapse-icon\",icon:o?\"chevron-down\":\"chevron-up\",scale:\"m\"})):O(\"div\",{key:e??\"title\",id:t,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(M.headerContainer,s)},r);return e?l:null}renderCloseIcon(){return O(\"span\",{\"aria-hidden\":\"true\",class:this.classes(M.icon,M.iconClose)})}renderCloseButton(){const{visibleElements:e,messagesCommon:t}=this;return e.closeButton?O(\"div\",{role:\"button\",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:M.button,\"aria-label\":t.close,title:t.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null}renderHeader(){return O(\"header\",{class:M.header},this.renderTitle(),O(\"div\",{class:M.headerButtons},this.renderDockButton(),this.renderCloseButton()))}renderContentContainer(){const{contentId:e,hasContent:t,contentCollapsed:i,_flowItems:o}=this,{content:n}=this.viewModel,s=o.toArray(),r={[M.contentHasFlows]:!!s.length};return t&&!i?O(\"div\",{key:n??\"content\",enterAnimation:this._createFeatureUpdatedAnimation(),id:e,class:this.classes(M.content,r)},O(\"calcite-flow\",{bind:this},O(\"calcite-flow-item\",{bind:this,\"data-node-ref\":\"_rootFlowItemNode\",afterCreate:x,key:\"root-flow-item\",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),s.map((e=>this.renderFlowItem(e)))),s.map((e=>this.renderFlowItemTooltips(e)))):null}renderFlowItem(e){const{messages:t}=this,i=B(),o=\"graphic\"in e&&!e.isTable;return O(\"calcite-flow-item\",{bind:this,class:this.classes({[M.calciteThemeDark]:!i,[M.calciteThemeLight]:i}),heading:e.title??\"\",description:this._getFlowItemDescription(e),onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${e.viewModel.uid}`},O(\"calcite-action\",{class:M.actionExit,icon:\"move-up\",label:t?.exitRelatedRecords,text:t?.exitRelatedRecords,slot:\"header-actions-start\",bind:this,afterCreate:t=>this._storeExitRelatedRecordsAction(e,t),onclick:this._destroyFlowItemWidgets}),o?O(\"calcite-action\",{class:M.actionSelectFeature,icon:\"zoom-to-object\",label:t?.selectFeature,text:t?.selectFeature,slot:\"header-actions-end\",bind:this,afterCreate:t=>this._storeFeatureSelectionAction(e,t),onclick:()=>this._handleOpenRelatedFeature(e)}):null,O(\"div\",{class:this.classes(M.contentFlowItem,{[M.calciteThemeDark]:i,[M.calciteThemeLight]:!i})},e.render()))}renderFlowItemTooltips(e){const{messages:t,_exitRelatedRecordsActions:i,_featureSelectionActions:o}=this,n=B(),s=o.get(e);return[O(\"calcite-tooltip\",{class:this.classes({[M.calciteThemeDark]:!n,[M.calciteThemeLight]:n}),key:`exit-related-records-tooltip-${e.viewModel.uid}`,label:t?.exitRelatedRecords,overlayPositioning:\"fixed\",referenceElement:i.get(e),placement:\"top\"},t?.exitRelatedRecords),s?O(\"calcite-tooltip\",{class:this.classes({[M.calciteThemeDark]:!n,[M.calciteThemeLight]:n}),key:`select-related-record-tooltip-${e.viewModel.uid}`,label:t?.selectFeature,overlayPositioning:\"fixed\",referenceElement:s,placement:\"top\"},t?.selectFeature):null]}renderActionsMenuButton(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o,messagesCommon:n}=this,s=i?n.close:n.open,{menuActions:r}=o;return r.length?O(\"div\",{key:V(\"actions-menu-button\"),class:this.classes(M.button,M.actionsMenuButton),role:\"button\",id:t,\"aria-haspopup\":\"true\",\"aria-controls\":i?e:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,\"aria-label\":s,title:s},O(\"span\",{\"aria-hidden\":\"true\",class:M.iconActionsMenu})):null}renderMenuActions(){const{actionsMenuId:e,actionsMenuButtonId:t,actionsMenuOpen:i,dividedActions:o}=this,{menuActions:n}=o;return n.length&&i?O(\"ul\",{id:e,role:\"menu\",\"aria-labelledby\":t,key:V(\"actions\"),class:M.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},n.toArray().map((e=>this.renderAction({action:e,type:\"menu-item\"})))):null}renderInlineActions(){const{inlineActions:e}=this.dividedActions;return e.length?e.toArray().map((e=>this.renderAction({action:e,type:\"inline\"}))):[]}renderInlineActionsContainer(){const{inlineActions:e,menuActions:t}=this.dividedActions,i=!!e.length,o=!!t.length;return i||o?O(\"div\",{key:\"inline-actions-container\",\"data-inline-actions\":i.toString(),\"data-menu-actions\":o.toString(),class:M.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null}renderNavigation(){return this.featureNavigationVisible?O(\"section\",{key:V(\"navigation\"),class:this.classes(M.navigation)},this.renderNavigationButtons()):null}renderFooter(){const{featureNavigationVisible:e,dividedActions:t}=this,{inlineActions:i,menuActions:o}=t,n=!!i.length,s=!!o.length,r={[M.footerHasPagination]:e,[M.footerHasActions]:n,[M.footerHasActionsMenu]:s};return e||n?O(\"div\",{key:V(\"feature-buttons\"),class:this.classes(M.footer,r)},this.renderInlineActionsContainer(),this.renderNavigation()):null}renderFeatureMenuContainer(){const{messages:e}=this,{featureViewModels:t,isLoadingFeature:i}=this.viewModel,o=P(e.selectedFeatures,{total:t.length});return O(\"section\",{key:V(\"menu\"),class:M.featureMenu},O(\"strong\",{class:M.featureMenuHeader},o),O(\"nav\",{bind:this,class:M.featureMenuViewport,\"data-node-ref\":\"_featureMenuViewportNode\",afterCreate:x},this.renderFeatureMenu(),O(\"div\",{class:M.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),i?O(\"div\",{class:M.featureMenuLoader},this.renderLoadingIcon()):null))}renderPointer(){return this.dockEnabled?null:O(\"div\",{key:V(\"pointer\"),class:M.pointer,role:\"presentation\"},O(\"div\",{class:this.classes(M.pointerDirection,M.shadow)}))}renderMainContainer(){const{dockEnabled:e,currentAlignment:t,currentDockPosition:i,titleId:o,contentId:n,collapsible:s,hasContent:r,contentCollapsed:l,visibleElements:a}=this,{title:c}=this.viewModel,u=\"bottom-left\"===t||\"bottom-center\"===t||\"bottom-right\"===t||\"top-left\"===i||\"top-center\"===i||\"top-right\"===i,d=\"top-left\"===t||\"top-center\"===t||\"top-right\"===t||\"bottom-left\"===i||\"bottom-center\"===i||\"bottom-right\"===i,h={[M.shadow]:e,[M.isCollapsible]:s,[M.isCollapsed]:l};return O(\"div\",{class:this.classes(M.main,M.widget,h),tabIndex:a.closeButton?void 0:-1,role:\"dialog\",\"aria-live\":\"polite\",\"aria-labelledby\":c?o:\"\",\"aria-describedby\":r&&!l?n:\"\",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,afterUpdate:this._mainContainerNodeUpdated},u?this.renderFooter():null,u?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),d?this.renderFooter():null,d?this.renderFeatureMenuContainer():null)}renderContent(){const e=this.viewModel?.content;return e?\"string\"==typeof e?O(\"div\",{class:_.contentNode,key:e,innerHTML:e}):this.renderNodeContent(e):null}renderActionText(e){return O(\"span\",{key:\"text\",class:M.actionText},e)}renderActionCalciteIcon(e,t){return O(\"calcite-icon\",{scale:\"s\",key:`calcite-icon-${t}`,icon:e,class:M.icon})}renderActionIcon(e){const t=this._getActionClass(e),i=this._getActionImage(e),o={[M.iconLoading]:e.active,[M.rotating]:e.active,[M.icon]:!!t,[M.actionImage]:!e.active&&!!i};return t&&(o[t]=!e.active),O(\"span\",{key:\"icon\",\"aria-hidden\":\"true\",class:this.classes(M.icon,o),styles:this._getIconStyles(i)})}renderAction(e){const{action:t,type:i}=e,o=this._getActionTitle(t),n={[M.action]:\"toggle\"!==t.type,[M.actionToggle]:\"toggle\"===t.type,[M.actionToggleOn]:\"toggle\"===t.type&&t.value,[M.buttonDisabled]:t.disabled},s=[t.icon&&!t.active?this.renderActionCalciteIcon(t.icon,t.uid):this.renderActionIcon(t),this.renderActionText(o)],r=\"menu-item\"===i?O(\"li\",{key:t.uid,role:\"menuitem\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(M.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s):O(\"div\",{key:t.uid,role:\"button\",tabIndex:0,title:o,\"aria-label\":o,class:this.classes(M.button,n),onkeyup:this._handleActionMenuItemKeyup,bind:this,\"data-action-uid\":t.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},s);return t.visible?r:null}renderFeatureMenuItem(e,t){const{messages:i,messagesCommon:o}=this,{selectedFeatureIndex:n,selectedFeatureViewModel:s}=this.viewModel,r=e===s,l={[M.featureMenuSelected]:r},a=r?O(\"span\",{key:V(`feature-menu-selected-feature-${n}`),title:i.selectedFeature,\"aria-label\":i.selectedFeature,class:M.iconCheckMark}):null,c=O(\"span\",{innerHTML:e.title||o.untitled});return O(\"li\",{role:\"menuitem\",tabIndex:-1,key:V(`feature-menu-feature-${n}`),class:this.classes(l,M.featureMenuItem),bind:this,\"data-feature-index\":t,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},O(\"span\",{class:M.featureMenuTitle},c,a))}renderFeatureMenu(){const{featureMenuId:e}=this,{featureViewModels:t}=this.viewModel;return t.length>1?O(\"ol\",{class:M.featureMenuList,id:e,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:\"menu\"},t.filter((e=>!!e.graphic)).map(((e,t)=>this.renderFeatureMenuItem(e,t)))):null}_storeFeatureSelectionAction(e,t){this._featureSelectionActions.set(e,t),this.scheduleRender()}_storeExitRelatedRecordsAction(e,t){this._exitRelatedRecordsActions.set(e,t),this.scheduleRender()}_getFlowItemDescription(e){return\"featureCountDescription\"in e?e.featureCountDescription:e.viewModel.description??\"\"}async _openRelatedFeature(e){await e.viewModel.updateGeometry();const t=e.graphic,i=t?.geometry;if(null==i||null==t)return;this._destroyFlowItemWidgets(),await this.viewModel.zoomTo({target:i});const o=b(i);this.open({features:[t],location:null!=o?o:void 0})}_destroyFlowItemWidgets(){this._flowItems.removeAll().forEach((e=>{\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e.viewModel=null,e.destroy()}))}_handleBackClick(){const e=this._flowItems.pop();e&&(this._exitRelatedRecordsActions.delete(e),this._featureSelectionActions.delete(e),\"showAllEnabled\"in e.viewModel&&(e.viewModel.showAllEnabled=!1),e&&(e.viewModel=null,e.destroy()))}_getActionTitle(e){const{messages:t,selectedFeature:i,messagesCommon:o}=this,{id:n}=e,s=i?.attributes,r=e.title??\"\",l=\"zoom-to-feature\"===n?P(r,{messages:t}):\"remove-selected-feature\"===n?P(r,{messages:o}):\"zoom-to-clustered-features\"===n||\"browse-clustered-features\"===n?P(r,{messages:t}):e.title;return l&&s?P(l,s):l??\"\"}_getActionClass(e){const{selectedFeature:t}=this,i=t?.attributes,{className:o,image:n}=e,s=n||o?o:M.iconDefaultAction;return s&&i?P(s,i):s??\"\"}_getActionImage(e){if(e.active)return\"\";const{selectedFeature:t}=this,i=t?.attributes,{image:o}=e;return o&&i?P(o,i):o??\"\"}_createFeatureUpdatedAnimation(){return E(\"enter\",M.hasFeatureUpdated)}_getInlineActionCount(){const{maxInlineActions:e,featureNavigationVisible:t}=this;if(\"number\"!=typeof e)return null;const i=Math.round(e);return Math.max(t?i-1:i,0)}_watchActions(){const{allActions:e}=this.viewModel;this.notifyChange(\"dividedActions\");const t=\"actions\";this._handles.remove(t),e&&e.forEach((e=>{this._handles.add(r((()=>[e.uid,e.active,e.className,e.disabled,e.id,e.title,e.image,e.visible]),(()=>this.scheduleRender())),t)}))}_divideActions(){const{allActions:e}=this.viewModel,i=e.filter((e=>e.visible)),o=this._getInlineActionCount(),n=null===o,s=0===o;return{inlineActions:n?i.slice(0):s?new t:i.slice(0,o),menuActions:n?new t:s?i.slice(0):i.slice(o)}}_featureMenuOpenChanged(e){e?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0}_actionsMenuOpenChanged(e){e?this._focusFirstAction=!0:this._focusActionsMenuButton=!0}_setTitleFromFeatureWidget(){const{selectedFeatureWidget:e,messagesCommon:t}=this;e&&(this.viewModel.title=\"error\"===e.viewModel?.state?t.errorMessage:e.viewModel?.title||\"\")}_setContentFromFeatureWidget(){const{selectedFeatureWidget:e}=this;e&&(this.viewModel.content=e)}_unobserveFeatureMenuObserver(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)}_featureMenuIntersectionObserverCreated(e){this._unobserveFeatureMenuObserver(),this._featureMenuIntersectionObserver.observe(e),this._featureMenuIntersectionObserverNode=e}_handleFeatureMenuKeyup(e){\"Escape\"===o(e)&&(e.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())}_handleActionMenuKeyup(e){\"Escape\"===o(e)&&(e.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())}_setActiveFeature(e){const{viewModel:t}=this,i=W(e.currentTarget);t.activeFeature=t.features[i]||null}_removeActiveFeature(){this.viewModel.activeFeature=null}_handleFeatureMenuItemKeyup(e){const t=o(e),{_featureMenuNode:i}=this,n=W(e.currentTarget);if(!i)return;const s=i.querySelectorAll(\"li\"),r=s.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();s[s.length-1].focus()}else{e.stopPropagation();s[0].focus()}else{e.stopPropagation();s[(n+1+r)%r].focus()}else{e.stopPropagation();s[(n-1+r)%r].focus()}}_handleActionMenuItemKeyup(e){const t=o(e),{_actionsMenuNode:i}=this,n=e.currentTarget.dataset.actionUid,{menuActions:s}=this.dividedActions,r=s.findIndex((e=>e.uid===n));if(!i)return;const l=i.querySelectorAll(\"li\"),a=l.length;if(\"ArrowUp\"!==t)if(\"ArrowDown\"!==t)if(\"Home\"!==t)if(\"End\"!==t);else{e.stopPropagation();l[l.length-1].focus()}else{e.stopPropagation();l[0].focus()}else{e.stopPropagation();l[(r+1+a)%a].focus()}else{e.stopPropagation();l[(r-1+a)%a].focus()}}_handleMainKeyup(e){const t=o(e);\"ArrowLeft\"===t&&(e.stopPropagation(),this.previous()),\"ArrowRight\"===t&&(e.stopPropagation(),this.next())}_spinnerEnabledChange(e){if(this._destroySpinner(),!e)return;const t=this.get(\"viewModel.view\");this._createSpinner(t)}_hideSpinner(){const{_spinner:e}=this;e&&(e.location=null,e.hide())}_displaySpinner(){const{_spinner:e}=this;if(!e)return;const{location:t,waitingForResult:i}=this.viewModel;i&&t?e.show({location:t}):e.hide()}_getIconStyles(e){return{\"background-image\":e?`url(${e})`:\"\"}}async _shouldFocus(e){e?.shouldFocus&&(await c((()=>!0===this.viewModel?.active)),this.focus())}_addSelectedFeatureIndexHandle(){const e=r((()=>this.viewModel?.selectedFeatureIndex),((e,t)=>this._selectedFeatureIndexUpdated(e,t)));this._handles.add(e,T)}_selectedFeatureIndexUpdated(e,t){const{featureCount:i}=this;i&&e!==t&&-1!==e&&(this._destroyFlowItemWidgets(),this.actionsMenuOpen=!1,this.featureMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))}_destroySelectedFeatureWidget(){const{_feature:e}=this;e&&(e.viewModel=null,e&&!e.destroyed&&e.destroy()),this._feature=null}_isScreenLocationWithinView(e,t){return e.x>-1&&e.y>-1&&e.x<=t.width&&e.y<=t.height}_isOutsideView(e){const{popupHeight:t,popupWidth:i,screenLocation:o,side:n,view:s}=e;if(isNaN(i)||isNaN(t)||!s||!o)return!1;const r=s.padding;return\"right\"===n&&o.x+i/2>s.width-r.right||(\"left\"===n&&o.x-i/2<r.left||(\"top\"===n&&o.y-t<r.top||\"bottom\"===n&&o.y+t>s.height-r.bottom))}_calculateAutoAlignment(e){if(\"auto\"!==e)return e;const{_pointerOffsetInPx:t,_containerNode:i,_mainContainerNode:o,viewModel:n}=this,{screenLocation:s,view:r}=n;if(null==s||!r||!i)return\"top-center\";if(!this._isScreenLocationWithinView(s,r))return this._get(\"currentAlignment\")||\"top-center\";function l(e){return parseInt(e.replaceAll(/[^-\\d\\.]/g,\"\"),10)}const a=o?window.getComputedStyle(o,null):null,c=a?l(a.getPropertyValue(\"max-height\")):0,u=a?l(a.getPropertyValue(\"height\")):0,{height:d,width:h}=i.getBoundingClientRect(),p=h+t,g=Math.max(d,c,u)+t,m=this._isOutsideView({popupHeight:g,popupWidth:p,screenLocation:s,side:\"right\",view:r}),v=this._isOutsideView({popupHeight:g,popupWidth:p,screenLocation:s,side:\"left\",view:r}),f=this._isOutsideView({popupHeight:g,popupWidth:p,screenLocation:s,side:\"top\",view:r}),_=this._isOutsideView({popupHeight:g,popupWidth:p,screenLocation:s,side:\"bottom\",view:r});return v?f?\"bottom-right\":\"top-right\":m?f?\"bottom-left\":\"top-left\":f?_?\"top-center\":\"bottom-center\":\"top-center\"}_callCurrentAlignment(e){return\"function\"==typeof e?e.call(this):e}_getCurrentAlignment(){const{alignment:e,dockEnabled:t}=this;return t||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(e)))}_setCurrentAlignment(){this._set(\"currentAlignment\",this._getCurrentAlignment())}_setCurrentDockPosition(){this._set(\"currentDockPosition\",this._getCurrentDockPosition())}_calculatePositionResult(e){const t=[\"left\",\"right\"];return N(this.container)&&t.reverse(),e?.replace(/leading/gi,t[0]).replaceAll(/trailing/gi,t[1])}_callDockPosition(e){return\"function\"==typeof e?e.call(this):e}_getDockPosition(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))}_getCurrentDockPosition(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null}_wouldDockTo(){return this.dockEnabled?null:this._getDockPosition()}_calculateAutoDockPosition(e){if(\"auto\"!==e)return e;const t=this.viewModel?.view,i=N(this.container)?\"top-left\":\"top-right\";if(!t)return i;const o=t.padding||{left:0,right:0,top:0,bottom:0},n=t.width-o.left-o.right,{breakpoints:s}=t;return s&&n<=s.xsmall?\"bottom-center\":i}_positionContainer(e=this._containerNode){if(e&&(this._containerNode=e),!this._containerNode)return;const{screenLocation:t}=this.viewModel,{width:i}=this._containerNode.getBoundingClientRect(),o=this._calculatePositionStyle(t,i);o&&Object.assign(this._containerNode.style,o)}_calculateFullWidth(e){const{currentAlignment:t,_pointerOffsetInPx:i}=this;return\"top-left\"===t||\"bottom-left\"===t||\"top-right\"===t||\"bottom-right\"===t?e+i:e}_calculateAlignmentPosition(e,t,i,o){const{currentAlignment:n,_pointerOffsetInPx:s}=this;if(!i)return;const{padding:r}=i,l=o/2,a=i.height-t,c=i.width-e;return\"bottom-center\"===n?{top:t+s-r.top,left:e-l-r.left}:\"top-left\"===n?{bottom:a+s-r.bottom,right:c+s-r.right}:\"bottom-left\"===n?{top:t+s-r.top,right:c+s-r.right}:\"top-right\"===n?{bottom:a+s-r.bottom,left:e+s-r.left}:\"bottom-right\"===n?{top:t+s-r.top,left:e+s-r.left}:\"top-center\"===n?{bottom:a+s-r.bottom,left:e-l-r.left}:void 0}_calculatePositionStyle(e,t){const{dockEnabled:i,view:o}=this;if(!o)return;if(i)return{left:\"\",top:\"\",right:\"\",bottom:\"\"};if(null==e||!t)return;const n=this._calculateFullWidth(t),s=this._calculateAlignmentPosition(e.x,e.y,o,n);return s?{top:void 0!==s.top?`${s.top}px`:\"auto\",left:void 0!==s.left?`${s.left}px`:\"auto\",bottom:void 0!==s.bottom?`${s.bottom}px`:\"auto\",right:void 0!==s.right?`${s.right}px`:\"auto\"}:void 0}_viewChange(e,t){e&&t&&(this.close(),this.clear())}_viewReadyChange(e,t){if(e){const e=this.get(\"viewModel.view\");this._wireUpView(e)}else t&&(this.close(),this.clear())}_wireUpView(e){if(this._destroySpinner(),!e)return;const{spinnerEnabled:t}=this;t&&this._createSpinner(e),this._setDockEnabledForViewSize(this.dockOptions)}_dockingThresholdCrossed(e,t,i){const[o,n]=e,[s,r]=t,{width:l=0,height:a=0}=i??{};return o<=l&&s>l||o>l&&s<=l||n<=a&&r>a||n>a&&r<=a}_updateDockEnabledForViewSize(e,t){if(!e||!t)return;const i=this.get(\"viewModel.view.padding\")||{left:0,right:0,top:0,bottom:0},o=i.left+i.right,n=i.top+i.bottom,s=[],r=[];s[0]=e[0]-o,s[1]=e[1]-n,r[0]=t[0]-o,r[1]=t[1]-n;const{dockOptions:l}=this,a=l.breakpoint;this._dockingThresholdCrossed(s,r,a)&&this._setDockEnabledForViewSize(l),this._setCurrentDockPosition()}_focusDockButtonNode(e){this._focusDockButton&&(this._focusDockButton=!1,e.focus())}_closeButtonNodeUpdated(e){return this._focusClose?(this._focusClose=!1,void e.focus()):this._blurClose?(this._blurClose=!1,void e.blur()):void 0}_mainContainerNodeUpdated(e){return this._mainContainerNode=e,this._focusContainer?(this._focusContainer=!1,void e.focus()):this._blurContainer?(this._blurContainer=!1,void e.blur()):void 0}_featureMenuNodeUpdated(e){if(this._featureMenuNode=e,!e||!this._focusFirstFeature)return;this._focusFirstFeature=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_actionsMenuNodeUpdated(e){if(this._actionsMenuNode=e,!e||!this._focusFirstAction)return;this._focusFirstAction=!1;const t=e.querySelectorAll(\"li\");if(t.length){t[0].focus()}}_focusFeatureMenuButtonNode(e){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,e.focus())}_focusActionsMenuButtonNode(e){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,e.focus())}_featureMenuViewportScrollTop(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)}_toggleScreenLocationEnabled(){const{dockEnabled:e,viewModel:t}=this;if(!t)return;const i=t.active&&!e;t.screenLocationEnabled=i}_shouldDockAtCurrentViewSize(e){const t=e.breakpoint,i=this.viewModel?.view?.ui;if(!i)return!1;const{width:o,height:n}=i;if(isNaN(o)||isNaN(n))return!1;if(!t)return!1;const s=t.hasOwnProperty(\"width\")&&o<=(t.width??0),r=t.hasOwnProperty(\"height\")&&n<=(t.height??0);return s||r}_setDockEnabledForViewSize(e){e.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(e))}_getPageText(e,t){return this.featureNavigationVisible?P(this.messages.pageText,{index:t+1,total:e}):null}_destroySpinner(){this._spinner&&(this.view?.ui?.remove(this._spinner,S),this._spinner.destroy(),this._spinner=null)}_createSpinner(e){e&&(this._spinner=new v({view:e}),e.ui.add(this._spinner,{key:S,position:\"manual\",internal:!0}))}_toggleCollapsed(){this.collapsed=!this.collapsed}_close(){this.close(),this.view&&this.view.focus()}_toggleDockEnabled(){this.dockEnabled=!this.dockEnabled,this._focusDockButton=!0,this.scheduleRender()}_toggleFeatureMenu(){const e=!this.featureMenuOpen;this._featureMenuOpenChanged(e),this.actionsMenuOpen=!1,this.featureMenuOpen=e}_toggleActionsMenu(){const e=!this.actionsMenuOpen;this._actionsMenuOpenChanged(e),this.featureMenuOpen=!1,this.actionsMenuOpen=e}_triggerAction(e){const t=e.currentTarget.dataset.actionUid,{allActions:i}=this.viewModel,o=i.findIndex((e=>e.uid===t)),n=i.at(o);n&&\"toggle\"===n.type&&(n.value=!n.value),this.actionsMenuOpen=!1,this.viewModel.triggerAction(o)}_selectFeature(e){const t=W(e.currentTarget);null==t||isNaN(t)||(this.viewModel.selectedFeatureIndex=t),this.featureMenuOpen=!1,this._focusFeatureMenuButton=!0,this.scheduleRender()}_next(){this.next()}_previous(){this.previous()}};function W(e){return e?.[\"data-feature-index\"]}e([h({readOnly:!0})],U.prototype,\"actionsMenuId\",null),e([h({readOnly:!0})],U.prototype,\"actionsMenuButtonId\",null),e([h({readOnly:!0})],U.prototype,\"featureMenuId\",null),e([h({readOnly:!0})],U.prototype,\"titleId\",null),e([h({readOnly:!0})],U.prototype,\"contentId\",null),e([h({readOnly:!0})],U.prototype,\"hasContent\",null),e([h({readOnly:!0})],U.prototype,\"featureNavigationVisible\",null),e([h({readOnly:!0})],U.prototype,\"collapsible\",null),e([h({readOnly:!0})],U.prototype,\"featureMenuVisible\",null),e([h({readOnly:!0})],U.prototype,\"contentCollapsed\",null),e([h({readOnly:!0})],U.prototype,\"dividedActions\",null),e([h({readOnly:!0,dependsOn:[\"_flowItems.length\"]})],U.prototype,\"_activeFlowItemWidget\",null),e([h()],U.prototype,\"actions\",null),e([h()],U.prototype,\"actionsMenuOpen\",null),e([h()],U.prototype,\"alignment\",void 0),e([h()],U.prototype,\"autoCloseEnabled\",null),e([h()],U.prototype,\"autoOpenEnabled\",null),e([h()],U.prototype,\"defaultPopupTemplateEnabled\",null),e([h()],U.prototype,\"content\",null),e([h()],U.prototype,\"collapsed\",void 0),e([h()],U.prototype,\"collapseEnabled\",void 0),e([h({readOnly:!0})],U.prototype,\"currentAlignment\",null),e([h({readOnly:!0})],U.prototype,\"currentDockPosition\",null),e([h()],U.prototype,\"dockOptions\",null),e([h()],U.prototype,\"dockEnabled\",void 0),e([h({readOnly:!0})],U.prototype,\"featureCount\",null),e([h()],U.prototype,\"featureMenuOpen\",null),e([h()],U.prototype,\"features\",null),e([h()],U.prototype,\"goToOverride\",null),e([h()],U.prototype,\"headingLevel\",void 0),e([h()],U.prototype,\"highlightEnabled\",null),e([h()],U.prototype,\"location\",null),e([h()],U.prototype,\"label\",null),e([h()],U.prototype,\"maxInlineActions\",void 0),e([h(),C(\"esri/widgets/Popup/t9n/Popup\")],U.prototype,\"messages\",void 0),e([h(),C(\"esri/t9n/common\")],U.prototype,\"messagesCommon\",void 0),e([h()],U.prototype,\"promises\",null),e([h({readOnly:!0})],U.prototype,\"selectedFeature\",null),e([h()],U.prototype,\"selectedFeatureIndex\",null),e([h({readOnly:!0})],U.prototype,\"selectedFeatureWidget\",null),e([h()],U.prototype,\"spinnerEnabled\",void 0),e([h()],U.prototype,\"title\",null),e([h()],U.prototype,\"updateLocationEnabled\",null),e([h()],U.prototype,\"view\",null),e([h({type:y}),I([\"triggerAction\",\"trigger-action\"])],U.prototype,\"viewModel\",void 0),e([h()],U.prototype,\"visible\",null),e([h()],U.prototype,\"visibleElements\",void 0),e([p(\"visibleElements\")],U.prototype,\"castVisibleElements\",null),e([F()],U.prototype,\"_close\",null),e([F()],U.prototype,\"_toggleDockEnabled\",null),e([F()],U.prototype,\"_toggleFeatureMenu\",null),e([F()],U.prototype,\"_toggleActionsMenu\",null),e([F()],U.prototype,\"_triggerAction\",null),e([F()],U.prototype,\"_selectFeature\",null),e([F()],U.prototype,\"_next\",null),e([F()],U.prototype,\"_previous\",null),U=e([g(\"esri.widgets.Popup\")],U);const H=U;export{H as default};\n"],
  "mappings": "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",
  "names": ["v", "n", "e", "o", "E", "i", "u", "c", "m", "g", "h", "I", "b", "F", "w", "j", "E", "T", "x", "e", "q", "t", "M", "R", "r", "n", "L", "D", "v", "U", "O", "S", "i", "o", "k", "V", "J", "K", "W", "Y", "e", "t", "r", "n", "i", "o", "a", "f", "d", "O", "y", "V", "c", "l", "x", "u", "U", "w", "ue", "s", "p", "se", "g", "T", "W", "m", "f", "l", "u", "t", "e", "s", "a", "i", "c", "r", "o", "h", "y", "e", "i", "p", "a", "v", "y", "w", "A", "k", "F", "e", "t", "a", "l", "n", "s", "i", "r", "o", "d", "c", "m", "h", "u", "b", "f", "p", "B", "y", "t", "c", "i", "n", "t", "s", "a", "c", "o", "m", "r", "p", "n", "c", "e", "t", "y", "l", "d", "c", "e", "t", "B", "l", "n", "i", "y", "h", "p", "a", "m", "t", "l", "r", "e", "q", "o", "y", "h", "n", "c", "l", "e", "r", "y", "p", "l", "m", "o", "e", "s", "t", "L", "y", "i", "c", "n", "s", "a", "e", "p", "r", "t", "n", "l", "i", "o", "f", "u", "m", "e", "t", "n", "l", "s", "i", "r", "o", "p", "a", "y", "c", "e", "s", "c", "n", "a", "o", "r", "n", "l", "i", "s", "e", "u", "f", "c", "o", "h", "n", "l", "r", "t", "e", "a", "u", "s", "i", "c", "r", "e", "o", "t", "a", "l", "p", "g", "h", "e", "l", "t", "r", "b", "i", "o", "a", "n", "c", "f", "d", "m", "e", "t", "r", "y", "s", "j", "h", "g", "F", "o", "i", "I", "S", "w", "l", "u", "p", "b", "T", "R", "n", "a", "$", "U", "I", "v", "m", "t", "e", "i", "o", "r", "a", "s", "k", "l", "n", "p", "d", "c", "U", "h", "u", "M", "A", "g", "x", "_", "C", "T", "N", "L", "F", "y", "g", "w", "I", "A", "y", "x", "C", "T", "b", "R", "e", "t", "M", "i", "r", "a", "l", "n", "s", "o", "d", "m", "p", "h", "u", "f", "_", "c", "v", "j", "n", "s", "o", "c", "e", "p", "l", "r", "t", "u", "a", "i", "f", "g", "y", "d", "m", "w", "j", "a", "m", "t", "e", "n", "M", "l", "o", "r", "s", "i", "f", "p", "d", "h", "u", "c", "y", "C", "c", "u", "e", "t", "C", "l", "n", "s", "o", "j", "p", "y", "m", "L", "n", "r", "i", "o", "e", "a", "s", "R", "F", "t", "I", "f", "p", "R", "e", "t", "S", "e", "B", "e", "n", "r", "i", "o", "a", "f", "m", "i", "s", "a", "e", "t", "l", "r", "o", "U", "F", "L", "n", "d", "u", "y", "h", "p", "C", "b", "g", "_", "B", "q", "A", "w", "w", "b", "f", "y", "F", "e", "t", "q", "s", "i", "r", "l", "a", "n", "h", "_", "e", "a", "H", "z", "J", "K", "W", "s", "m", "e", "t", "l", "i", "M", "r", "o", "c", "n", "a", "p", "q", "C", "d", "u", "h", "se", "R", "$", "F", "g", "U", "y", "Y", "e", "t", "i", "n", "e", "t", "o", "b", "_", "W", "j", "i", "e", "t", "Y", "l", "n", "s", "r", "o", "a", "h", "c", "p", "m", "y", "C", "l", "p", "d", "n", "o", "e", "t", "y", "m", "t", "p", "m", "s", "y", "c", "a", "c", "p", "i", "e", "l", "t", "s", "o", "r", "n", "y", "h", "o", "t", "c", "i", "a", "r", "c", "s", "u", "t", "l", "d", "g", "w", "a", "f", "r", "i", "e", "n", "o", "m", "v", "p", "y", "h", "e", "t", "o", "n", "o", "b", "u", "c", "p", "u", "c", "L", "e", "x", "t", "l", "i", "r", "a", "g", "u", "f", "p", "h", "y", "d", "m", "b", "w", "S", "v", "V", "I", "n", "I", "p", "c", "a", "S", "t", "B", "r", "R", "m", "e", "h", "l", "u", "i", "s", "o", "n", "d", "y", "x", "Y", "b", "G", "T", "D", "S", "L", "R", "V", "e", "t", "j", "U", "i", "G", "l", "a", "n", "o", "s", "r", "C", "c", "u", "d", "h", "p", "W", "g", "m", "v", "f", "_", "y", "H"]
}
