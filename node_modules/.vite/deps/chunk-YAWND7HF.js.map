{
  "version": 3,
  "sources": ["../../@arcgis/core/arcade/ArcadeDate.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{doSubstitutions as e}from\"./executionError.js\";import{IANAZone as t,DateTime as n,Zone as r,FixedOffsetZone as s}from\"luxon\";class i{}var o;i.instance=new t(\"Etc/UTC\"),function(e){e.TimeZoneNotRecognised=\"TimeZoneNotRecognised\"}(o||(o={}));const a={[o.TimeZoneNotRecognised]:\"Timezone identifier has not been recognised.\"};class d extends Error{constructor(t,n){super(e(a[t],n)),this.declaredRootClass=\"esri.arcade.arcadedate.dateerror\",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class c{constructor(e){this._date=e,this.declaredRootClass=\"esri.arcade.arcadedate\"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;let m=0;const h=n.local(e,t).daysInMonth;r<1&&(m=r-1,r=1),r>h&&(m=r-h,r=h);let l=0;t>12?(l=t-12,t=12):t<1&&(l=t-1,t=1);let f=0;i>59?(f=i-59,i=59):i<0&&(f=i,i=0);let w=0;o>59?(w=o-59,o=59):o<0&&(w=o,o=0);let T=0;a>999?(T=a-999,a=999):a<0&&(T=a,a=0);let y=n.fromObject({day:r,year:e,month:t,hour:s,minute:i,second:o,millisecond:a},{zone:u(d)});return 0!==l&&(y=y.plus({months:l})),0!==m&&(y=y.plus({days:m})),0!==f&&(y=y.plus({minutes:f})),0!==w&&(y=y.plus({seconds:w})),0!==T&&(y=y.plus({milliseconds:T})),new c(y)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??\"system\"}static arcadeDateAndZoneToArcadeDate(e,t){const n=u(t);return e.isUnknownTimeZone||n===i.instance?c.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e._date.setZone(t))}static dateJSToArcadeDate(e){return new c(n.fromJSDate(e,{zone:\"system\"}))}static dateJSAndZoneToArcadeDate(e,t=\"system\"){return new c(n.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new c(n.fromMillis(e,{zone:i.instance}))}static unknownDateJSToArcadeDate(e){return new c(n.fromMillis(e.getTime(),{zone:i.instance}))}static epochToArcadeDate(e,t=\"system\"){return new c(n.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new c(e)}clone(){return new c(this._date)}changeTimeZone(e){const t=u(e);return c.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=u(t);return e.zone===i.instance||n===i.instance?c.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e.setZone(n))}static nowToArcadeDate(e){return new c(n.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(n.utc())}get isSystem(){return\"system\"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return\"unknown\";if(\"system\"===this._date.zone.type)return\"system\";const e=this.zone;return\"fixed\"===e.type?0===e.fixed?\"utc\":e.formatOffset(0,\"short\"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new c(this._date.plus(e))}diff(e,t=\"milliseconds\"){return this._date.diff(e._date,t)[t]}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toFormat(e,t){return this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLString(){return\"timestamp '\"+this._date.toFormat(\"yyyy-LL-dd HH:mm:ss\")+\"'\"}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}}function u(e){if(e instanceof r)return e;if(\"system\"===e.toLowerCase())return\"system\";if(\"utc\"===e.toLowerCase())return\"utc\";if(\"unknown\"===e.toLowerCase())return i.instance;if(/^[\\+\\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=s.parseSpecifier(\"UTC\"+(e.startsWith(\"+\")||e.startsWith(\"-\")?\"\":\"+\")+e);if(t)return t}const n=t.create(e);if(!n.isValid)throw new d(o.TimeZoneNotRecognised);return n}export{c as ArcadeDate,d as ArcadeDateError,o as ArcadeDateErrorCodes,a as ArcadeDateErrorMessages,i as UnknownTimeZone,u as createDateTimeZone};\n"],
  "mappings": "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",
  "names": ["i", "o", "a", "d"]
}
