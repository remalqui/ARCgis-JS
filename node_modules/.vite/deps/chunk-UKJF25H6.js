import {
  m,
  y3 as y
} from "./chunk-OYBXMT5R.js";
import {
  a2 as a
} from "./chunk-CIDWM2UN.js";
import {
  e
} from "./chunk-PD5Q7TDW.js";
import {
  f,
  j,
  w
} from "./chunk-HNHXEGH2.js";
import {
  e as e2,
  o
} from "./chunk-DWOEYHKS.js";

// node_modules/@arcgis/core/core/asyncUtils.js
function a2(r, t, o2) {
  return j(r.map((r2, e3) => t.apply(o2, [r2, e3])));
}
async function p(r, t, o2) {
  return (await j(r.map((r2, e3) => t.apply(o2, [r2, e3])))).map((r2) => r2.value);
}
function c(r) {
  return { ok: true, value: r };
}
function h(r) {
  return { ok: false, error: r };
}
function m2(r) {
  return null != r && true === r.ok ? r.value : null;
}
function f2(r) {
  return null != r && false === r.ok ? r.error : null;
}
async function _(r) {
  if (null == r)
    return { ok: false, error: new Error("no promise provided") };
  try {
    return c(await r);
  } catch (t) {
    return h(t);
  }
}
async function b(r) {
  try {
    return c(await r);
  } catch (t) {
    return f(t), h(t);
  }
}
function d(r, t) {
  return new v(r, t);
}
var v = class extends m {
  get value() {
    return m2(this._result);
  }
  get error() {
    return f2(this._result);
  }
  get finished() {
    return null != this._result;
  }
  constructor(r, t) {
    super({}), this._result = null, this._abortHandle = null, this.abort = () => {
      this._abortController = e2(this._abortController);
    }, this.remove = this.abort, this._abortController = new AbortController();
    const { signal: e3 } = this._abortController;
    this.promise = r(e3), this.promise.then((r2) => {
      this._result = c(r2), this._cleanup();
    }, (r2) => {
      this._result = h(r2), this._cleanup();
    }), this._abortHandle = w(t, this.abort);
  }
  normalizeCtorArgs() {
    return {};
  }
  destroy() {
    this.abort();
  }
  _cleanup() {
    this._abortHandle = o(this._abortHandle), this._abortController = null;
  }
};
e([y()], v.prototype, "value", null), e([y()], v.prototype, "error", null), e([y()], v.prototype, "finished", null), e([y()], v.prototype, "promise", void 0), e([y()], v.prototype, "_result", void 0), v = e([a("esri.core.asyncUtils.ReactiveTask")], v);

export {
  a2 as a,
  p,
  _,
  b,
  d
};
//# sourceMappingURL=chunk-UKJF25H6.js.map
