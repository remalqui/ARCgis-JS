import {
  I,
  a2 as a3,
  b,
  e as e2,
  e2 as e3,
  f,
  g,
  h as h2,
  i as i2,
  i2 as i3,
  i3 as i4,
  l as l2,
  n2 as n,
  o,
  o3 as o2,
  r,
  s,
  t as t2,
  y,
  y2
} from "./chunk-CIDWM2UN.js";
import {
  t
} from "./chunk-SHJI4PR4.js";
import {
  $,
  B,
  M,
  S,
  _,
  b as b2,
  d,
  e,
  j as j2,
  k,
  w
} from "./chunk-2YSHZRCT.js";
import {
  C,
  a as a2,
  c
} from "./chunk-HNHXEGH2.js";
import {
  i,
  l,
  p
} from "./chunk-DWOEYHKS.js";
import {
  s2,
  s3
} from "./chunk-W2N7YT6I.js";
import {
  a,
  h,
  j
} from "./chunk-I5JT24BO.js";
import {
  L,
  has
} from "./chunk-I4U7MQNO.js";

// node_modules/@arcgis/core/core/iteratorUtils.js
function n2(n8) {
  const o6 = [];
  return function* () {
    yield* o6;
    for (const t13 of n8)
      o6.push(t13), yield t13;
  };
}
function o3(n8, o6) {
  for (const t13 of n8)
    if (null != t13 && o6(t13))
      return t13;
}
function t3(n8) {
  return null != n8 && "function" == typeof n8[Symbol.iterator];
}

// node_modules/@arcgis/core/core/Handles.js
var t4 = class _t {
  constructor() {
    this._groups = /* @__PURE__ */ new Map();
  }
  destroy() {
    this.removeAll();
  }
  get size() {
    let r5 = 0;
    return this._groups.forEach((e9) => {
      r5 += e9.length;
    }), r5;
  }
  add(e9, t13) {
    if (t3(e9)) {
      const r5 = this._getOrCreateGroup(t13);
      for (const t14 of e9)
        this._isHandle(t14) && r5.push(t14);
    } else if (this._isHandle(e9)) {
      this._getOrCreateGroup(t13).push(e9);
    }
    return this;
  }
  forEach(r5, e9) {
    if ("function" == typeof r5)
      this._groups.forEach((e10) => e10.forEach(r5));
    else {
      const t13 = this._getGroup(r5);
      t13 && e9 && t13.forEach(e9);
    }
  }
  has(r5) {
    return this._groups.has(this._ensureGroupKey(r5));
  }
  remove(e9) {
    if ("string" != typeof e9 && t3(e9)) {
      for (const r5 of e9)
        this.remove(r5);
      return this;
    }
    return this.has(e9) ? (this._removeAllFromGroup(this._getGroup(e9)), this._groups.delete(this._ensureGroupKey(e9)), this) : this;
  }
  removeAll() {
    return this._groups.forEach((r5) => this._removeAllFromGroup(r5)), this._groups.clear(), this;
  }
  _isHandle(r5) {
    return r5 && (!!r5.remove || r5 instanceof _t);
  }
  _getOrCreateGroup(r5) {
    if (this.has(r5))
      return this._getGroup(r5);
    const e9 = [];
    return this._groups.set(this._ensureGroupKey(r5), e9), e9;
  }
  _getGroup(r5) {
    return p(this._groups.get(this._ensureGroupKey(r5)));
  }
  _ensureGroupKey(r5) {
    return r5 || "_default_";
  }
  _removeAllFromGroup(r5) {
    for (const e9 of r5)
      e9 instanceof _t ? e9.removeAll() : e9.remove();
  }
};

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var r2;
!function(e9) {
  e9[e9.DEFAULTS = 0] = "DEFAULTS", e9[e9.COMPUTED = 1] = "COMPUTED", e9[e9.SERVICE = 2] = "SERVICE", e9[e9.PORTAL_ITEM = 3] = "PORTAL_ITEM", e9[e9.WEB_SCENE = 4] = "WEB_SCENE", e9[e9.WEB_MAP = 5] = "WEB_MAP", e9[e9.LINK_CHART = 6] = "LINK_CHART", e9[e9.USER = 7] = "USER";
}(r2 || (r2 = {}));
var t5 = r2.USER + 1;
function n3(e9) {
  switch (e9) {
    case "defaults":
      return r2.DEFAULTS;
    case "service":
      return r2.SERVICE;
    case "portal-item":
      return r2.PORTAL_ITEM;
    case "web-scene":
      return r2.WEB_SCENE;
    case "web-map":
      return r2.WEB_MAP;
    case "link-chart":
      return r2.LINK_CHART;
    case "user":
      return r2.USER;
    default:
      return null;
  }
}
function E(t13) {
  switch (t13) {
    case r2.DEFAULTS:
      return "defaults";
    case r2.SERVICE:
      return "service";
    case r2.PORTAL_ITEM:
      return "portal-item";
    case r2.WEB_SCENE:
      return "web-scene";
    case r2.WEB_MAP:
      return "web-map";
    case r2.LINK_CHART:
      return "link-chart";
    case r2.USER:
      return "user";
  }
  return p(void 0);
}
function c2(e9) {
  return E(e9);
}

// node_modules/@arcgis/core/core/PerformanceSampler.js
var s4 = class {
  constructor(s9, e9 = 30) {
    this.name = s9, this._counter = 0, this._samples = new Array(e9);
  }
  record(s9) {
    null != s9 && (this._samples[++this._counter % this._samples.length] = s9);
  }
  get median() {
    return this._samples.slice().sort((s9, e9) => s9 - e9)[Math.floor(this._samples.length / 2)];
  }
  get average() {
    return this._samples.reduce((s9, e9) => s9 + e9, 0) / this._samples.length;
  }
  get last() {
    return this._samples[this._counter % this._samples.length];
  }
};

// node_modules/@arcgis/core/core/time.js
function n4(n8) {
  return n8;
}

// node_modules/@arcgis/core/core/scheduling.js
var c3 = class {
  constructor(e9) {
    this.phases = e9, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var m = class {
  constructor(e9) {
    this.callback = e9, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var l3 = 0;
var p2 = 0;
var u = { time: n4(0), deltaTime: n4(0), elapsedFrameTime: n4(0), frameDuration: n4(0) };
var f2 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var h3 = [];
var d2 = new l2();
var w2 = class {
  constructor(e9) {
    this._task = e9;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var k2 = { frameTasks: d2, willDispatch: false, clearFrameTasks: j3, dispatch: b3, executeFrameTasks: D };
function v(e9) {
  const r5 = new m(e9);
  return h3.push(r5), k2.willDispatch || (k2.willDispatch = true, t2(b3)), r5;
}
function A(e9) {
  const t13 = new c3(e9);
  return d2.push(t13), null == T && (l3 = performance.now(), T = requestAnimationFrame(x)), new w2(t13);
}
var T = null;
function j3(e9 = false) {
  d2.forAll((e10) => {
    e10.removed = true;
  }), e9 && _2();
}
function x() {
  const e9 = performance.now();
  T = null, T = d2.length > 0 ? requestAnimationFrame(x) : null, k2.executeFrameTasks(e9);
}
function D(e9) {
  const t13 = n4(e9 - l3);
  l3 = e9;
  const r5 = p2 > 0 ? p2 : 1e3 / 60, s9 = Math.max(0, t13 - r5);
  u.time = e9, u.frameDuration = n4(r5 - s9);
  for (let o6 = 0; o6 < f2.length; o6++) {
    const r6 = performance.now(), s10 = f2[o6];
    d2.forAll((r7) => {
      var _a;
      if (r7.paused || r7.removed)
        return;
      0 === o6 && r7.ticks++;
      r7.phases[s10] && (u.elapsedFrameTime = n4(performance.now() - e9), u.deltaTime = 0 === r7.ticks ? n4(0) : t13, (_a = r7.phases[s10]) == null ? void 0 : _a.call(r7, u));
    }), R[o6].record(performance.now() - r6);
  }
  _2(), q.record(performance.now() - e9);
}
var g2 = new l2();
function _2() {
  d2.forAll((e9) => {
    e9.removed && g2.push(e9);
  }), d2.removeUnorderedMany(g2.data, g2.length), g2.clear();
}
function b3() {
  for (; h3.length; ) {
    const t13 = p(h3.shift());
    t13.isActive && t13.callback();
  }
  k2.willDispatch = false;
}
function y3(e9 = 1, r5) {
  const s9 = C(), i8 = () => {
    a2(r5) ? s9.reject(c()) : 0 === e9 ? s9() : (--e9, t2(() => i8()));
  };
  return i8(), s9.promise;
}
var R = f2.map((e9) => new s4(e9));
var q = new s4("total");

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e4(t13, e9) {
  const i8 = "?" === t13[t13.length - 1] ? t13.slice(0, -1) : t13;
  if (null != e9.getItemAt || Array.isArray(e9)) {
    const t14 = parseInt(i8, 10);
    if (!isNaN(t14))
      return Array.isArray(e9) ? e9[t14] : e9.at(t14);
  }
  const u6 = e3(e9);
  return i2(u6, i8) ? u6.get(i8) : e9[i8];
}
function i5(t13, n8, r5) {
  if (null == t13)
    return t13;
  const u6 = e4(n8[r5], t13);
  return !u6 && r5 < n8.length - 1 ? void 0 : r5 === n8.length - 1 ? u6 : i5(u6, n8, r5 + 1);
}
function u2(n8, r5, u6 = 0) {
  return "string" != typeof r5 || r5.includes(".") ? i5(n8, s(r5), u6) : e4(r5, n8);
}
function o4(t13, n8) {
  return u2(t13, n8);
}
function s5(t13, n8) {
  return void 0 !== u2(n8, t13);
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function t6(o6, e9, s9) {
  if (o6 && e9)
    if ("object" == typeof e9)
      for (const r5 of Object.getOwnPropertyNames(e9))
        t6(o6, r5, e9[r5]);
    else {
      if (e9.includes(".")) {
        const n8 = e9.split("."), i9 = n8.splice(n8.length - 1, 1)[0];
        return void t6(o4(o6, n8), i9, s9);
      }
      const i8 = o6.__accessor__;
      null != i8 && n5(e9, i8), o6[e9] = s9;
    }
}
function n5(r5, t13) {
  if (has("esri-unknown-property-errors") && !e5(r5, t13))
    throw new s3("set:unknown-property", s6(r5, t13));
}
function e5(o6, r5) {
  return null != r5.metadatas[o6];
}
function s6(o6, r5) {
  return "setting unknown property '" + o6 + "' on instance of " + r5.host.declaredClass;
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function y4(n8 = {}) {
  return (o6, s9) => {
    if (o6 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o6.name}.${s9}. Accessor does not support static properties.`);
    const i8 = Object.getOwnPropertyDescriptor(o6, s9), a5 = o2(o6, s9);
    i8 && (i8.get || i8.set ? (a5.get = i8.get || a5.get, a5.set = i8.set || a5.set) : "value" in i8 && ("value" in n8 && s2.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s9}" on "${o6.constructor.name}" already defined in the metadata`, n8), a5.value = n8.value = i8.value)), null != n8.readOnly && (a5.readOnly = n8.readOnly);
    const p5 = n8.aliasOf;
    if (p5) {
      const t13 = "string" == typeof p5 ? p5 : p5.source, e9 = "string" == typeof p5 ? null : true === p5.overridable;
      let r5;
      a5.dependsOn = [t13], a5.get = function() {
        let e10 = o4(this, t13);
        if ("function" == typeof e10) {
          r5 || (r5 = t13.split(".").slice(0, -1).join("."));
          const n9 = o4(this, r5);
          n9 && (e10 = e10.bind(n9));
        }
        return e10;
      }, a5.readOnly || (a5.set = e9 ? function(t14) {
        this._override(s9, t14);
      } : function(e10) {
        t6(this, t13, e10);
      });
    }
    const u6 = n8.type, c5 = n8.types;
    a5.cast || (u6 ? a5.cast = h4(u6) : c5 && (Array.isArray(c5) ? a5.cast = b2(S(c5[0])) : a5.cast = S(c5))), n(a5, n8), n8.range && (a5.cast = j4(a5.cast, n8.range));
  };
}
function d3(t13, e9, r5) {
  const n8 = o2(t13, r5);
  n8.json || (n8.json = {});
  let o6 = n8.json;
  return void 0 !== e9 && (o6.origins || (o6.origins = {}), o6.origins[e9] || (o6.origins[e9] = {}), o6 = o6.origins[e9]), o6;
}
function h4(t13) {
  let e9 = 0, r5 = t13;
  if (_(t13))
    return B(t13);
  for (; Array.isArray(r5) && 1 === r5.length && "string" != typeof r5[0] && "number" != typeof r5[0]; )
    r5 = r5[0], e9++;
  const f5 = r5;
  if (k(f5))
    return 0 === e9 ? M(f5) : $(M(f5), e9);
  if (1 === e9)
    return w(f5);
  if (e9 > 1)
    return j2(f5, e9);
  const l6 = t13;
  return l6.from ? l6.from : d(l6);
}
function j4(t13, e9) {
  return (r5) => {
    let n8 = +t13(r5);
    return null != e9.step && (n8 = Math.round(n8 / e9.step) * e9.step), null != e9.min && (n8 = Math.max(e9.min, n8)), null != e9.max && (n8 = Math.min(e9.max, n8)), n8;
  };
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s7 = class {
  constructor(r5, s9) {
    this._observers = r5, this._observer = s9;
  }
  remove() {
    L(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/ObservableBase.js
var r3 = class {
  constructor() {
    this._observers = null, this.destroyed = false;
  }
  observe(e9) {
    if (this.destroyed || e9.destroyed)
      return t7;
    null == this._observers && (this._observers = []);
    const r5 = this._observers;
    let o6 = false, i8 = false;
    const n8 = r5.length;
    for (let s9 = 0; s9 < n8; ++s9) {
      const t13 = r5[s9];
      if (t13.destroyed)
        i8 = true;
      else if (t13 === e9) {
        o6 = true;
        break;
      }
    }
    return o6 || (r5.push(e9), i8 && this._removeDestroyedObservers()), new s7(r5, e9);
  }
  _removeDestroyedObservers() {
    const e9 = this._observers;
    if (!e9 || 0 === e9.length)
      return;
    const s9 = e9.length;
    let r5 = 0;
    for (let t13 = 0; t13 < s9; ++t13) {
      for (; t13 + r5 < s9; ) {
        if (!e9[t13 + r5].destroyed)
          break;
        ++r5;
      }
      if (r5 > 0) {
        if (!(t13 + r5 < s9))
          break;
        e9[t13] = e9[t13 + r5];
      }
    }
    e9.length = s9 - r5;
  }
  destroy() {
    if (this.destroyed)
      return;
    this.destroyed = true;
    const e9 = this._observers;
    if (null != e9) {
      for (const s9 of e9)
        s9.onCommitted();
      this._observers = null;
    }
  }
};
var t7 = e2();

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var a4 = class {
  constructor(t13, e9) {
    this.propertyName = t13, this.metadata = e9, this.observerObject = new l4(), this._accessed = null, this._handles = null, this.observerObject.flags = i3.Dirty | (e9.nonNullable ? i3.NonNullable : 0) | (e9.hasOwnProperty("value") ? i3.HasDefaultValue : 0) | (void 0 === e9.get ? i3.DepTrackingInitialized : 0) | (void 0 === e9.dependsOn ? i3.AutoTracked : 0);
  }
  destroy() {
    this.observerObject.destroy(), this._accessed = null, this._clearObservationHandles();
  }
  getComputed(t13) {
    const a5 = this.observerObject;
    i4(a5);
    const l6 = t13.store, c5 = this.propertyName, h6 = a5.flags, d6 = l6.get(c5);
    if (h6 & i3.Computing)
      return d6;
    if (~h6 & i3.Dirty && l6.has(c5))
      return d6;
    a5.flags |= i3.Computing;
    const g5 = t13.host;
    let f5;
    h6 & i3.AutoTracked ? f5 = f(this, this.metadata.get, g5) : (y2(g5, this), f5 = this.metadata.get.call(g5)), l6.set(c5, f5, r2.COMPUTED);
    const m5 = l6.get(c5);
    return m5 === d6 ? a5.flags &= ~i3.Dirty : g(this.commit, this), a5.flags &= ~i3.Computing, m5;
  }
  onObservableAccessed(t13) {
    if (t13 === this.observerObject)
      return;
    let e9 = this._accessed;
    if (null == e9)
      e9 = [], this._accessed = e9;
    else if (e9.includes(t13))
      return;
    e9.push(t13);
  }
  onTrackingEnd() {
    this._clearObservationHandles();
    const t13 = this.observerObject;
    t13.flags |= i3.DepTrackingInitialized;
    const e9 = this._accessed;
    if (null == e9 || 0 === e9.length)
      return;
    let s9 = this._handles;
    null == s9 && (s9 = [], this._handles = s9);
    for (let i8 = 0; i8 < e9.length; ++i8)
      s9.push(e9[i8].observe(t13));
    e9.length = 0;
  }
  notifyChange() {
    const t13 = this.observerObject;
    t13.onInvalidated(), t13.onCommitted();
  }
  invalidate() {
    this.observerObject.onInvalidated();
  }
  commit() {
    const t13 = this.observerObject;
    t13.flags &= ~i3.Dirty, t13.onCommitted();
  }
  _clearObservationHandles() {
    const t13 = this._handles;
    if (null !== t13) {
      for (let e9 = 0; e9 < t13.length; ++e9)
        t13[e9].remove();
      t13.length = 0;
    }
  }
};
var l4 = class extends r3 {
  constructor() {
    super(...arguments), this.flags = 0;
  }
  onInvalidated() {
    ~this.flags & i3.Overriden && (this.flags |= i3.Dirty);
    const t13 = this._observers;
    if (t13 && t13.length > 0)
      for (const e9 of t13)
        e9.onInvalidated();
  }
  onCommitted() {
    const t13 = this._observers;
    if (t13 && t13.length > 0) {
      const e9 = t13.slice();
      for (const t14 of e9)
        t14.onCommitted();
    }
  }
  destroy() {
    this.flags & i3.Dirty && this.onCommitted(), super.destroy();
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t8 = class _t {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s9) {
    const r5 = new _t();
    return this._values.forEach((t13, i8) => {
      s9 && s9.has(i8) || r5.set(i8, a(t13));
    }), r5;
  }
  get(e9) {
    return this._values.get(e9);
  }
  originOf() {
    return r2.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e9, s9) {
    this._values.set(e9, s9);
  }
  delete(e9) {
    this._values.delete(e9);
  }
  has(e9) {
    return this._values.has(e9);
  }
  forEach(e9) {
    this._values.forEach(e9);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function g3(t13, e9, r5) {
  return void 0 !== t13;
}
function u3(t13, e9, r5, i8) {
  return void 0 !== t13 && (!(null == r5 && t13.observerObject.flags & i3.NonNullable) || (i8.lifecycle, I.INITIALIZING, false));
}
function d4(t13) {
  return t13 && "function" == typeof t13.destroy;
}
s2.getLogger("esri.core.accessorSupport.Properties");
var m2 = class {
  constructor(t13) {
    this.host = t13, this.propertiesByName = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t8(), this._origin = r2.USER;
    const e9 = this.host.constructor.__accessorMetadata__;
    for (const r5 in e9) {
      const t14 = new a4(r5, e9[r5]);
      this.propertiesByName.set(r5, t14);
    }
    this.metadatas = e9;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    this.destroyed = true;
    for (const [t13, e9] of this.propertiesByName) {
      if (e9.metadata.autoDestroy) {
        const r5 = this.internalGet(t13);
        r5 && d4(r5) && (r5.destroy(), ~e9.observerObject.flags & i3.NonNullable && this._internalSet(e9, null));
      }
      e9.destroy();
    }
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t13) {
    const e9 = this.propertiesByName.get(t13);
    if (e9.metadata.get)
      return e9.getComputed(this);
    i4(e9.observerObject);
    const r5 = this.store;
    return r5.has(t13) ? r5.get(t13) : e9.metadata.value;
  }
  originOf(t13) {
    const e9 = this.store.originOf(t13);
    if (void 0 === e9) {
      const e10 = this.propertiesByName.get(t13);
      if (void 0 !== e10 && e10.observerObject.flags & i3.HasDefaultValue)
        return "defaults";
    }
    return E(e9);
  }
  has(t13) {
    return !!this.propertiesByName.has(t13) && this.store.has(t13);
  }
  keys() {
    return [...this.propertiesByName.keys()];
  }
  internalGet(t13) {
    const e9 = this.propertiesByName.get(t13);
    if (g3(e9))
      return this.store.has(t13) ? this.store.get(t13) : e9.metadata.value;
  }
  internalSet(t13, e9) {
    const r5 = this.propertiesByName.get(t13);
    g3(r5) && this._internalSet(r5, e9);
  }
  getDependsInfo(t13, e9, r5) {
    const s9 = this.propertiesByName.get(e9);
    if (!g3(s9))
      return "";
    const o6 = /* @__PURE__ */ new Set(), n8 = f({ onObservableAccessed: (t14) => o6.add(t14), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = s9.metadata.get) == null ? void 0 : _a.call(t13);
    });
    let a5 = `${r5}${t13.declaredClass.split(".").pop()}.${e9}: ${n8}
`;
    if (0 === o6.size)
      return a5;
    r5 += "  ";
    for (const c5 of o6) {
      if (!(c5 instanceof a4))
        continue;
      a5 += `${r5}${c5.propertyName}: undefined
`;
    }
    return a5;
  }
  setAtOrigin(t13, e9, r5) {
    const s9 = this.propertiesByName.get(t13);
    if (g3(s9))
      return this._setAtOrigin(s9, e9, r5);
  }
  isOverridden(t13) {
    const e9 = this.propertiesByName.get(t13);
    return void 0 !== e9 && !!(e9.observerObject.flags & i3.Overriden);
  }
  clearOverride(t13) {
    const e9 = this.propertiesByName.get(t13), r5 = e9 == null ? void 0 : e9.observerObject;
    r5 && r5.flags & i3.Overriden && (r5.flags &= ~i3.Overriden, e9.notifyChange());
  }
  override(t13, e9) {
    const r5 = this.propertiesByName.get(t13);
    if (!u3(r5, t13, e9, this))
      return;
    const s9 = r5.metadata.cast;
    if (s9) {
      const t14 = this._cast(s9, e9), { valid: r6, value: i8 } = t14;
      if (y5.release(t14), !r6)
        return;
      e9 = i8;
    }
    r5.observerObject.flags |= i3.Overriden, this._internalSet(r5, e9);
  }
  set(t13, e9) {
    const r5 = this.propertiesByName.get(t13);
    if (!u3(r5, t13, e9, this))
      return;
    const s9 = r5.metadata.cast;
    if (s9) {
      const t14 = this._cast(s9, e9), { valid: r6, value: i9 } = t14;
      if (y5.release(t14), !r6)
        return;
      e9 = i9;
    }
    const i8 = r5.metadata.set;
    i8 ? i8.call(this.host, e9) : this._internalSet(r5, e9);
  }
  setDefaultOrigin(t13) {
    this._origin = n3(t13);
  }
  getDefaultOrigin() {
    return E(this._origin);
  }
  notifyChange(t13) {
    const e9 = this.propertiesByName.get(t13);
    void 0 !== e9 && e9.notifyChange();
  }
  invalidate(t13) {
    const e9 = this.propertiesByName.get(t13);
    void 0 !== e9 && e9.invalidate();
  }
  commit(t13) {
    const e9 = this.propertiesByName.get(t13);
    void 0 !== e9 && e9.commit();
  }
  _internalSet(t13, e9) {
    const r5 = this.lifecycle !== I.INITIALIZING ? this._origin : r2.DEFAULTS;
    this._setAtOrigin(t13, e9, r5);
  }
  _setAtOrigin(e9, r5, s9) {
    const i8 = this.store, o6 = e9.propertyName;
    i8.has(o6, s9) && j(r5, i8.get(o6)) && ~e9.observerObject.flags & i3.Overriden && s9 === i8.originOf(o6) || (e9.invalidate(), i8.set(o6, r5, s9), e9.commit(), b(this.host, e9));
  }
  _cast(t13, e9) {
    const r5 = y5.acquire();
    return r5.valid = true, r5.value = e9, t13 && (r5.value = t13.call(this.host, e9, r5)), r5;
  }
};
var v2 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var y5 = new e(v2);

// node_modules/@arcgis/core/core/accessorSupport/testSupport.js
var n6;
function t9() {
  return n6;
}

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var t10 = class extends e {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = i(this._set);
  }
  acquire(...e9) {
    const s9 = super.acquire(...e9);
    return this._set.delete(s9), s9;
  }
  release(e9) {
    e9 && !this._set.has(e9) && (super.release(e9), this._set.add(e9));
  }
  _dispose(e9) {
    this._set.delete(e9), super._dispose(e9);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n7(n8, r5) {
  for (const t13 of n8.entries())
    if (r5(t13[0]))
      return true;
  return false;
}

// node_modules/@arcgis/core/core/uid.js
var t11 = 0;
function e6() {
  return ++t11;
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var t12 = class {
  constructor(t13) {
    this._accessed = [], this._handles = [], this._observerObject = new e7(t13), s8.register(this, new WeakRef(this._observerObject), this);
  }
  destroy() {
    var _a;
    s8.unregister(this._observerObject), this._accessed.length = 0, (_a = this._observerObject) == null ? void 0 : _a.destroy(), this.clear();
  }
  onObservableAccessed(t13) {
    const e9 = this._accessed;
    e9.includes(t13) || e9.push(t13);
  }
  onTrackingEnd() {
    const t13 = this._handles, e9 = this._accessed, s9 = this._observerObject;
    for (let i8 = 0; i8 < e9.length; ++i8)
      t13.push(e9[i8].observe(s9));
    e9.length = 0;
  }
  clear() {
    const t13 = this._handles;
    for (let e9 = 0; e9 < t13.length; ++e9)
      t13[e9].remove();
    t13.length = 0;
  }
};
var e7 = class {
  constructor(t13) {
    this._notify = t13, this._invalidCount = 0, this.destroyed = false;
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    if (this.destroyed)
      return;
    const t13 = this._invalidCount;
    if (1 === t13)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = t13 > 0 ? t13 - 1 : 0;
  }
  destroy() {
    this.destroyed = true, this._notify = i6;
  }
};
var s8 = new FinalizationRegistry((t13) => {
  var _a;
  (_a = t13.deref()) == null ? void 0 : _a.destroy();
});
function i6() {
}

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var r4 = false;
var e8 = [];
function o5(e9, o6) {
  let u6 = new t12(s9), l6 = null, f5 = false;
  function s9() {
    if (!u6 || f5)
      return;
    if (r4)
      return void i7(s9);
    const t13 = l6;
    u6.clear(), r4 = true, f5 = true, l6 = f(u6, e9), f5 = false, r4 = false, o6(l6, t13), c4();
  }
  function m5() {
    u6 && (u6.destroy(), u6 = null, l6 = null);
  }
  return f5 = true, l6 = f(u6, e9), f5 = false, { remove: m5 };
}
function u4(r5, e9) {
  let o6 = new t12(l6), u6 = null;
  function l6() {
    e9(u6, c5);
  }
  function i8() {
    o6 && (o6.destroy(), o6 = null), u6 = null;
  }
  function c5() {
    return o6 ? (o6.clear(), u6 = f(o6, r5), u6) : null;
  }
  return c5(), { remove: i8 };
}
function l5(e9) {
  let o6 = new t12(l6), u6 = false;
  function l6() {
    o6 && !u6 && (r4 ? i7(l6) : (o6.clear(), r4 = true, u6 = true, f(o6, e9), u6 = false, r4 = false, c4()));
  }
  function f5() {
    o6 && (o6.destroy(), o6 = null);
  }
  return u6 = true, f(o6, e9), u6 = false, { remove: f5 };
}
function i7(n8) {
  e8.includes(n8) || e8.unshift(n8);
}
function c4() {
  for (; e8.length; )
    e8.pop()();
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h5;
!function(e9) {
  e9[e9.Untracked = 0] = "Untracked", e9[e9.Tracked = 1] = "Tracked";
}(h5 || (h5 = {}));
var f3 = class {
  constructor() {
    this.uid = e6(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e9, r5, o6, l6, i8) {
    return this.pool.acquire(h5.Untracked, e9, r5, o6, l6, i8, j);
  }
  static acquireTracked(e9, t13, r5, o6) {
    return this.pool.acquire(h5.Tracked, e9, t13, r5, null, null, o6);
  }
  notify(e9, t13) {
    this.type === h5.Untracked ? this.callback.call(this.target, e9, t13, this.path, this.target) : this.callback.call(null, e9, t13, void 0, void 0);
  }
  acquire(e9, t13, r5, o6, l6, i8, s9) {
    this.uid = e6(), this.removed = false, this.type = e9, this.oldValue = t13, this.callback = r5, this.getValue = o6, this.target = l6, this.path = i8, this.equals = s9;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e6(), this.removed = true;
  }
};
f3.pool = new t10(f3);
var m3 = new t();
var v3 = /* @__PURE__ */ new Set();
var p3;
function k3(e9) {
  v3.delete(e9), v3.add(e9), p3 || (p3 = v(q2));
}
function _3(e9) {
  if (e9.removed)
    return;
  const t13 = e9.oldValue, r5 = e9.getValue();
  e9.equals(t13, r5) || (e9.oldValue = r5, e9.notify(r5, t13));
}
function g4(e9) {
  for (const t13 of v3.values())
    t13.target === e9 && (t13.removed = true);
}
function q2() {
  let e9 = 10;
  for (; p3 && e9--; ) {
    p3 = null;
    const e10 = j5(), t13 = m3.acquire();
    for (const r5 of e10) {
      const e11 = r5.uid;
      _3(r5), e11 === r5.uid && r5.removed && t13.push(r5);
    }
    for (const r5 of v3)
      r5.removed && (t13.push(r5), v3.delete(r5));
    for (const r5 of t13)
      f3.pool.release(r5);
    m3.release(t13), m3.release(e10), V.forEach((e11) => e11());
  }
}
function j5() {
  const e9 = m3.acquire();
  e9.length = v3.size;
  let t13 = 0;
  for (const r5 of v3)
    e9[t13] = r5, ++t13;
  return v3.clear(), e9;
}
var V = /* @__PURE__ */ new Set();
function y6(e9) {
  return V.add(e9), { remove() {
    V.delete(e9);
  } };
}
function U(e9, t13, r5) {
  let o6 = y(e9, t13, r5, (e10, t14, r6) => {
    let l6, i8, n8 = u4(() => u2(e10, t14), (n9, s9) => {
      e10.__accessor__.destroyed || l6 && l6.uid !== i8 ? o6.remove() : (l6 || (l6 = f3.acquireUntracked(n9, r6, s9, e10, t14), i8 = l6.uid), k3(l6));
    });
    return { remove: h2(() => {
      n8.remove(), l6 && (l6.uid !== i8 || l6.removed || (l6.removed = true, k3(l6)), l6 = null), o6 = n8 = null;
    }) };
  });
  return o6;
}
function b4(e9, r5, o6) {
  const l6 = y(e9, r5, o6, (e10, r6, o7) => {
    let i8 = false;
    return o5(() => u2(e10, r6), (n8, s9) => {
      e10.__accessor__.destroyed ? l6.remove() : i8 || (i8 = true, j(s9, n8) || o7.call(e10, n8, s9, r6, e10), i8 = false);
    });
  });
  return l6;
}
function T2(e9, t13, r5, o6 = false) {
  return !e9.__accessor__ || e9.__accessor__.destroyed ? { remove() {
  } } : o6 ? b4(e9, t13, r5) : U(e9, t13, r5);
}
function w3(e9, t13, r5) {
  let o6, l6, i8 = u4(e9, (e10, n8) => {
    o6 && o6.uid !== l6 ? i8.remove() : (o6 || (o6 = f3.acquireTracked(e10, t13, n8, r5), l6 = o6.uid), k3(o6));
  });
  return { remove: h2(() => {
    i8.remove(), o6 && (o6.uid !== l6 || o6.removed || (o6.removed = true, k3(o6)), o6 = null), i8 = null;
  }) };
}
function S2(e9, t13, r5) {
  let o6 = false;
  return o5(e9, (e10, l6) => {
    o6 || (o6 = true, r5(l6, e10) || t13(e10, l6), o6 = false);
  });
}
function P(e9, t13, o6 = false, l6 = h) {
  return o6 ? S2(e9, t13, l6) : w3(e9, t13, l6);
}
function x2(e9) {
  return n7(v3, (t13) => t13.oldValue === e9);
}

// node_modules/@arcgis/core/core/Accessor.js
var u5;
var p4;
function d5(t13) {
  var _a;
  if (null == t13)
    return { value: t13 };
  if (Array.isArray(t13))
    return { type: [t13[0]], value: null };
  switch (typeof t13) {
    case "object":
      return ((_a = t13.constructor) == null ? void 0 : _a.__accessorMetadata__) || t13 instanceof Date ? { type: t13.constructor, value: t13 } : t13;
    case "boolean":
      return { type: Boolean, value: t13 };
    case "string":
      return { type: String, value: t13 };
    case "number":
      return { type: Number, value: t13 };
    case "function":
      return { type: t13, value: null };
    default:
      return;
  }
}
var y7 = Symbol("Accessor-Handles");
var f4 = Symbol("Accessor-Initialized");
var m4 = class _m {
  static createSubclass(t13 = {}) {
    if (Array.isArray(t13))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: r5, declaredClass: e9, constructor: s9 } = t13;
    delete t13.declaredClass, delete t13.properties, delete t13.constructor;
    const i8 = this;
    class c5 extends i8 {
      constructor(...t14) {
        super(...t14), this.inherited = null, s9 && s9.apply(this, t14);
      }
    }
    r(c5.prototype);
    for (const o6 in t13) {
      const r6 = t13[o6];
      c5.prototype[o6] = "function" == typeof r6 ? function(...t14) {
        const e10 = this.inherited;
        let s10;
        this.inherited = function(...t15) {
          if (i8.prototype[o6])
            return i8.prototype[o6].apply(this, t15);
        };
        try {
          s10 = r6.apply(this, t14);
        } catch (c6) {
          throw this.inherited = e10, c6;
        }
        return this.inherited = e10, s10;
      } : t13[o6];
    }
    for (const o6 in r5) {
      const t14 = d5(r5[o6]);
      y4(t14)(c5.prototype, o6);
    }
    return a3(e9)(c5);
  }
  constructor(...t13) {
    var _a;
    if (this[u5] = null, this[p4] = false, this.constructor === _m)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    const r5 = new m2(this);
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: r5 }), t13.length > 0 && this.normalizeCtorArgs && (r5.ctorArgs = this.normalizeCtorArgs.apply(this, t13)), (_a = t9()) == null ? void 0 : _a.onInstanceConstruct(this), v4.register(this, r5.propertiesByName, this);
  }
  postscript(t13) {
    const r5 = this.__accessor__, e9 = r5.ctorArgs || t13;
    r5.initialize(), e9 && (this.set(e9), r5.ctorArgs = null), r5.constructed(), this.initialize(), this[f4] = true;
  }
  initialize() {
  }
  [o]() {
    this[y7] = l(this[y7]);
  }
  destroy() {
    var _a;
    this.destroyed || (v4.unregister(this), g4(this), this.__accessor__.destroy(), (_a = t9()) == null ? void 0 : _a.onInstanceDestroy(this));
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get initialized() {
    return this[f4];
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t13) {
    this.get(t13);
  }
  get(t13) {
    return o4(this, t13);
  }
  hasOwnProperty(t13) {
    return this.__accessor__ ? this.__accessor__.has(t13) : Object.prototype.hasOwnProperty.call(this, t13);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t13, r5) {
    return t6(this, t13, r5), this;
  }
  watch(t13, r5, e9) {
    return T2(this, t13, r5, e9);
  }
  own(t13) {
    this.addHandles(t13);
  }
  addHandles(r5, e9) {
    if (this.destroyed) {
      const t13 = Array.isArray(r5) ? r5 : [r5];
      for (const r6 of t13)
        r6.remove();
      return;
    }
    let s9 = this[y7];
    null == s9 && (s9 = this[y7] = new t4()), s9.add(r5, e9);
  }
  removeHandles(t13) {
    const r5 = this[y7];
    null != r5 && r5.remove(t13);
  }
  removeAllHandles() {
    const t13 = this[y7];
    null != t13 && t13.removeAll();
  }
  hasHandles(t13) {
    const r5 = this[y7];
    return null != r5 && r5.has(t13);
  }
  _override(t13, r5) {
    void 0 === r5 ? this.__accessor__.clearOverride(t13) : this.__accessor__.override(t13, r5);
  }
  _clearOverride(t13) {
    return this.__accessor__.clearOverride(t13);
  }
  _overrideIfSome(t13, r5) {
    null == r5 ? this.__accessor__.clearOverride(t13) : this.__accessor__.override(t13, r5);
  }
  _isOverridden(t13) {
    return this.__accessor__.isOverridden(t13);
  }
  notifyChange(t13) {
    this.__accessor__.notifyChange(t13);
  }
  _get(t13) {
    return this.__accessor__.internalGet(t13);
  }
  _set(t13, r5) {
    return this.__accessor__.internalSet(t13, r5), this;
  }
};
u5 = y7, p4 = f4;
var v4 = new FinalizationRegistry((t13) => {
  for (const r5 of t13.values())
    r5.destroy();
});

export {
  n2 as n,
  o3 as o,
  t3 as t,
  t4 as t2,
  u2 as u,
  s5 as s,
  r3 as r,
  r2,
  t5 as t3,
  n3 as n2,
  E,
  c2 as c,
  t10 as t4,
  s4 as s2,
  n4 as n3,
  v,
  A,
  y3 as y,
  e6 as e,
  t12 as t5,
  l5 as l,
  y6 as y2,
  P,
  x2 as x,
  y4 as y3,
  d3 as d,
  j4 as j,
  m4 as m
};
//# sourceMappingURL=chunk-OYBXMT5R.js.map
