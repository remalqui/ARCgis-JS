import {
  n,
  r,
  t
} from "./chunk-OMDLZQUU.js";

// node_modules/@arcgis/core/views/webgl/capabilities.js
var s;
var o;
function n2(e) {
  const r2 = r(e);
  for (; r2.length > 1; ) {
    const t2 = l(r2.shift());
    if (t2.available)
      return t2;
  }
  return l(r2.shift());
}
function l(t2) {
  switch (t2) {
    case n.WEBGL1:
      return a();
    case n.WEBGL2:
      return u();
  }
}
function a() {
  return s || (s = E()), s;
}
function u() {
  return o || (o = _()), o;
}
var i = class {
  constructor() {
    this.available = false, this.majorPerformanceCaveat = false, this.maxTextureSize = 0, this.supportsVertexShaderSamplers = false, this.supportsHighPrecisionFragment = false, this.supportsElementIndexUint = false, this.supportsStandardDerivatives = false, this.supportsInstancedArrays = false, this.supportsTextureFloat = false, this.supportsTextureHalfFloat = false, this.supportsColorBufferFloat = false, this.supportsColorBufferFloatBlend = false, this.supportsColorBufferHalfFloat = false;
  }
};
var f = class extends i {
  constructor() {
    super(...arguments), this.type = n.WEBGL1;
  }
};
var p = class extends i {
  constructor() {
    super(...arguments), this.type = n.WEBGL2, this.supportsElementIndexUint = true, this.supportsStandardDerivatives = true, this.supportsInstancedArrays = true, this.supportsTextureFloat = true, this.supportsTextureHalfFloat = true;
  }
};
function c(t2, s2) {
  if (t2 === n.WEBGL1 && "undefined" == typeof WebGLRenderingContext || t2 === n.WEBGL2 && "undefined" == typeof WebGL2RenderingContext)
    return null;
  const o2 = document.createElement("canvas");
  if (!o2)
    return null;
  let n3 = t(o2, t2, { failIfMajorPerformanceCaveat: true });
  if (null == n3 && (n3 = t(o2, t2), null != n3 && (s2.majorPerformanceCaveat = true)), null == n3)
    return n3;
  if (t2 === n.WEBGL1) {
    const t3 = n3.getParameter(n3.VERSION), e = t3 == null ? void 0 : t3.match(/^WebGL\s+([\d.]*)/);
    if (e) {
      const t4 = parseFloat(e[1]);
      s2.available = t4 >= 0.94;
    }
  } else
    s2.available = true;
  s2.maxTextureSize = n3.getParameter(n3.MAX_TEXTURE_SIZE), s2.supportsVertexShaderSamplers = n3.getParameter(n3.MAX_VERTEX_TEXTURE_IMAGE_UNITS) > 0;
  const l2 = n3.getShaderPrecisionFormat(n3.FRAGMENT_SHADER, n3.HIGH_FLOAT);
  return l2 && (s2.supportsHighPrecisionFragment = l2.precision > 0), n3;
}
function E() {
  const t2 = new f(), r2 = c(n.WEBGL1, t2);
  return null == r2 || (t2.supportsElementIndexUint = null !== r2.getExtension("OES_element_index_uint"), t2.supportsStandardDerivatives = null !== r2.getExtension("OES_standard_derivatives"), t2.supportsInstancedArrays = null !== r2.getExtension("ANGLE_instanced_arrays"), t2.supportsTextureFloat = null !== r2.getExtension("OES_texture_float"), t2.supportsTextureHalfFloat = null !== r2.getExtension("OES_texture_half_float"), t2.supportsColorBufferFloat = null !== r2.getExtension("WEBGL_color_buffer_float"), t2.supportsColorBufferFloatBlend = null !== r2.getExtension("EXT_float_blend"), t2.supportsColorBufferHalfFloat = null !== r2.getExtension("EXT_color_buffer_half_float")), t2;
}
function _() {
  const t2 = new p(), r2 = c(n.WEBGL2, t2);
  return null == r2 || (t2.supportsColorBufferFloat = null !== r2.getExtension("EXT_color_buffer_float"), t2.supportsColorBufferFloatBlend = null !== r2.getExtension("EXT_float_blend"), t2.supportsColorBufferHalfFloat = t2.supportsColorBufferFloat || null !== r2.getExtension("EXT_color_buffer_half_float")), t2;
}

export {
  n2 as n
};
//# sourceMappingURL=chunk-KKBQS7Z3.js.map
