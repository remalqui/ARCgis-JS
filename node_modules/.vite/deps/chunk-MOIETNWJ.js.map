{
  "version": 3,
  "sources": ["../../@arcgis/core/portal/PortalQueryParams.js", "../../@arcgis/core/portal/PortalGroup.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Accessor.js\";import{JSONMap as e}from\"../core/jsonMap.js\";import{clone as s}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../geometry/Extent.js\";import n from\"../geometry/SpatialReference.js\";import{project as l}from\"../geometry/support/webMercatorUtils.js\";var u;const p=new e({avgRating:\"avg-rating\",numRatings:\"num-ratings\",numComments:\"num-comments\",numViews:\"num-views\"});let m=u=class extends r{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get(\"sortOrder\")||\"asc\"}set sortOrder(t){\"asc\"!==t&&\"desc\"!==t||this._set(\"sortOrder\",t)}clone(){return new u({categories:this.categories?s(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,r){let e=[];this.categories&&(e=this.categories.map((t=>Array.isArray(t)?JSON.stringify(t):t)));let s=\"\";if(this.extent){const t=l(this.extent,n.WGS84);null!=t&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let o=this.query;!this.disableExtraQuery&&t.extraQuery&&(o=\"(\"+o+\")\"+t.extraQuery);const i={categories:e,bbox:s,q:o,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(i.sortField=this.sortField.split(\",\").map((t=>p.toJSON(t.trim()))).join(\",\"),i.sortOrder=this.sortOrder),{query:{...r,...i}}}};t([o()],m.prototype,\"categories\",void 0),t([o()],m.prototype,\"disableExtraQuery\",void 0),t([o({type:a})],m.prototype,\"extent\",void 0),t([o()],m.prototype,\"filter\",void 0),t([o()],m.prototype,\"num\",void 0),t([o()],m.prototype,\"query\",void 0),t([o()],m.prototype,\"sortField\",void 0),t([o()],m.prototype,\"sortOrder\",null),t([o()],m.prototype,\"start\",void 0),m=u=t([i(\"esri.portal.PortalQueryParams\")],m);const c=m;export{c as default};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{JSONSupport as e}from\"../core/JSONSupport.js\";import{unwrapOrThrow as o}from\"../core/maybe.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{ensureType as n}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./PortalQueryParams.js\";let u=class extends e{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,r=this.thumbnail;return t&&r&&this.portal?this.portal?.normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){const t=this.get(\"portal.restUrl\");return t?t+\"/community/groups/\"+this.id:null}fetchCategorySchema(t){return o(this.portal).request(this.url+\"/categorySchema\",t).then((r=>{const e=r.categorySchema||[];return e.some((t=>\"contentCategorySetsGroupQuery.LivingAtlas\"===t.source))?this._fetchCategorySchemaSet(\"LivingAtlas\",t):e}))}fetchMembers(t){return o(this.portal).request(this.url+\"/users\",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new r(\"internal:not-yet-implemented\",\"PortalGroup.toJSON is not yet implemented\")}queryItems(t,r){let e=n(l,t);const s=o(this.portal);return parseFloat(s.currentVersion)>5?(e=e||new l,s.queryPortal(`/content/groups/${this.id}/search`,e,\"PortalItem\",r)):(e=e?e.clone():new l,e.query=\"group:\"+this.id+(e.query?\" \"+e.query:\"\"),s.queryItems(e,r))}_fetchCategorySchemaSet(t,e){const s=o(this.portal);return s.fetchSelf(s.authMode,!0,e).then((t=>{const o=t.contentCategorySetsGroupQuery;if(o){const t=new l;return t.disableExtraQuery=!0,t.num=1,t.query=o,s.queryGroups(t,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery value not found\")})).then((o=>{if(o.total){const r=o.results[0],s=new l;return s.num=1,s.query=`typekeywords:\"${t}\"`,r.queryItems(s,e)}throw new r(\"portal-group:fetchCategorySchema\",\"contentCategorySetsGroupQuery group not found\")})).then((t=>{if(t.total){return t.results[0].fetchData(\"json\",e).then((t=>{const r=t&&t.categorySchema;return r&&r.length?r:[]}))}return[]}))}};t([s()],u.prototype,\"access\",void 0),t([s({type:Date})],u.prototype,\"created\",void 0),t([s()],u.prototype,\"description\",void 0),t([s()],u.prototype,\"id\",void 0),t([s()],u.prototype,\"isInvitationOnly\",void 0),t([s({type:Date})],u.prototype,\"modified\",void 0),t([s()],u.prototype,\"owner\",void 0),t([s()],u.prototype,\"portal\",void 0),t([s()],u.prototype,\"snippet\",void 0),t([s()],u.prototype,\"sortField\",void 0),t([s()],u.prototype,\"sortOrder\",void 0),t([s()],u.prototype,\"tags\",void 0),t([s()],u.prototype,\"thumbnail\",void 0),t([s({readOnly:!0})],u.prototype,\"thumbnailUrl\",null),t([s()],u.prototype,\"title\",void 0),t([s({readOnly:!0})],u.prototype,\"url\",null),u=t([i(\"esri.portal.PortalGroup\")],u);const p=u;export{p as default};\n"],
  "mappings": "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",
  "names": ["u", "s", "m", "e", "t", "a", "u", "e", "t", "s", "a", "p"]
}
