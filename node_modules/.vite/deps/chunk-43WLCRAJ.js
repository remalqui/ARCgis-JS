import {
  m
} from "./chunk-N5CR6S5Y.js";
import {
  t
} from "./chunk-XKYCNHCM.js";

// node_modules/@arcgis/core/views/webgl/ProgramCache.js
var e = class {
  constructor(r) {
    this._rctx = r, this._store = new t();
  }
  dispose() {
    this._store.forEach((t2) => t2.forEach((t3) => t3.dispose())), this._store.clear();
  }
  acquire(t2, e3, s, o) {
    const c = this._store.get(t2, e3);
    if (null != c)
      return c.ref(), c;
    const h = new m(this._rctx, t2, e3, s, o);
    return h.ref(), this._store.set(t2, e3, h), h;
  }
  get test() {
    let t2 = 0;
    return this._store.forEach((r) => r.forEach((r2) => t2 += r2.hasGLName ? 2 : 1)), { cachedWebGLObjects: t2 };
  }
};

// node_modules/@arcgis/core/views/webgl/programUtils.js
function e2(e3) {
  const { options: n2, value: o } = e3;
  return "number" == typeof n2[o];
}
function n(n2) {
  let o = "";
  for (const t2 in n2) {
    const i = n2[t2];
    if ("boolean" == typeof i)
      i && (o += `#define ${t2}
`);
    else if ("number" == typeof i)
      o += `#define ${t2} ${i.toFixed()}
`;
    else if ("object" == typeof i)
      if (e2(i)) {
        const { value: e3, options: n3, namespace: f } = i, s = f ? `${f}_` : "";
        for (const t3 in n3)
          o += `#define ${s}${t3} ${n3[t3].toFixed()}
`;
        o += `#define ${t2} ${s}${e3}
`;
      } else {
        const e3 = i.options;
        let n3 = 0;
        for (const t3 in e3)
          o += `#define ${e3[t3]} ${(n3++).toFixed()}
`;
        o += `#define ${t2} ${e3[i.value]}
`;
      }
  }
  return o;
}

export {
  e,
  n
};
//# sourceMappingURL=chunk-43WLCRAJ.js.map
